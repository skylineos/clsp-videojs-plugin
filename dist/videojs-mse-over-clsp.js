/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/debug/src/browser.js":
/*!*******************************************!*\
  !*** ./node_modules/debug/src/browser.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(process) {/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\n/**\n * Colors.\n */\n\nexports.colors = ['#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC', '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF', '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC', '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF', '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC', '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033', '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366', '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933', '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC', '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF', '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'];\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n// eslint-disable-next-line complexity\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n    return true;\n  } // Internet Explorer and Edge do not support colors.\n\n\n  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n    return false;\n  } // Is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\n\n  return typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || // Is firebug? http://stackoverflow.com/a/398120/376773\n  typeof window !== 'undefined' && window.console && (window.console.firebug || window.console.exception && window.console.table) || // Is firefox >= v31?\n  // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31 || // Double check webkit in userAgent just in case we are in a worker\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/);\n}\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\n\nfunction formatArgs(args) {\n  args[0] = (this.useColors ? '%c' : '') + this.namespace + (this.useColors ? ' %c' : ' ') + args[0] + (this.useColors ? '%c ' : ' ') + '+' + module.exports.humanize(this.diff);\n\n  if (!this.useColors) {\n    return;\n  }\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit'); // The final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function (match) {\n    if (match === '%%') {\n      return;\n    }\n\n    index++;\n\n    if (match === '%c') {\n      // We only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n  args.splice(lastC, 0, c);\n}\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\n\nfunction log() {\n  var _console;\n\n  // This hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return typeof console === 'object' && console.log && (_console = console).log.apply(_console, arguments);\n}\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\n\nfunction save(namespaces) {\n  try {\n    if (namespaces) {\n      exports.storage.setItem('debug', namespaces);\n    } else {\n      exports.storage.removeItem('debug');\n    }\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\n\nfunction load() {\n  var r;\n\n  try {\n    r = exports.storage.getItem('debug');\n  } catch (error) {} // Swallow\n  // XXX (@Qix-) should we be logging these?\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\n\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = Object({\"NODE_ENV\":\"development\"}).DEBUG;\n  }\n\n  return r;\n}\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\n\nfunction localstorage() {\n  try {\n    // TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n    // The Browser also has localStorage in the global context.\n    return localStorage;\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n\nmodule.exports = __webpack_require__(/*! ./common */ \"./node_modules/debug/src/common.js\")(exports);\nvar formatters = module.exports.formatters;\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n  try {\n    return JSON.stringify(v);\n  } catch (error) {\n    return '[UnexpectedJSONParseError]: ' + error.message;\n  }\n};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../process/browser.js */ \"./node_modules/process/browser.js\")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2Jyb3dzZXIuanM/MzRlYiJdLCJuYW1lcyI6WyJleHBvcnRzIiwibG9nIiwiZm9ybWF0QXJncyIsInNhdmUiLCJsb2FkIiwidXNlQ29sb3JzIiwic3RvcmFnZSIsImxvY2Fsc3RvcmFnZSIsImNvbG9ycyIsIndpbmRvdyIsInByb2Nlc3MiLCJ0eXBlIiwiX19ud2pzIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwidG9Mb3dlckNhc2UiLCJtYXRjaCIsImRvY3VtZW50IiwiZG9jdW1lbnRFbGVtZW50Iiwic3R5bGUiLCJXZWJraXRBcHBlYXJhbmNlIiwiY29uc29sZSIsImZpcmVidWciLCJleGNlcHRpb24iLCJ0YWJsZSIsInBhcnNlSW50IiwiUmVnRXhwIiwiJDEiLCJhcmdzIiwibmFtZXNwYWNlIiwibW9kdWxlIiwiaHVtYW5pemUiLCJkaWZmIiwiYyIsImNvbG9yIiwic3BsaWNlIiwiaW5kZXgiLCJsYXN0QyIsInJlcGxhY2UiLCJuYW1lc3BhY2VzIiwic2V0SXRlbSIsInJlbW92ZUl0ZW0iLCJlcnJvciIsInIiLCJnZXRJdGVtIiwiREVCVUciLCJsb2NhbFN0b3JhZ2UiLCJyZXF1aXJlIiwiZm9ybWF0dGVycyIsImoiLCJ2IiwiSlNPTiIsInN0cmluZ2lmeSIsIm1lc3NhZ2UiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBOzs7QUFJQUEsT0FBTyxDQUFDQyxHQUFSLEdBQWNBLEdBQWQ7QUFDQUQsT0FBTyxDQUFDRSxVQUFSLEdBQXFCQSxVQUFyQjtBQUNBRixPQUFPLENBQUNHLElBQVIsR0FBZUEsSUFBZjtBQUNBSCxPQUFPLENBQUNJLElBQVIsR0FBZUEsSUFBZjtBQUNBSixPQUFPLENBQUNLLFNBQVIsR0FBb0JBLFNBQXBCO0FBQ0FMLE9BQU8sQ0FBQ00sT0FBUixHQUFrQkMsWUFBWSxFQUE5QjtBQUVBOzs7O0FBSUFQLE9BQU8sQ0FBQ1EsTUFBUixHQUFpQixDQUNoQixTQURnQixFQUVo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RCxTQUFPRixDQUFQO0FBQ0E7QUFFRDs7Ozs7Ozs7Ozs7O0FBV0EsU0FBU3BDLFlBQVQsR0FBd0I7QUFDdkIsTUFBSTtBQUNIO0FBQ0E7QUFDQSxXQUFPdUMsWUFBUDtBQUNBLEdBSkQsQ0FJRSxPQUFPSixLQUFQLEVBQWMsQ0FDZjtBQUNBO0FBQ0E7QUFDRDs7QUFFRFosTUFBTSxDQUFDOUIsT0FBUCxHQUFpQitDLG1CQUFPLENBQUMsb0RBQUQsQ0FBUCxDQUFvQi9DLE9BQXBCLENBQWpCO0lBRU9nRCxVLEdBQWNsQixNQUFNLENBQUM5QixPLENBQXJCZ0QsVTtBQUVQOzs7O0FBSUFBLFVBQVUsQ0FBQ0MsQ0FBWCxHQUFlLFVBQVVDLENBQVYsRUFBYTtBQUMzQixNQUFJO0FBQ0gsV0FBT0MsSUFBSSxDQUFDQyxTQUFMLENBQWVGLENBQWYsQ0FBUDtBQUNBLEdBRkQsQ0FFRSxPQUFPUixLQUFQLEVBQWM7QUFDZixXQUFPLGlDQUFpQ0EsS0FBSyxDQUFDVyxPQUE5QztBQUNBO0FBQ0QsQ0FORCxDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2RlYnVnL3NyYy9icm93c2VyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWVudiBicm93c2VyICovXG5cbi8qKlxuICogVGhpcyBpcyB0aGUgd2ViIGJyb3dzZXIgaW1wbGVtZW50YXRpb24gb2YgYGRlYnVnKClgLlxuICovXG5cbmV4cG9ydHMubG9nID0gbG9nO1xuZXhwb3J0cy5mb3JtYXRBcmdzID0gZm9ybWF0QXJncztcbmV4cG9ydHMuc2F2ZSA9IHNhdmU7XG5leHBvcnRzLmxvYWQgPSBsb2FkO1xuZXhwb3J0cy51c2VDb2xvcnMgPSB1c2VDb2xvcnM7XG5leHBvcnRzLnN0b3JhZ2UgPSBsb2NhbHN0b3JhZ2UoKTtcblxuLyoqXG4gKiBDb2xvcnMuXG4gKi9cblxuZXhwb3J0cy5jb2xvcnMgPSBbXG5cdCcjMDAwMENDJyxcblx0JyMwMDAwRkYnLFxuXHQnIzAwMzNDQycsXG5cdCcjMDAzM0ZGJyxcblx0JyMwMDY2Q0MnLFxuXHQnIzAwNjZGRicsXG5cdCcjMDA5OUNDJyxcblx0JyMwMDk5RkYnLFxuXHQnIzAwQ0MwMCcsXG5cdCcjMDBDQzMzJyxcblx0JyMwMENDNjYnLFxuXHQnIzAwQ0M5OScsXG5cdCcjMDBDQ0NDJyxcblx0JyMwMENDRkYnLFxuXHQnIzMzMDBDQycsXG5cdCcjMzMwMEZGJyxcblx0JyMzMzMzQ0MnLFxuXHQnIzMzMzNGRicsXG5cdCcjMzM2NkNDJyxcblx0JyMzMzY2RkYnLFxuXHQnIzMzOTlDQycsXG5cdCcjMzM5OUZGJyxcblx0JyMzM0NDMDAnLFxuXHQnIzMzQ0MzMycsXG5cdCcjMzNDQzY2Jyxcblx0JyMzM0NDOTknLFxuXHQnIzMzQ0NDQycsXG5cdCcjMzNDQ0ZGJyxcblx0JyM2NjAwQ0MnLFxuXHQnIzY2MDBGRicsXG5cdCcjNjYzM0NDJyxcblx0JyM2NjMzRkYnLFxuXHQnIzY2Q0MwMCcsXG5cdCcjNjZDQzMzJyxcblx0JyM5OTAwQ0MnLFxuXHQnIzk5MDBGRicsXG5cdCcjOTkzM0NDJyxcblx0JyM5OTMzRkYnLFxuXHQnIzk5Q0MwMCcsXG5cdCcjOTlDQzMzJyxcblx0JyNDQzAwMDAnLFxuXHQnI0NDMDAzMycsXG5cdCcjQ0MwMDY2Jyxcblx0JyNDQzAwOTknLFxuXHQnI0NDMDBDQycsXG5cdCcjQ0MwMEZGJyxcblx0JyNDQzMzMDAnLFxuXHQnI0NDMzMzMycsXG5cdCcjQ0MzMzY2Jyxcblx0JyNDQzMzOTknLFxuXHQnI0NDMzNDQycsXG5cdCcjQ0MzM0ZGJyxcblx0JyNDQzY2MDAnLFxuXHQnI0NDNjYzMycsXG5cdCcjQ0M5OTAwJyxcblx0JyNDQzk5MzMnLFxuXHQnI0NDQ0MwMCcsXG5cdCcjQ0NDQzMzJyxcblx0JyNGRjAwMDAnLFxuXHQnI0ZGMDAzMycsXG5cdCcjRkYwMDY2Jyxcblx0JyNGRjAwOTknLFxuXHQnI0ZGMDBDQycsXG5cdCcjRkYwMEZGJyxcblx0JyNGRjMzMDAnLFxuXHQnI0ZGMzMzMycsXG5cdCcjRkYzMzY2Jyxcblx0JyNGRjMzOTknLFxuXHQnI0ZGMzNDQycsXG5cdCcjRkYzM0ZGJyxcblx0JyNGRjY2MDAnLFxuXHQnI0ZGNjYzMycsXG5cdCcjRkY5OTAwJyxcblx0JyNGRjk5MzMnLFxuXHQnI0ZGQ0MwMCcsXG5cdCcjRkZDQzMzJ1xuXTtcblxuLyoqXG4gKiBDdXJyZW50bHkgb25seSBXZWJLaXQtYmFzZWQgV2ViIEluc3BlY3RvcnMsIEZpcmVmb3ggPj0gdjMxLFxuICogYW5kIHRoZSBGaXJlYnVnIGV4dGVuc2lvbiAoYW55IEZpcmVmb3ggdmVyc2lvbikgYXJlIGtub3duXG4gKiB0byBzdXBwb3J0IFwiJWNcIiBDU1MgY3VzdG9taXphdGlvbnMuXG4gKlxuICogVE9ETzogYWRkIGEgYGxvY2FsU3RvcmFnZWAgdmFyaWFibGUgdG8gZXhwbGljaXRseSBlbmFibGUvZGlzYWJsZSBjb2xvcnNcbiAqL1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29tcGxleGl0eVxuZnVuY3Rpb24gdXNlQ29sb3JzKCkge1xuXHQvLyBOQjogSW4gYW4gRWxlY3Ryb24gcHJlbG9hZCBzY3JpcHQsIGRvY3VtZW50IHdpbGwgYmUgZGVmaW5lZCBidXQgbm90IGZ1bGx5XG5cdC8vIGluaXRpYWxpemVkLiBTaW5jZSB3ZSBrbm93IHdlJ3JlIGluIENocm9tZSwgd2UnbGwganVzdCBkZXRlY3QgdGhpcyBjYXNlXG5cdC8vIGV4cGxpY2l0bHlcblx0aWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5wcm9jZXNzICYmICh3aW5kb3cucHJvY2Vzcy50eXBlID09PSAncmVuZGVyZXInIHx8IHdpbmRvdy5wcm9jZXNzLl9fbndqcykpIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdC8vIEludGVybmV0IEV4cGxvcmVyIGFuZCBFZGdlIGRvIG5vdCBzdXBwb3J0IGNvbG9ycy5cblx0aWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC8oZWRnZXx0cmlkZW50KVxcLyhcXGQrKS8pKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0Ly8gSXMgd2Via2l0PyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xNjQ1OTYwNi8zNzY3NzNcblx0Ly8gZG9jdW1lbnQgaXMgdW5kZWZpbmVkIGluIHJlYWN0LW5hdGl2ZTogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0LW5hdGl2ZS9wdWxsLzE2MzJcblx0cmV0dXJuICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLldlYmtpdEFwcGVhcmFuY2UpIHx8XG5cdFx0Ly8gSXMgZmlyZWJ1Zz8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMzk4MTIwLzM3Njc3M1xuXHRcdCh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuY29uc29sZSAmJiAod2luZG93LmNvbnNvbGUuZmlyZWJ1ZyB8fCAod2luZG93LmNvbnNvbGUuZXhjZXB0aW9uICYmIHdpbmRvdy5jb25zb2xlLnRhYmxlKSkpIHx8XG5cdFx0Ly8gSXMgZmlyZWZveCA+PSB2MzE/XG5cdFx0Ly8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9Ub29scy9XZWJfQ29uc29sZSNTdHlsaW5nX21lc3NhZ2VzXG5cdFx0KHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9maXJlZm94XFwvKFxcZCspLykgJiYgcGFyc2VJbnQoUmVnRXhwLiQxLCAxMCkgPj0gMzEpIHx8XG5cdFx0Ly8gRG91YmxlIGNoZWNrIHdlYmtpdCBpbiB1c2VyQWdlbnQganVzdCBpbiBjYXNlIHdlIGFyZSBpbiBhIHdvcmtlclxuXHRcdCh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvYXBwbGV3ZWJraXRcXC8oXFxkKykvKSk7XG59XG5cbi8qKlxuICogQ29sb3JpemUgbG9nIGFyZ3VtZW50cyBpZiBlbmFibGVkLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gZm9ybWF0QXJncyhhcmdzKSB7XG5cdGFyZ3NbMF0gPSAodGhpcy51c2VDb2xvcnMgPyAnJWMnIDogJycpICtcblx0XHR0aGlzLm5hbWVzcGFjZSArXG5cdFx0KHRoaXMudXNlQ29sb3JzID8gJyAlYycgOiAnICcpICtcblx0XHRhcmdzWzBdICtcblx0XHQodGhpcy51c2VDb2xvcnMgPyAnJWMgJyA6ICcgJykgK1xuXHRcdCcrJyArIG1vZHVsZS5leHBvcnRzLmh1bWFuaXplKHRoaXMuZGlmZik7XG5cblx0aWYgKCF0aGlzLnVzZUNvbG9ycykge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdGNvbnN0IGMgPSAnY29sb3I6ICcgKyB0aGlzLmNvbG9yO1xuXHRhcmdzLnNwbGljZSgxLCAwLCBjLCAnY29sb3I6IGluaGVyaXQnKTtcblxuXHQvLyBUaGUgZmluYWwgXCIlY1wiIGlzIHNvbWV3aGF0IHRyaWNreSwgYmVjYXVzZSB0aGVyZSBjb3VsZCBiZSBvdGhlclxuXHQvLyBhcmd1bWVudHMgcGFzc2VkIGVpdGhlciBiZWZvcmUgb3IgYWZ0ZXIgdGhlICVjLCBzbyB3ZSBuZWVkIHRvXG5cdC8vIGZpZ3VyZSBvdXQgdGhlIGNvcnJlY3QgaW5kZXggdG8gaW5zZXJ0IHRoZSBDU1MgaW50b1xuXHRsZXQgaW5kZXggPSAwO1xuXHRsZXQgbGFzdEMgPSAwO1xuXHRhcmdzWzBdLnJlcGxhY2UoLyVbYS16QS1aJV0vZywgbWF0Y2ggPT4ge1xuXHRcdGlmIChtYXRjaCA9PT0gJyUlJykge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRpbmRleCsrO1xuXHRcdGlmIChtYXRjaCA9PT0gJyVjJykge1xuXHRcdFx0Ly8gV2Ugb25seSBhcmUgaW50ZXJlc3RlZCBpbiB0aGUgKmxhc3QqICVjXG5cdFx0XHQvLyAodGhlIHVzZXIgbWF5IGhhdmUgcHJvdmlkZWQgdGhlaXIgb3duKVxuXHRcdFx0bGFzdEMgPSBpbmRleDtcblx0XHR9XG5cdH0pO1xuXG5cdGFyZ3Muc3BsaWNlKGxhc3RDLCAwLCBjKTtcbn1cblxuLyoqXG4gKiBJbnZva2VzIGBjb25zb2xlLmxvZygpYCB3aGVuIGF2YWlsYWJsZS5cbiAqIE5vLW9wIHdoZW4gYGNvbnNvbGUubG9nYCBpcyBub3QgYSBcImZ1bmN0aW9uXCIuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuZnVuY3Rpb24gbG9nKC4uLmFyZ3MpIHtcblx0Ly8gVGhpcyBoYWNrZXJ5IGlzIHJlcXVpcmVkIGZvciBJRTgvOSwgd2hlcmVcblx0Ly8gdGhlIGBjb25zb2xlLmxvZ2AgZnVuY3Rpb24gZG9lc24ndCBoYXZlICdhcHBseSdcblx0cmV0dXJuIHR5cGVvZiBjb25zb2xlID09PSAnb2JqZWN0JyAmJlxuXHRcdGNvbnNvbGUubG9nICYmXG5cdFx0Y29uc29sZS5sb2coLi4uYXJncyk7XG59XG5cbi8qKlxuICogU2F2ZSBgbmFtZXNwYWNlc2AuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZXNcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBzYXZlKG5hbWVzcGFjZXMpIHtcblx0dHJ5IHtcblx0XHRpZiAobmFtZXNwYWNlcykge1xuXHRcdFx0ZXhwb3J0cy5zdG9yYWdlLnNldEl0ZW0oJ2RlYnVnJywgbmFtZXNwYWNlcyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGV4cG9ydHMuc3RvcmFnZS5yZW1vdmVJdGVtKCdkZWJ1ZycpO1xuXHRcdH1cblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHQvLyBTd2FsbG93XG5cdFx0Ly8gWFhYIChAUWl4LSkgc2hvdWxkIHdlIGJlIGxvZ2dpbmcgdGhlc2U/XG5cdH1cbn1cblxuLyoqXG4gKiBMb2FkIGBuYW1lc3BhY2VzYC5cbiAqXG4gKiBAcmV0dXJuIHtTdHJpbmd9IHJldHVybnMgdGhlIHByZXZpb3VzbHkgcGVyc2lzdGVkIGRlYnVnIG1vZGVzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gbG9hZCgpIHtcblx0bGV0IHI7XG5cdHRyeSB7XG5cdFx0ciA9IGV4cG9ydHMuc3RvcmFnZS5nZXRJdGVtKCdkZWJ1ZycpO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdC8vIFN3YWxsb3dcblx0XHQvLyBYWFggKEBRaXgtKSBzaG91bGQgd2UgYmUgbG9nZ2luZyB0aGVzZT9cblx0fVxuXG5cdC8vIElmIGRlYnVnIGlzbid0IHNldCBpbiBMUywgYW5kIHdlJ3JlIGluIEVsZWN0cm9uLCB0cnkgdG8gbG9hZCAkREVCVUdcblx0aWYgKCFyICYmIHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiAnZW52JyBpbiBwcm9jZXNzKSB7XG5cdFx0ciA9IHByb2Nlc3MuZW52LkRFQlVHO1xuXHR9XG5cblx0cmV0dXJuIHI7XG59XG5cbi8qKlxuICogTG9jYWxzdG9yYWdlIGF0dGVtcHRzIHRvIHJldHVybiB0aGUgbG9jYWxzdG9yYWdlLlxuICpcbiAqIFRoaXMgaXMgbmVjZXNzYXJ5IGJlY2F1c2Ugc2FmYXJpIHRocm93c1xuICogd2hlbiBhIHVzZXIgZGlzYWJsZXMgY29va2llcy9sb2NhbHN0b3JhZ2VcbiAqIGFuZCB5b3UgYXR0ZW1wdCB0byBhY2Nlc3MgaXQuXG4gKlxuICogQHJldHVybiB7TG9jYWxTdG9yYWdlfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gbG9jYWxzdG9yYWdlKCkge1xuXHR0cnkge1xuXHRcdC8vIFRWTUxLaXQgKEFwcGxlIFRWIEpTIFJ1bnRpbWUpIGRvZXMgbm90IGhhdmUgYSB3aW5kb3cgb2JqZWN0LCBqdXN0IGxvY2FsU3RvcmFnZSBpbiB0aGUgZ2xvYmFsIGNvbnRleHRcblx0XHQvLyBUaGUgQnJvd3NlciBhbHNvIGhhcyBsb2NhbFN0b3JhZ2UgaW4gdGhlIGdsb2JhbCBjb250ZXh0LlxuXHRcdHJldHVybiBsb2NhbFN0b3JhZ2U7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Ly8gU3dhbGxvd1xuXHRcdC8vIFhYWCAoQFFpeC0pIHNob3VsZCB3ZSBiZSBsb2dnaW5nIHRoZXNlP1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9jb21tb24nKShleHBvcnRzKTtcblxuY29uc3Qge2Zvcm1hdHRlcnN9ID0gbW9kdWxlLmV4cG9ydHM7XG5cbi8qKlxuICogTWFwICVqIHRvIGBKU09OLnN0cmluZ2lmeSgpYCwgc2luY2Ugbm8gV2ViIEluc3BlY3RvcnMgZG8gdGhhdCBieSBkZWZhdWx0LlxuICovXG5cbmZvcm1hdHRlcnMuaiA9IGZ1bmN0aW9uICh2KSB7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIEpTT04uc3RyaW5naWZ5KHYpO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiAnW1VuZXhwZWN0ZWRKU09OUGFyc2VFcnJvcl06ICcgKyBlcnJvci5tZXNzYWdlO1xuXHR9XG59O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/debug/src/browser.js\n");

/***/ }),

/***/ "./node_modules/debug/src/common.js":
/*!******************************************!*\
  !*** ./node_modules/debug/src/common.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\nfunction setup(env) {\n  createDebug.debug = createDebug;\n  createDebug[\"default\"] = createDebug;\n  createDebug.coerce = coerce;\n  createDebug.disable = disable;\n  createDebug.enable = enable;\n  createDebug.enabled = enabled;\n  createDebug.humanize = __webpack_require__(/*! ms */ \"./node_modules/ms/index.js\");\n  Object.keys(env).forEach(function (key) {\n    createDebug[key] = env[key];\n  });\n  /**\n  * Active `debug` instances.\n  */\n\n  createDebug.instances = [];\n  /**\n  * The currently active debug mode names, and names to skip.\n  */\n\n  createDebug.names = [];\n  createDebug.skips = [];\n  /**\n  * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n  *\n  * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n  */\n\n  createDebug.formatters = {};\n  /**\n  * Selects a color for a debug namespace\n  * @param {String} namespace The namespace string for the for the debug instance to be colored\n  * @return {Number|String} An ANSI color code for the given namespace\n  * @api private\n  */\n\n  function selectColor(namespace) {\n    var hash = 0;\n\n    for (var i = 0; i < namespace.length; i++) {\n      hash = (hash << 5) - hash + namespace.charCodeAt(i);\n      hash |= 0; // Convert to 32bit integer\n    }\n\n    return createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n  }\n\n  createDebug.selectColor = selectColor;\n  /**\n  * Create a debugger with the given `namespace`.\n  *\n  * @param {String} namespace\n  * @return {Function}\n  * @api public\n  */\n\n  function createDebug(namespace) {\n    var prevTime;\n\n    function debug() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      // Disabled?\n      if (!debug.enabled) {\n        return;\n      }\n\n      var self = debug; // Set `diff` timestamp\n\n      var curr = Number(new Date());\n      var ms = curr - (prevTime || curr);\n      self.diff = ms;\n      self.prev = prevTime;\n      self.curr = curr;\n      prevTime = curr;\n      args[0] = createDebug.coerce(args[0]);\n\n      if (typeof args[0] !== 'string') {\n        // Anything else let's inspect with %O\n        args.unshift('%O');\n      } // Apply any `formatters` transformations\n\n\n      var index = 0;\n      args[0] = args[0].replace(/%([a-zA-Z%])/g, function (match, format) {\n        // If we encounter an escaped % then don't increase the array index\n        if (match === '%%') {\n          return match;\n        }\n\n        index++;\n        var formatter = createDebug.formatters[format];\n\n        if (typeof formatter === 'function') {\n          var val = args[index];\n          match = formatter.call(self, val); // Now we need to remove `args[index]` since it's inlined in the `format`\n\n          args.splice(index, 1);\n          index--;\n        }\n\n        return match;\n      }); // Apply env-specific formatting (colors, etc.)\n\n      createDebug.formatArgs.call(self, args);\n      var logFn = self.log || createDebug.log;\n      logFn.apply(self, args);\n    }\n\n    debug.namespace = namespace;\n    debug.enabled = createDebug.enabled(namespace);\n    debug.useColors = createDebug.useColors();\n    debug.color = selectColor(namespace);\n    debug.destroy = destroy;\n    debug.extend = extend; // Debug.formatArgs = formatArgs;\n    // debug.rawLog = rawLog;\n    // env-specific initialization logic for debug instances\n\n    if (typeof createDebug.init === 'function') {\n      createDebug.init(debug);\n    }\n\n    createDebug.instances.push(debug);\n    return debug;\n  }\n\n  function destroy() {\n    var index = createDebug.instances.indexOf(this);\n\n    if (index !== -1) {\n      createDebug.instances.splice(index, 1);\n      return true;\n    }\n\n    return false;\n  }\n\n  function extend(namespace, delimiter) {\n    var newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n    newDebug.log = this.log;\n    return newDebug;\n  }\n  /**\n  * Enables a debug mode by namespaces. This can include modes\n  * separated by a colon and wildcards.\n  *\n  * @param {String} namespaces\n  * @api public\n  */\n\n\n  function enable(namespaces) {\n    createDebug.save(namespaces);\n    createDebug.names = [];\n    createDebug.skips = [];\n    var i;\n    var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n    var len = split.length;\n\n    for (i = 0; i < len; i++) {\n      if (!split[i]) {\n        // ignore empty strings\n        continue;\n      }\n\n      namespaces = split[i].replace(/\\*/g, '.*?');\n\n      if (namespaces[0] === '-') {\n        createDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n      } else {\n        createDebug.names.push(new RegExp('^' + namespaces + '$'));\n      }\n    }\n\n    for (i = 0; i < createDebug.instances.length; i++) {\n      var instance = createDebug.instances[i];\n      instance.enabled = createDebug.enabled(instance.namespace);\n    }\n  }\n  /**\n  * Disable debug output.\n  *\n  * @return {String} namespaces\n  * @api public\n  */\n\n\n  function disable() {\n    var namespaces = [].concat(_toConsumableArray(createDebug.names.map(toNamespace)), _toConsumableArray(createDebug.skips.map(toNamespace).map(function (namespace) {\n      return '-' + namespace;\n    }))).join(',');\n    createDebug.enable('');\n    return namespaces;\n  }\n  /**\n  * Returns true if the given mode name is enabled, false otherwise.\n  *\n  * @param {String} name\n  * @return {Boolean}\n  * @api public\n  */\n\n\n  function enabled(name) {\n    if (name[name.length - 1] === '*') {\n      return true;\n    }\n\n    var i;\n    var len;\n\n    for (i = 0, len = createDebug.skips.length; i < len; i++) {\n      if (createDebug.skips[i].test(name)) {\n        return false;\n      }\n    }\n\n    for (i = 0, len = createDebug.names.length; i < len; i++) {\n      if (createDebug.names[i].test(name)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n  /**\n  * Convert regexp to namespace\n  *\n  * @param {RegExp} regxep\n  * @return {String} namespace\n  * @api private\n  */\n\n\n  function toNamespace(regexp) {\n    return regexp.toString().substring(2, regexp.toString().length - 2).replace(/\\.\\*\\?$/, '*');\n  }\n  /**\n  * Coerce `val`.\n  *\n  * @param {Mixed} val\n  * @return {Mixed}\n  * @api private\n  */\n\n\n  function coerce(val) {\n    if (val instanceof Error) {\n      return val.stack || val.message;\n    }\n\n    return val;\n  }\n\n  createDebug.enable(createDebug.load());\n  return createDebug;\n}\n\nmodule.exports = setup;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2NvbW1vbi5qcz9kYzkwIl0sIm5hbWVzIjpbInNldHVwIiwiZW52IiwiY3JlYXRlRGVidWciLCJkZWJ1ZyIsImNvZXJjZSIsImRpc2FibGUiLCJlbmFibGUiLCJlbmFibGVkIiwiaHVtYW5pemUiLCJyZXF1aXJlIiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJrZXkiLCJpbnN0YW5jZXMiLCJuYW1lcyIsInNraXBzIiwiZm9ybWF0dGVycyIsInNlbGVjdENvbG9yIiwibmFtZXNwYWNlIiwiaGFzaCIsImkiLCJsZW5ndGgiLCJjaGFyQ29kZUF0IiwiY29sb3JzIiwiTWF0aCIsImFicyIsInByZXZUaW1lIiwiYXJncyIsInNlbGYiLCJjdXJyIiwiTnVtYmVyIiwiRGF0ZSIsIm1zIiwiZGlmZiIsInByZXYiLCJ1bnNoaWZ0IiwiaW5kZXgiLCJyZXBsYWNlIiwibWF0Y2giLCJmb3JtYXQiLCJmb3JtYXR0ZXIiLCJ2YWwiLCJjYWxsIiwic3BsaWNlIiwiZm9ybWF0QXJncyIsImxvZ0ZuIiwibG9nIiwiYXBwbHkiLCJ1c2VDb2xvcnMiLCJjb2xvciIsImRlc3Ryb3kiLCJleHRlbmQiLCJpbml0IiwicHVzaCIsImluZGV4T2YiLCJkZWxpbWl0ZXIiLCJuZXdEZWJ1ZyIsIm5hbWVzcGFjZXMiLCJzYXZlIiwic3BsaXQiLCJsZW4iLCJSZWdFeHAiLCJzdWJzdHIiLCJpbnN0YW5jZSIsIm1hcCIsInRvTmFtZXNwYWNlIiwiam9pbiIsIm5hbWUiLCJ0ZXN0IiwicmVnZXhwIiwidG9TdHJpbmciLCJzdWJzdHJpbmciLCJFcnJvciIsInN0YWNrIiwibWVzc2FnZSIsImxvYWQiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUNBOzs7O0FBS0EsU0FBU0EsS0FBVCxDQUFlQyxHQUFmLEVBQW9CO0FBQ25CQyxhQUFXLENBQUNDLEtBQVosR0FBb0JELFdBQXBCO0FBQ0FBLGFBQVcs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TEMsU0FESyxDQUNLLENBREwsRUFDUUYsTUFBTSxDQUFDQyxRQUFQLEdBQWtCakQsTUFBbEIsR0FBMkIsQ0FEbkMsRUFFTGdCLE9BRkssQ0FFRyxTQUZILEVBRWMsR0FGZCxDQUFQO0FBR0E7QUFFRDs7Ozs7Ozs7O0FBT0EsV0FBU2xDLE1BQVQsQ0FBZ0JzQyxHQUFoQixFQUFxQjtBQUNwQixRQUFJQSxHQUFHLFlBQVkrQixLQUFuQixFQUEwQjtBQUN6QixhQUFPL0IsR0FBRyxDQUFDZ0MsS0FBSixJQUFhaEMsR0FBRyxDQUFDaUMsT0FBeEI7QUFDQTs7QUFDRCxXQUFPakMsR0FBUDtBQUNBOztBQUVEeEMsYUFBVyxDQUFDSSxNQUFaLENBQW1CSixXQUFXLENBQUMwRSxJQUFaLEVBQW5CO0FBRUEsU0FBTzFFLFdBQVA7QUFDQTs7QUFFRDJFLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjlFLEtBQWpCIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2RlYnVnL3NyYy9jb21tb24uanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbi8qKlxuICogVGhpcyBpcyB0aGUgY29tbW9uIGxvZ2ljIGZvciBib3RoIHRoZSBOb2RlLmpzIGFuZCB3ZWIgYnJvd3NlclxuICogaW1wbGVtZW50YXRpb25zIG9mIGBkZWJ1ZygpYC5cbiAqL1xuXG5mdW5jdGlvbiBzZXR1cChlbnYpIHtcblx0Y3JlYXRlRGVidWcuZGVidWcgPSBjcmVhdGVEZWJ1Zztcblx0Y3JlYXRlRGVidWcuZGVmYXVsdCA9IGNyZWF0ZURlYnVnO1xuXHRjcmVhdGVEZWJ1Zy5jb2VyY2UgPSBjb2VyY2U7XG5cdGNyZWF0ZURlYnVnLmRpc2FibGUgPSBkaXNhYmxlO1xuXHRjcmVhdGVEZWJ1Zy5lbmFibGUgPSBlbmFibGU7XG5cdGNyZWF0ZURlYnVnLmVuYWJsZWQgPSBlbmFibGVkO1xuXHRjcmVhdGVEZWJ1Zy5odW1hbml6ZSA9IHJlcXVpcmUoJ21zJyk7XG5cblx0T2JqZWN0LmtleXMoZW52KS5mb3JFYWNoKGtleSA9PiB7XG5cdFx0Y3JlYXRlRGVidWdba2V5XSA9IGVudltrZXldO1xuXHR9KTtcblxuXHQvKipcblx0KiBBY3RpdmUgYGRlYnVnYCBpbnN0YW5jZXMuXG5cdCovXG5cdGNyZWF0ZURlYnVnLmluc3RhbmNlcyA9IFtdO1xuXG5cdC8qKlxuXHQqIFRoZSBjdXJyZW50bHkgYWN0aXZlIGRlYnVnIG1vZGUgbmFtZXMsIGFuZCBuYW1lcyB0byBza2lwLlxuXHQqL1xuXG5cdGNyZWF0ZURlYnVnLm5hbWVzID0gW107XG5cdGNyZWF0ZURlYnVnLnNraXBzID0gW107XG5cblx0LyoqXG5cdCogTWFwIG9mIHNwZWNpYWwgXCIlblwiIGhhbmRsaW5nIGZ1bmN0aW9ucywgZm9yIHRoZSBkZWJ1ZyBcImZvcm1hdFwiIGFyZ3VtZW50LlxuXHQqXG5cdCogVmFsaWQga2V5IG5hbWVzIGFyZSBhIHNpbmdsZSwgbG93ZXIgb3IgdXBwZXItY2FzZSBsZXR0ZXIsIGkuZS4gXCJuXCIgYW5kIFwiTlwiLlxuXHQqL1xuXHRjcmVhdGVEZWJ1Zy5mb3JtYXR0ZXJzID0ge307XG5cblx0LyoqXG5cdCogU2VsZWN0cyBhIGNvbG9yIGZvciBhIGRlYnVnIG5hbWVzcGFjZVxuXHQqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2UgVGhlIG5hbWVzcGFjZSBzdHJpbmcgZm9yIHRoZSBmb3IgdGhlIGRlYnVnIGluc3RhbmNlIHRvIGJlIGNvbG9yZWRcblx0KiBAcmV0dXJuIHtOdW1iZXJ8U3RyaW5nfSBBbiBBTlNJIGNvbG9yIGNvZGUgZm9yIHRoZSBnaXZlbiBuYW1lc3BhY2Vcblx0KiBAYXBpIHByaXZhdGVcblx0Ki9cblx0ZnVuY3Rpb24gc2VsZWN0Q29sb3IobmFtZXNwYWNlKSB7XG5cdFx0bGV0IGhhc2ggPSAwO1xuXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBuYW1lc3BhY2UubGVuZ3RoOyBpKyspIHtcblx0XHRcdGhhc2ggPSAoKGhhc2ggPDwgNSkgLSBoYXNoKSArIG5hbWVzcGFjZS5jaGFyQ29kZUF0KGkpO1xuXHRcdFx0aGFzaCB8PSAwOyAvLyBDb252ZXJ0IHRvIDMyYml0IGludGVnZXJcblx0XHR9XG5cblx0XHRyZXR1cm4gY3JlYXRlRGVidWcuY29sb3JzW01hdGguYWJzKGhhc2gpICUgY3JlYXRlRGVidWcuY29sb3JzLmxlbmd0aF07XG5cdH1cblx0Y3JlYXRlRGVidWcuc2VsZWN0Q29sb3IgPSBzZWxlY3RDb2xvcjtcblxuXHQvKipcblx0KiBDcmVhdGUgYSBkZWJ1Z2dlciB3aXRoIHRoZSBnaXZlbiBgbmFtZXNwYWNlYC5cblx0KlxuXHQqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2Vcblx0KiBAcmV0dXJuIHtGdW5jdGlvbn1cblx0KiBAYXBpIHB1YmxpY1xuXHQqL1xuXHRmdW5jdGlvbiBjcmVhdGVEZWJ1ZyhuYW1lc3BhY2UpIHtcblx0XHRsZXQgcHJldlRpbWU7XG5cblx0XHRmdW5jdGlvbiBkZWJ1ZyguLi5hcmdzKSB7XG5cdFx0XHQvLyBEaXNhYmxlZD9cblx0XHRcdGlmICghZGVidWcuZW5hYmxlZCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHNlbGYgPSBkZWJ1ZztcblxuXHRcdFx0Ly8gU2V0IGBkaWZmYCB0aW1lc3RhbXBcblx0XHRcdGNvbnN0IGN1cnIgPSBOdW1iZXIobmV3IERhdGUoKSk7XG5cdFx0XHRjb25zdCBtcyA9IGN1cnIgLSAocHJldlRpbWUgfHwgY3Vycik7XG5cdFx0XHRzZWxmLmRpZmYgPSBtcztcblx0XHRcdHNlbGYucHJldiA9IHByZXZUaW1lO1xuXHRcdFx0c2VsZi5jdXJyID0gY3Vycjtcblx0XHRcdHByZXZUaW1lID0gY3VycjtcblxuXHRcdFx0YXJnc1swXSA9IGNyZWF0ZURlYnVnLmNvZXJjZShhcmdzWzBdKTtcblxuXHRcdFx0aWYgKHR5cGVvZiBhcmdzWzBdICE9PSAnc3RyaW5nJykge1xuXHRcdFx0XHQvLyBBbnl0aGluZyBlbHNlIGxldCdzIGluc3BlY3Qgd2l0aCAlT1xuXHRcdFx0XHRhcmdzLnVuc2hpZnQoJyVPJyk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFwcGx5IGFueSBgZm9ybWF0dGVyc2AgdHJhbnNmb3JtYXRpb25zXG5cdFx0XHRsZXQgaW5kZXggPSAwO1xuXHRcdFx0YXJnc1swXSA9IGFyZ3NbMF0ucmVwbGFjZSgvJShbYS16QS1aJV0pL2csIChtYXRjaCwgZm9ybWF0KSA9PiB7XG5cdFx0XHRcdC8vIElmIHdlIGVuY291bnRlciBhbiBlc2NhcGVkICUgdGhlbiBkb24ndCBpbmNyZWFzZSB0aGUgYXJyYXkgaW5kZXhcblx0XHRcdFx0aWYgKG1hdGNoID09PSAnJSUnKSB7XG5cdFx0XHRcdFx0cmV0dXJuIG1hdGNoO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGluZGV4Kys7XG5cdFx0XHRcdGNvbnN0IGZvcm1hdHRlciA9IGNyZWF0ZURlYnVnLmZvcm1hdHRlcnNbZm9ybWF0XTtcblx0XHRcdFx0aWYgKHR5cGVvZiBmb3JtYXR0ZXIgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRjb25zdCB2YWwgPSBhcmdzW2luZGV4XTtcblx0XHRcdFx0XHRtYXRjaCA9IGZvcm1hdHRlci5jYWxsKHNlbGYsIHZhbCk7XG5cblx0XHRcdFx0XHQvLyBOb3cgd2UgbmVlZCB0byByZW1vdmUgYGFyZ3NbaW5kZXhdYCBzaW5jZSBpdCdzIGlubGluZWQgaW4gdGhlIGBmb3JtYXRgXG5cdFx0XHRcdFx0YXJncy5zcGxpY2UoaW5kZXgsIDEpO1xuXHRcdFx0XHRcdGluZGV4LS07XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIG1hdGNoO1xuXHRcdFx0fSk7XG5cblx0XHRcdC8vIEFwcGx5IGVudi1zcGVjaWZpYyBmb3JtYXR0aW5nIChjb2xvcnMsIGV0Yy4pXG5cdFx0XHRjcmVhdGVEZWJ1Zy5mb3JtYXRBcmdzLmNhbGwoc2VsZiwgYXJncyk7XG5cblx0XHRcdGNvbnN0IGxvZ0ZuID0gc2VsZi5sb2cgfHwgY3JlYXRlRGVidWcubG9nO1xuXHRcdFx0bG9nRm4uYXBwbHkoc2VsZiwgYXJncyk7XG5cdFx0fVxuXG5cdFx0ZGVidWcubmFtZXNwYWNlID0gbmFtZXNwYWNlO1xuXHRcdGRlYnVnLmVuYWJsZWQgPSBjcmVhdGVEZWJ1Zy5lbmFibGVkKG5hbWVzcGFjZSk7XG5cdFx0ZGVidWcudXNlQ29sb3JzID0gY3JlYXRlRGVidWcudXNlQ29sb3JzKCk7XG5cdFx0ZGVidWcuY29sb3IgPSBzZWxlY3RDb2xvcihuYW1lc3BhY2UpO1xuXHRcdGRlYnVnLmRlc3Ryb3kgPSBkZXN0cm95O1xuXHRcdGRlYnVnLmV4dGVuZCA9IGV4dGVuZDtcblx0XHQvLyBEZWJ1Zy5mb3JtYXRBcmdzID0gZm9ybWF0QXJncztcblx0XHQvLyBkZWJ1Zy5yYXdMb2cgPSByYXdMb2c7XG5cblx0XHQvLyBlbnYtc3BlY2lmaWMgaW5pdGlhbGl6YXRpb24gbG9naWMgZm9yIGRlYnVnIGluc3RhbmNlc1xuXHRcdGlmICh0eXBlb2YgY3JlYXRlRGVidWcuaW5pdCA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0Y3JlYXRlRGVidWcuaW5pdChkZWJ1Zyk7XG5cdFx0fVxuXG5cdFx0Y3JlYXRlRGVidWcuaW5zdGFuY2VzLnB1c2goZGVidWcpO1xuXG5cdFx0cmV0dXJuIGRlYnVnO1xuXHR9XG5cblx0ZnVuY3Rpb24gZGVzdHJveSgpIHtcblx0XHRjb25zdCBpbmRleCA9IGNyZWF0ZURlYnVnLmluc3RhbmNlcy5pbmRleE9mKHRoaXMpO1xuXHRcdGlmIChpbmRleCAhPT0gLTEpIHtcblx0XHRcdGNyZWF0ZURlYnVnLmluc3RhbmNlcy5zcGxpY2UoaW5kZXgsIDEpO1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdGZ1bmN0aW9uIGV4dGVuZChuYW1lc3BhY2UsIGRlbGltaXRlcikge1xuXHRcdGNvbnN0IG5ld0RlYnVnID0gY3JlYXRlRGVidWcodGhpcy5uYW1lc3BhY2UgKyAodHlwZW9mIGRlbGltaXRlciA9PT0gJ3VuZGVmaW5lZCcgPyAnOicgOiBkZWxpbWl0ZXIpICsgbmFtZXNwYWNlKTtcblx0XHRuZXdEZWJ1Zy5sb2cgPSB0aGlzLmxvZztcblx0XHRyZXR1cm4gbmV3RGVidWc7XG5cdH1cblxuXHQvKipcblx0KiBFbmFibGVzIGEgZGVidWcgbW9kZSBieSBuYW1lc3BhY2VzLiBUaGlzIGNhbiBpbmNsdWRlIG1vZGVzXG5cdCogc2VwYXJhdGVkIGJ5IGEgY29sb24gYW5kIHdpbGRjYXJkcy5cblx0KlxuXHQqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VzXG5cdCogQGFwaSBwdWJsaWNcblx0Ki9cblx0ZnVuY3Rpb24gZW5hYmxlKG5hbWVzcGFjZXMpIHtcblx0XHRjcmVhdGVEZWJ1Zy5zYXZlKG5hbWVzcGFjZXMpO1xuXG5cdFx0Y3JlYXRlRGVidWcubmFtZXMgPSBbXTtcblx0XHRjcmVhdGVEZWJ1Zy5za2lwcyA9IFtdO1xuXG5cdFx0bGV0IGk7XG5cdFx0Y29uc3Qgc3BsaXQgPSAodHlwZW9mIG5hbWVzcGFjZXMgPT09ICdzdHJpbmcnID8gbmFtZXNwYWNlcyA6ICcnKS5zcGxpdCgvW1xccyxdKy8pO1xuXHRcdGNvbnN0IGxlbiA9IHNwbGl0Lmxlbmd0aDtcblxuXHRcdGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0aWYgKCFzcGxpdFtpXSkge1xuXHRcdFx0XHQvLyBpZ25vcmUgZW1wdHkgc3RyaW5nc1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0bmFtZXNwYWNlcyA9IHNwbGl0W2ldLnJlcGxhY2UoL1xcKi9nLCAnLio/Jyk7XG5cblx0XHRcdGlmIChuYW1lc3BhY2VzWzBdID09PSAnLScpIHtcblx0XHRcdFx0Y3JlYXRlRGVidWcuc2tpcHMucHVzaChuZXcgUmVnRXhwKCdeJyArIG5hbWVzcGFjZXMuc3Vic3RyKDEpICsgJyQnKSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjcmVhdGVEZWJ1Zy5uYW1lcy5wdXNoKG5ldyBSZWdFeHAoJ14nICsgbmFtZXNwYWNlcyArICckJykpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGZvciAoaSA9IDA7IGkgPCBjcmVhdGVEZWJ1Zy5pbnN0YW5jZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNvbnN0IGluc3RhbmNlID0gY3JlYXRlRGVidWcuaW5zdGFuY2VzW2ldO1xuXHRcdFx0aW5zdGFuY2UuZW5hYmxlZCA9IGNyZWF0ZURlYnVnLmVuYWJsZWQoaW5zdGFuY2UubmFtZXNwYWNlKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0KiBEaXNhYmxlIGRlYnVnIG91dHB1dC5cblx0KlxuXHQqIEByZXR1cm4ge1N0cmluZ30gbmFtZXNwYWNlc1xuXHQqIEBhcGkgcHVibGljXG5cdCovXG5cdGZ1bmN0aW9uIGRpc2FibGUoKSB7XG5cdFx0Y29uc3QgbmFtZXNwYWNlcyA9IFtcblx0XHRcdC4uLmNyZWF0ZURlYnVnLm5hbWVzLm1hcCh0b05hbWVzcGFjZSksXG5cdFx0XHQuLi5jcmVhdGVEZWJ1Zy5za2lwcy5tYXAodG9OYW1lc3BhY2UpLm1hcChuYW1lc3BhY2UgPT4gJy0nICsgbmFtZXNwYWNlKVxuXHRcdF0uam9pbignLCcpO1xuXHRcdGNyZWF0ZURlYnVnLmVuYWJsZSgnJyk7XG5cdFx0cmV0dXJuIG5hbWVzcGFjZXM7XG5cdH1cblxuXHQvKipcblx0KiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIG1vZGUgbmFtZSBpcyBlbmFibGVkLCBmYWxzZSBvdGhlcndpc2UuXG5cdCpcblx0KiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuXHQqIEByZXR1cm4ge0Jvb2xlYW59XG5cdCogQGFwaSBwdWJsaWNcblx0Ki9cblx0ZnVuY3Rpb24gZW5hYmxlZChuYW1lKSB7XG5cdFx0aWYgKG5hbWVbbmFtZS5sZW5ndGggLSAxXSA9PT0gJyonKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHRsZXQgaTtcblx0XHRsZXQgbGVuO1xuXG5cdFx0Zm9yIChpID0gMCwgbGVuID0gY3JlYXRlRGVidWcuc2tpcHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdGlmIChjcmVhdGVEZWJ1Zy5za2lwc1tpXS50ZXN0KG5hbWUpKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRmb3IgKGkgPSAwLCBsZW4gPSBjcmVhdGVEZWJ1Zy5uYW1lcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0aWYgKGNyZWF0ZURlYnVnLm5hbWVzW2ldLnRlc3QobmFtZSkpIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0LyoqXG5cdCogQ29udmVydCByZWdleHAgdG8gbmFtZXNwYWNlXG5cdCpcblx0KiBAcGFyYW0ge1JlZ0V4cH0gcmVneGVwXG5cdCogQHJldHVybiB7U3RyaW5nfSBuYW1lc3BhY2Vcblx0KiBAYXBpIHByaXZhdGVcblx0Ki9cblx0ZnVuY3Rpb24gdG9OYW1lc3BhY2UocmVnZXhwKSB7XG5cdFx0cmV0dXJuIHJlZ2V4cC50b1N0cmluZygpXG5cdFx0XHQuc3Vic3RyaW5nKDIsIHJlZ2V4cC50b1N0cmluZygpLmxlbmd0aCAtIDIpXG5cdFx0XHQucmVwbGFjZSgvXFwuXFwqXFw/JC8sICcqJyk7XG5cdH1cblxuXHQvKipcblx0KiBDb2VyY2UgYHZhbGAuXG5cdCpcblx0KiBAcGFyYW0ge01peGVkfSB2YWxcblx0KiBAcmV0dXJuIHtNaXhlZH1cblx0KiBAYXBpIHByaXZhdGVcblx0Ki9cblx0ZnVuY3Rpb24gY29lcmNlKHZhbCkge1xuXHRcdGlmICh2YWwgaW5zdGFuY2VvZiBFcnJvcikge1xuXHRcdFx0cmV0dXJuIHZhbC5zdGFjayB8fCB2YWwubWVzc2FnZTtcblx0XHR9XG5cdFx0cmV0dXJuIHZhbDtcblx0fVxuXG5cdGNyZWF0ZURlYnVnLmVuYWJsZShjcmVhdGVEZWJ1Zy5sb2FkKCkpO1xuXG5cdHJldHVybiBjcmVhdGVEZWJ1Zztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzZXR1cDtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/debug/src/common.js\n");

/***/ }),

/***/ "./node_modules/lodash/_Symbol.js":
/*!****************************************!*\
  !*** ./node_modules/lodash/_Symbol.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var root = __webpack_require__(/*! ./_root */ \"./node_modules/lodash/_root.js\");\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19TeW1ib2wuanM/OWU2OSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxXQUFXLG1CQUFPLENBQUMsK0NBQVM7O0FBRTVCO0FBQ0E7O0FBRUEiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL19TeW1ib2wuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgcm9vdCA9IHJlcXVpcmUoJy4vX3Jvb3QnKTtcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgU3ltYm9sID0gcm9vdC5TeW1ib2w7XG5cbm1vZHVsZS5leHBvcnRzID0gU3ltYm9sO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/lodash/_Symbol.js\n");

/***/ }),

/***/ "./node_modules/lodash/_apply.js":
/*!***************************************!*\
  !*** ./node_modules/lodash/_apply.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nmodule.exports = apply;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19hcHBseS5qcz84NWUzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEIsV0FBVyxFQUFFO0FBQ2IsV0FBVyxNQUFNO0FBQ2pCLGFBQWEsRUFBRTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYXBwbHkuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEEgZmFzdGVyIGFsdGVybmF0aXZlIHRvIGBGdW5jdGlvbiNhcHBseWAsIHRoaXMgZnVuY3Rpb24gaW52b2tlcyBgZnVuY2BcbiAqIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIGB0aGlzQXJnYCBhbmQgdGhlIGFyZ3VtZW50cyBvZiBgYXJnc2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGludm9rZS5cbiAqIEBwYXJhbSB7Kn0gdGhpc0FyZyBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBgZnVuY2Agd2l0aC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXN1bHQgb2YgYGZ1bmNgLlxuICovXG5mdW5jdGlvbiBhcHBseShmdW5jLCB0aGlzQXJnLCBhcmdzKSB7XG4gIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICBjYXNlIDA6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZyk7XG4gICAgY2FzZSAxOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0pO1xuICAgIGNhc2UgMjogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICBjYXNlIDM6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gIH1cbiAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYXBwbHk7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/lodash/_apply.js\n");

/***/ }),

/***/ "./node_modules/lodash/_arrayLikeKeys.js":
/*!***********************************************!*\
  !*** ./node_modules/lodash/_arrayLikeKeys.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var baseTimes = __webpack_require__(/*! ./_baseTimes */ \"./node_modules/lodash/_baseTimes.js\"),\n    isArguments = __webpack_require__(/*! ./isArguments */ \"./node_modules/lodash/isArguments.js\"),\n    isArray = __webpack_require__(/*! ./isArray */ \"./node_modules/lodash/isArray.js\"),\n    isBuffer = __webpack_require__(/*! ./isBuffer */ \"./node_modules/lodash/isBuffer.js\"),\n    isIndex = __webpack_require__(/*! ./_isIndex */ \"./node_modules/lodash/_isIndex.js\"),\n    isTypedArray = __webpack_require__(/*! ./isTypedArray */ \"./node_modules/lodash/isTypedArray.js\");\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19hcnJheUxpa2VLZXlzLmpzPzZmY2QiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsZ0JBQWdCLG1CQUFPLENBQUMseURBQWM7QUFDdEMsa0JBQWtCLG1CQUFPLENBQUMsMkRBQWU7QUFDekMsY0FBYyxtQkFBTyxDQUFDLG1EQUFXO0FBQ2pDLGVBQWUsbUJBQU8sQ0FBQyxxREFBWTtBQUNuQyxjQUFjLG1CQUFPLENBQUMscURBQVk7QUFDbEMsbUJBQW1CLG1CQUFPLENBQUMsNkRBQWdCOztBQUUzQztBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixXQUFXLFFBQVE7QUFDbkIsYUFBYSxNQUFNO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYXJyYXlMaWtlS2V5cy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBiYXNlVGltZXMgPSByZXF1aXJlKCcuL19iYXNlVGltZXMnKSxcbiAgICBpc0FyZ3VtZW50cyA9IHJlcXVpcmUoJy4vaXNBcmd1bWVudHMnKSxcbiAgICBpc0FycmF5ID0gcmVxdWlyZSgnLi9pc0FycmF5JyksXG4gICAgaXNCdWZmZXIgPSByZXF1aXJlKCcuL2lzQnVmZmVyJyksXG4gICAgaXNJbmRleCA9IHJlcXVpcmUoJy4vX2lzSW5kZXgnKSxcbiAgICBpc1R5cGVkQXJyYXkgPSByZXF1aXJlKCcuL2lzVHlwZWRBcnJheScpO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgdGhlIGFycmF5LWxpa2UgYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGluaGVyaXRlZCBTcGVjaWZ5IHJldHVybmluZyBpbmhlcml0ZWQgcHJvcGVydHkgbmFtZXMuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICovXG5mdW5jdGlvbiBhcnJheUxpa2VLZXlzKHZhbHVlLCBpbmhlcml0ZWQpIHtcbiAgdmFyIGlzQXJyID0gaXNBcnJheSh2YWx1ZSksXG4gICAgICBpc0FyZyA9ICFpc0FyciAmJiBpc0FyZ3VtZW50cyh2YWx1ZSksXG4gICAgICBpc0J1ZmYgPSAhaXNBcnIgJiYgIWlzQXJnICYmIGlzQnVmZmVyKHZhbHVlKSxcbiAgICAgIGlzVHlwZSA9ICFpc0FyciAmJiAhaXNBcmcgJiYgIWlzQnVmZiAmJiBpc1R5cGVkQXJyYXkodmFsdWUpLFxuICAgICAgc2tpcEluZGV4ZXMgPSBpc0FyciB8fCBpc0FyZyB8fCBpc0J1ZmYgfHwgaXNUeXBlLFxuICAgICAgcmVzdWx0ID0gc2tpcEluZGV4ZXMgPyBiYXNlVGltZXModmFsdWUubGVuZ3RoLCBTdHJpbmcpIDogW10sXG4gICAgICBsZW5ndGggPSByZXN1bHQubGVuZ3RoO1xuXG4gIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuICAgIGlmICgoaW5oZXJpdGVkIHx8IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIGtleSkpICYmXG4gICAgICAgICEoc2tpcEluZGV4ZXMgJiYgKFxuICAgICAgICAgICAvLyBTYWZhcmkgOSBoYXMgZW51bWVyYWJsZSBgYXJndW1lbnRzLmxlbmd0aGAgaW4gc3RyaWN0IG1vZGUuXG4gICAgICAgICAgIGtleSA9PSAnbGVuZ3RoJyB8fFxuICAgICAgICAgICAvLyBOb2RlLmpzIDAuMTAgaGFzIGVudW1lcmFibGUgbm9uLWluZGV4IHByb3BlcnRpZXMgb24gYnVmZmVycy5cbiAgICAgICAgICAgKGlzQnVmZiAmJiAoa2V5ID09ICdvZmZzZXQnIHx8IGtleSA9PSAncGFyZW50JykpIHx8XG4gICAgICAgICAgIC8vIFBoYW50b21KUyAyIGhhcyBlbnVtZXJhYmxlIG5vbi1pbmRleCBwcm9wZXJ0aWVzIG9uIHR5cGVkIGFycmF5cy5cbiAgICAgICAgICAgKGlzVHlwZSAmJiAoa2V5ID09ICdidWZmZXInIHx8IGtleSA9PSAnYnl0ZUxlbmd0aCcgfHwga2V5ID09ICdieXRlT2Zmc2V0JykpIHx8XG4gICAgICAgICAgIC8vIFNraXAgaW5kZXggcHJvcGVydGllcy5cbiAgICAgICAgICAgaXNJbmRleChrZXksIGxlbmd0aClcbiAgICAgICAgKSkpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYXJyYXlMaWtlS2V5cztcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/lodash/_arrayLikeKeys.js\n");

/***/ }),

/***/ "./node_modules/lodash/_baseGetTag.js":
/*!********************************************!*\
  !*** ./node_modules/lodash/_baseGetTag.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var Symbol = __webpack_require__(/*! ./_Symbol */ \"./node_modules/lodash/_Symbol.js\"),\n    getRawTag = __webpack_require__(/*! ./_getRawTag */ \"./node_modules/lodash/_getRawTag.js\"),\n    objectToString = __webpack_require__(/*! ./_objectToString */ \"./node_modules/lodash/_objectToString.js\");\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlR2V0VGFnLmpzPzM3MjkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsYUFBYSxtQkFBTyxDQUFDLG1EQUFXO0FBQ2hDLGdCQUFnQixtQkFBTyxDQUFDLHlEQUFjO0FBQ3RDLHFCQUFxQixtQkFBTyxDQUFDLG1FQUFtQjs7QUFFaEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUdldFRhZy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBTeW1ib2wgPSByZXF1aXJlKCcuL19TeW1ib2wnKSxcbiAgICBnZXRSYXdUYWcgPSByZXF1aXJlKCcuL19nZXRSYXdUYWcnKSxcbiAgICBvYmplY3RUb1N0cmluZyA9IHJlcXVpcmUoJy4vX29iamVjdFRvU3RyaW5nJyk7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBudWxsVGFnID0gJ1tvYmplY3QgTnVsbF0nLFxuICAgIHVuZGVmaW5lZFRhZyA9ICdbb2JqZWN0IFVuZGVmaW5lZF0nO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBzeW1Ub1N0cmluZ1RhZyA9IFN5bWJvbCA/IFN5bWJvbC50b1N0cmluZ1RhZyA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgZ2V0VGFnYCB3aXRob3V0IGZhbGxiYWNrcyBmb3IgYnVnZ3kgZW52aXJvbm1lbnRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gKi9cbmZ1bmN0aW9uIGJhc2VHZXRUYWcodmFsdWUpIHtcbiAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZFRhZyA6IG51bGxUYWc7XG4gIH1cbiAgcmV0dXJuIChzeW1Ub1N0cmluZ1RhZyAmJiBzeW1Ub1N0cmluZ1RhZyBpbiBPYmplY3QodmFsdWUpKVxuICAgID8gZ2V0UmF3VGFnKHZhbHVlKVxuICAgIDogb2JqZWN0VG9TdHJpbmcodmFsdWUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VHZXRUYWc7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/lodash/_baseGetTag.js\n");

/***/ }),

/***/ "./node_modules/lodash/_baseIsArguments.js":
/*!*************************************************!*\
  !*** ./node_modules/lodash/_baseIsArguments.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var baseGetTag = __webpack_require__(/*! ./_baseGetTag */ \"./node_modules/lodash/_baseGetTag.js\"),\n    isObjectLike = __webpack_require__(/*! ./isObjectLike */ \"./node_modules/lodash/isObjectLike.js\");\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlSXNBcmd1bWVudHMuanM/MjUzYyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxpQkFBaUIsbUJBQU8sQ0FBQywyREFBZTtBQUN4QyxtQkFBbUIsbUJBQU8sQ0FBQyw2REFBZ0I7O0FBRTNDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlSXNBcmd1bWVudHMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYmFzZUdldFRhZyA9IHJlcXVpcmUoJy4vX2Jhc2VHZXRUYWcnKSxcbiAgICBpc09iamVjdExpa2UgPSByZXF1aXJlKCcuL2lzT2JqZWN0TGlrZScpO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgYXJnc1RhZyA9ICdbb2JqZWN0IEFyZ3VtZW50c10nO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzQXJndW1lbnRzYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBgYXJndW1lbnRzYCBvYmplY3QsXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc0FyZ3VtZW50cyh2YWx1ZSkge1xuICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBhcmdzVGFnO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VJc0FyZ3VtZW50cztcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/lodash/_baseIsArguments.js\n");

/***/ }),

/***/ "./node_modules/lodash/_baseIsNative.js":
/*!**********************************************!*\
  !*** ./node_modules/lodash/_baseIsNative.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var isFunction = __webpack_require__(/*! ./isFunction */ \"./node_modules/lodash/isFunction.js\"),\n    isMasked = __webpack_require__(/*! ./_isMasked */ \"./node_modules/lodash/_isMasked.js\"),\n    isObject = __webpack_require__(/*! ./isObject */ \"./node_modules/lodash/isObject.js\"),\n    toSource = __webpack_require__(/*! ./_toSource */ \"./node_modules/lodash/_toSource.js\");\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlSXNOYXRpdmUuanM/MzRhYyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxpQkFBaUIsbUJBQU8sQ0FBQyx5REFBYztBQUN2QyxlQUFlLG1CQUFPLENBQUMsdURBQWE7QUFDcEMsZUFBZSxtQkFBTyxDQUFDLHFEQUFZO0FBQ25DLGVBQWUsbUJBQU8sQ0FBQyx1REFBYTs7QUFFcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7O0FBRXBDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxFQUFFO0FBQ2IsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VJc05hdGl2ZS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBpc0Z1bmN0aW9uID0gcmVxdWlyZSgnLi9pc0Z1bmN0aW9uJyksXG4gICAgaXNNYXNrZWQgPSByZXF1aXJlKCcuL19pc01hc2tlZCcpLFxuICAgIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9pc09iamVjdCcpLFxuICAgIHRvU291cmNlID0gcmVxdWlyZSgnLi9fdG9Tb3VyY2UnKTtcblxuLyoqXG4gKiBVc2VkIHRvIG1hdGNoIGBSZWdFeHBgXG4gKiBbc3ludGF4IGNoYXJhY3RlcnNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXBhdHRlcm5zKS5cbiAqL1xudmFyIHJlUmVnRXhwQ2hhciA9IC9bXFxcXF4kLiorPygpW1xcXXt9fF0vZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGhvc3QgY29uc3RydWN0b3JzIChTYWZhcmkpLiAqL1xudmFyIHJlSXNIb3N0Q3RvciA9IC9eXFxbb2JqZWN0IC4rP0NvbnN0cnVjdG9yXFxdJC87XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBmdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGUsXG4gICAgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG52YXIgZnVuY1RvU3RyaW5nID0gZnVuY1Byb3RvLnRvU3RyaW5nO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKiogVXNlZCB0byBkZXRlY3QgaWYgYSBtZXRob2QgaXMgbmF0aXZlLiAqL1xudmFyIHJlSXNOYXRpdmUgPSBSZWdFeHAoJ14nICtcbiAgZnVuY1RvU3RyaW5nLmNhbGwoaGFzT3duUHJvcGVydHkpLnJlcGxhY2UocmVSZWdFeHBDaGFyLCAnXFxcXCQmJylcbiAgLnJlcGxhY2UoL2hhc093blByb3BlcnR5fChmdW5jdGlvbikuKj8oPz1cXFxcXFwoKXwgZm9yIC4rPyg/PVxcXFxcXF0pL2csICckMS4qPycpICsgJyQnXG4pO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTmF0aXZlYCB3aXRob3V0IGJhZCBzaGltIGNoZWNrcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbixcbiAqICBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc05hdGl2ZSh2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0KHZhbHVlKSB8fCBpc01hc2tlZCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHBhdHRlcm4gPSBpc0Z1bmN0aW9uKHZhbHVlKSA/IHJlSXNOYXRpdmUgOiByZUlzSG9zdEN0b3I7XG4gIHJldHVybiBwYXR0ZXJuLnRlc3QodG9Tb3VyY2UodmFsdWUpKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlSXNOYXRpdmU7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/lodash/_baseIsNative.js\n");

/***/ }),

/***/ "./node_modules/lodash/_baseIsTypedArray.js":
/*!**************************************************!*\
  !*** ./node_modules/lodash/_baseIsTypedArray.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var baseGetTag = __webpack_require__(/*! ./_baseGetTag */ \"./node_modules/lodash/_baseGetTag.js\"),\n    isLength = __webpack_require__(/*! ./isLength */ \"./node_modules/lodash/isLength.js\"),\n    isObjectLike = __webpack_require__(/*! ./isObjectLike */ \"./node_modules/lodash/isObjectLike.js\");\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlSXNUeXBlZEFycmF5LmpzPzc0M2YiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsaUJBQWlCLG1CQUFPLENBQUMsMkRBQWU7QUFDeEMsZUFBZSxtQkFBTyxDQUFDLHFEQUFZO0FBQ25DLG1CQUFtQixtQkFBTyxDQUFDLDZEQUFnQjs7QUFFM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsRUFBRTtBQUNiLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUlzVHlwZWRBcnJheS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBiYXNlR2V0VGFnID0gcmVxdWlyZSgnLi9fYmFzZUdldFRhZycpLFxuICAgIGlzTGVuZ3RoID0gcmVxdWlyZSgnLi9pc0xlbmd0aCcpLFxuICAgIGlzT2JqZWN0TGlrZSA9IHJlcXVpcmUoJy4vaXNPYmplY3RMaWtlJyk7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBhcmdzVGFnID0gJ1tvYmplY3QgQXJndW1lbnRzXScsXG4gICAgYXJyYXlUYWcgPSAnW29iamVjdCBBcnJheV0nLFxuICAgIGJvb2xUYWcgPSAnW29iamVjdCBCb29sZWFuXScsXG4gICAgZGF0ZVRhZyA9ICdbb2JqZWN0IERhdGVdJyxcbiAgICBlcnJvclRhZyA9ICdbb2JqZWN0IEVycm9yXScsXG4gICAgZnVuY1RhZyA9ICdbb2JqZWN0IEZ1bmN0aW9uXScsXG4gICAgbWFwVGFnID0gJ1tvYmplY3QgTWFwXScsXG4gICAgbnVtYmVyVGFnID0gJ1tvYmplY3QgTnVtYmVyXScsXG4gICAgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XScsXG4gICAgcmVnZXhwVGFnID0gJ1tvYmplY3QgUmVnRXhwXScsXG4gICAgc2V0VGFnID0gJ1tvYmplY3QgU2V0XScsXG4gICAgc3RyaW5nVGFnID0gJ1tvYmplY3QgU3RyaW5nXScsXG4gICAgd2Vha01hcFRhZyA9ICdbb2JqZWN0IFdlYWtNYXBdJztcblxudmFyIGFycmF5QnVmZmVyVGFnID0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJyxcbiAgICBkYXRhVmlld1RhZyA9ICdbb2JqZWN0IERhdGFWaWV3XScsXG4gICAgZmxvYXQzMlRhZyA9ICdbb2JqZWN0IEZsb2F0MzJBcnJheV0nLFxuICAgIGZsb2F0NjRUYWcgPSAnW29iamVjdCBGbG9hdDY0QXJyYXldJyxcbiAgICBpbnQ4VGFnID0gJ1tvYmplY3QgSW50OEFycmF5XScsXG4gICAgaW50MTZUYWcgPSAnW29iamVjdCBJbnQxNkFycmF5XScsXG4gICAgaW50MzJUYWcgPSAnW29iamVjdCBJbnQzMkFycmF5XScsXG4gICAgdWludDhUYWcgPSAnW29iamVjdCBVaW50OEFycmF5XScsXG4gICAgdWludDhDbGFtcGVkVGFnID0gJ1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJyxcbiAgICB1aW50MTZUYWcgPSAnW29iamVjdCBVaW50MTZBcnJheV0nLFxuICAgIHVpbnQzMlRhZyA9ICdbb2JqZWN0IFVpbnQzMkFycmF5XSc7XG5cbi8qKiBVc2VkIHRvIGlkZW50aWZ5IGB0b1N0cmluZ1RhZ2AgdmFsdWVzIG9mIHR5cGVkIGFycmF5cy4gKi9cbnZhciB0eXBlZEFycmF5VGFncyA9IHt9O1xudHlwZWRBcnJheVRhZ3NbZmxvYXQzMlRhZ10gPSB0eXBlZEFycmF5VGFnc1tmbG9hdDY0VGFnXSA9XG50eXBlZEFycmF5VGFnc1tpbnQ4VGFnXSA9IHR5cGVkQXJyYXlUYWdzW2ludDE2VGFnXSA9XG50eXBlZEFycmF5VGFnc1tpbnQzMlRhZ10gPSB0eXBlZEFycmF5VGFnc1t1aW50OFRhZ10gPVxudHlwZWRBcnJheVRhZ3NbdWludDhDbGFtcGVkVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQxNlRhZ10gPVxudHlwZWRBcnJheVRhZ3NbdWludDMyVGFnXSA9IHRydWU7XG50eXBlZEFycmF5VGFnc1thcmdzVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2FycmF5VGFnXSA9XG50eXBlZEFycmF5VGFnc1thcnJheUJ1ZmZlclRhZ10gPSB0eXBlZEFycmF5VGFnc1tib29sVGFnXSA9XG50eXBlZEFycmF5VGFnc1tkYXRhVmlld1RhZ10gPSB0eXBlZEFycmF5VGFnc1tkYXRlVGFnXSA9XG50eXBlZEFycmF5VGFnc1tlcnJvclRhZ10gPSB0eXBlZEFycmF5VGFnc1tmdW5jVGFnXSA9XG50eXBlZEFycmF5VGFnc1ttYXBUYWddID0gdHlwZWRBcnJheVRhZ3NbbnVtYmVyVGFnXSA9XG50eXBlZEFycmF5VGFnc1tvYmplY3RUYWddID0gdHlwZWRBcnJheVRhZ3NbcmVnZXhwVGFnXSA9XG50eXBlZEFycmF5VGFnc1tzZXRUYWddID0gdHlwZWRBcnJheVRhZ3Nbc3RyaW5nVGFnXSA9XG50eXBlZEFycmF5VGFnc1t3ZWFrTWFwVGFnXSA9IGZhbHNlO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzVHlwZWRBcnJheWAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB0eXBlZCBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNUeXBlZEFycmF5KHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmXG4gICAgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhIXR5cGVkQXJyYXlUYWdzW2Jhc2VHZXRUYWcodmFsdWUpXTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlSXNUeXBlZEFycmF5O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/lodash/_baseIsTypedArray.js\n");

/***/ }),

/***/ "./node_modules/lodash/_baseKeysIn.js":
/*!********************************************!*\
  !*** ./node_modules/lodash/_baseKeysIn.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var isObject = __webpack_require__(/*! ./isObject */ \"./node_modules/lodash/isObject.js\"),\n    isPrototype = __webpack_require__(/*! ./_isPrototype */ \"./node_modules/lodash/_isPrototype.js\"),\n    nativeKeysIn = __webpack_require__(/*! ./_nativeKeysIn */ \"./node_modules/lodash/_nativeKeysIn.js\");\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeysIn;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlS2V5c0luLmpzPzQxYzMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsZUFBZSxtQkFBTyxDQUFDLHFEQUFZO0FBQ25DLGtCQUFrQixtQkFBTyxDQUFDLDZEQUFnQjtBQUMxQyxtQkFBbUIsbUJBQU8sQ0FBQywrREFBaUI7O0FBRTVDO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixhQUFhLE1BQU07QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlS2V5c0luLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9pc09iamVjdCcpLFxuICAgIGlzUHJvdG90eXBlID0gcmVxdWlyZSgnLi9faXNQcm90b3R5cGUnKSxcbiAgICBuYXRpdmVLZXlzSW4gPSByZXF1aXJlKCcuL19uYXRpdmVLZXlzSW4nKTtcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5rZXlzSW5gIHdoaWNoIGRvZXNuJ3QgdHJlYXQgc3BhcnNlIGFycmF5cyBhcyBkZW5zZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqL1xuZnVuY3Rpb24gYmFzZUtleXNJbihvYmplY3QpIHtcbiAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XG4gICAgcmV0dXJuIG5hdGl2ZUtleXNJbihvYmplY3QpO1xuICB9XG4gIHZhciBpc1Byb3RvID0gaXNQcm90b3R5cGUob2JqZWN0KSxcbiAgICAgIHJlc3VsdCA9IFtdO1xuXG4gIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcbiAgICBpZiAoIShrZXkgPT0gJ2NvbnN0cnVjdG9yJyAmJiAoaXNQcm90byB8fCAhaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpKSkge1xuICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlS2V5c0luO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/lodash/_baseKeysIn.js\n");

/***/ }),

/***/ "./node_modules/lodash/_baseRest.js":
/*!******************************************!*\
  !*** ./node_modules/lodash/_baseRest.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var identity = __webpack_require__(/*! ./identity */ \"./node_modules/lodash/identity.js\"),\n    overRest = __webpack_require__(/*! ./_overRest */ \"./node_modules/lodash/_overRest.js\"),\n    setToString = __webpack_require__(/*! ./_setToString */ \"./node_modules/lodash/_setToString.js\");\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nmodule.exports = baseRest;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlUmVzdC5qcz8xMDBlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGVBQWUsbUJBQU8sQ0FBQyxxREFBWTtBQUNuQyxlQUFlLG1CQUFPLENBQUMsdURBQWE7QUFDcEMsa0JBQWtCLG1CQUFPLENBQUMsNkRBQWdCOztBQUUxQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQixXQUFXLE9BQU87QUFDbEIsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZVJlc3QuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgaWRlbnRpdHkgPSByZXF1aXJlKCcuL2lkZW50aXR5JyksXG4gICAgb3ZlclJlc3QgPSByZXF1aXJlKCcuL19vdmVyUmVzdCcpLFxuICAgIHNldFRvU3RyaW5nID0gcmVxdWlyZSgnLi9fc2V0VG9TdHJpbmcnKTtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yZXN0YCB3aGljaCBkb2Vzbid0IHZhbGlkYXRlIG9yIGNvZXJjZSBhcmd1bWVudHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PWZ1bmMubGVuZ3RoLTFdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgcmVzdCBwYXJhbWV0ZXIuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gYmFzZVJlc3QoZnVuYywgc3RhcnQpIHtcbiAgcmV0dXJuIHNldFRvU3RyaW5nKG92ZXJSZXN0KGZ1bmMsIHN0YXJ0LCBpZGVudGl0eSksIGZ1bmMgKyAnJyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZVJlc3Q7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/lodash/_baseRest.js\n");

/***/ }),

/***/ "./node_modules/lodash/_baseSetToString.js":
/*!*************************************************!*\
  !*** ./node_modules/lodash/_baseSetToString.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var constant = __webpack_require__(/*! ./constant */ \"./node_modules/lodash/constant.js\"),\n    defineProperty = __webpack_require__(/*! ./_defineProperty */ \"./node_modules/lodash/_defineProperty.js\"),\n    identity = __webpack_require__(/*! ./identity */ \"./node_modules/lodash/identity.js\");\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nmodule.exports = baseSetToString;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlU2V0VG9TdHJpbmcuanM/YTQ1NCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxlQUFlLG1CQUFPLENBQUMscURBQVk7QUFDbkMscUJBQXFCLG1CQUFPLENBQUMsbUVBQW1CO0FBQ2hELGVBQWUsbUJBQU8sQ0FBQyxxREFBWTs7QUFFbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEIsV0FBVyxTQUFTO0FBQ3BCLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VTZXRUb1N0cmluZy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBjb25zdGFudCA9IHJlcXVpcmUoJy4vY29uc3RhbnQnKSxcbiAgICBkZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vX2RlZmluZVByb3BlcnR5JyksXG4gICAgaWRlbnRpdHkgPSByZXF1aXJlKCcuL2lkZW50aXR5Jyk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYHNldFRvU3RyaW5nYCB3aXRob3V0IHN1cHBvcnQgZm9yIGhvdCBsb29wIHNob3J0aW5nLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdHJpbmcgVGhlIGB0b1N0cmluZ2AgcmVzdWx0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAqL1xudmFyIGJhc2VTZXRUb1N0cmluZyA9ICFkZWZpbmVQcm9wZXJ0eSA/IGlkZW50aXR5IDogZnVuY3Rpb24oZnVuYywgc3RyaW5nKSB7XG4gIHJldHVybiBkZWZpbmVQcm9wZXJ0eShmdW5jLCAndG9TdHJpbmcnLCB7XG4gICAgJ2NvbmZpZ3VyYWJsZSc6IHRydWUsXG4gICAgJ2VudW1lcmFibGUnOiBmYWxzZSxcbiAgICAndmFsdWUnOiBjb25zdGFudChzdHJpbmcpLFxuICAgICd3cml0YWJsZSc6IHRydWVcbiAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VTZXRUb1N0cmluZztcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/lodash/_baseSetToString.js\n");

/***/ }),

/***/ "./node_modules/lodash/_baseTimes.js":
/*!*******************************************!*\
  !*** ./node_modules/lodash/_baseTimes.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlVGltZXMuanM/NTBkOCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsU0FBUztBQUNwQixhQUFhLE1BQU07QUFDbkI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VUaW1lcy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udGltZXNgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kc1xuICogb3IgbWF4IGFycmF5IGxlbmd0aCBjaGVja3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gaW52b2tlIGBpdGVyYXRlZWAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLlxuICovXG5mdW5jdGlvbiBiYXNlVGltZXMobiwgaXRlcmF0ZWUpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICByZXN1bHQgPSBBcnJheShuKTtcblxuICB3aGlsZSAoKytpbmRleCA8IG4pIHtcbiAgICByZXN1bHRbaW5kZXhdID0gaXRlcmF0ZWUoaW5kZXgpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZVRpbWVzO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/lodash/_baseTimes.js\n");

/***/ }),

/***/ "./node_modules/lodash/_baseUnary.js":
/*!*******************************************!*\
  !*** ./node_modules/lodash/_baseUnary.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlVW5hcnkuanM/YjA0NyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQixhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZVVuYXJ5LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51bmFyeWAgd2l0aG91dCBzdXBwb3J0IGZvciBzdG9yaW5nIG1ldGFkYXRhLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjYXAgYXJndW1lbnRzIGZvci5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNhcHBlZCBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gYmFzZVVuYXJ5KGZ1bmMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIGZ1bmModmFsdWUpO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VVbmFyeTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/lodash/_baseUnary.js\n");

/***/ }),

/***/ "./node_modules/lodash/_coreJsData.js":
/*!********************************************!*\
  !*** ./node_modules/lodash/_coreJsData.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var root = __webpack_require__(/*! ./_root */ \"./node_modules/lodash/_root.js\");\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19jb3JlSnNEYXRhLmpzP2RhMDMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsV0FBVyxtQkFBTyxDQUFDLCtDQUFTOztBQUU1QjtBQUNBOztBQUVBIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fY29yZUpzRGF0YS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciByb290ID0gcmVxdWlyZSgnLi9fcm9vdCcpO1xuXG4vKiogVXNlZCB0byBkZXRlY3Qgb3ZlcnJlYWNoaW5nIGNvcmUtanMgc2hpbXMuICovXG52YXIgY29yZUpzRGF0YSA9IHJvb3RbJ19fY29yZS1qc19zaGFyZWRfXyddO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNvcmVKc0RhdGE7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/lodash/_coreJsData.js\n");

/***/ }),

/***/ "./node_modules/lodash/_defineProperty.js":
/*!************************************************!*\
  !*** ./node_modules/lodash/_defineProperty.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var getNative = __webpack_require__(/*! ./_getNative */ \"./node_modules/lodash/_getNative.js\");\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19kZWZpbmVQcm9wZXJ0eS5qcz8zYjRhIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGdCQUFnQixtQkFBTyxDQUFDLHlEQUFjOztBQUV0QztBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQSxHQUFHO0FBQ0gsQ0FBQzs7QUFFRCIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2RlZmluZVByb3BlcnR5LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGdldE5hdGl2ZSA9IHJlcXVpcmUoJy4vX2dldE5hdGl2ZScpO1xuXG52YXIgZGVmaW5lUHJvcGVydHkgPSAoZnVuY3Rpb24oKSB7XG4gIHRyeSB7XG4gICAgdmFyIGZ1bmMgPSBnZXROYXRpdmUoT2JqZWN0LCAnZGVmaW5lUHJvcGVydHknKTtcbiAgICBmdW5jKHt9LCAnJywge30pO1xuICAgIHJldHVybiBmdW5jO1xuICB9IGNhdGNoIChlKSB7fVxufSgpKTtcblxubW9kdWxlLmV4cG9ydHMgPSBkZWZpbmVQcm9wZXJ0eTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/lodash/_defineProperty.js\n");

/***/ }),

/***/ "./node_modules/lodash/_freeGlobal.js":
/*!********************************************!*\
  !*** ./node_modules/lodash/_freeGlobal.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(global) {/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19mcmVlR2xvYmFsLmpzPzU4NWEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2ZyZWVHbG9iYWwuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAgZnJvbSBOb2RlLmpzLiAqL1xudmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCAmJiBnbG9iYWwuT2JqZWN0ID09PSBPYmplY3QgJiYgZ2xvYmFsO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZyZWVHbG9iYWw7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/lodash/_freeGlobal.js\n");

/***/ }),

/***/ "./node_modules/lodash/_getNative.js":
/*!*******************************************!*\
  !*** ./node_modules/lodash/_getNative.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var baseIsNative = __webpack_require__(/*! ./_baseIsNative */ \"./node_modules/lodash/_baseIsNative.js\"),\n    getValue = __webpack_require__(/*! ./_getValue */ \"./node_modules/lodash/_getValue.js\");\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19nZXROYXRpdmUuanM/MGIwNyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxtQkFBbUIsbUJBQU8sQ0FBQywrREFBaUI7QUFDNUMsZUFBZSxtQkFBTyxDQUFDLHVEQUFhOztBQUVwQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsYUFBYSxFQUFFO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2dldE5hdGl2ZS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBiYXNlSXNOYXRpdmUgPSByZXF1aXJlKCcuL19iYXNlSXNOYXRpdmUnKSxcbiAgICBnZXRWYWx1ZSA9IHJlcXVpcmUoJy4vX2dldFZhbHVlJyk7XG5cbi8qKlxuICogR2V0cyB0aGUgbmF0aXZlIGZ1bmN0aW9uIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIG1ldGhvZCB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZnVuY3Rpb24gaWYgaXQncyBuYXRpdmUsIGVsc2UgYHVuZGVmaW5lZGAuXG4gKi9cbmZ1bmN0aW9uIGdldE5hdGl2ZShvYmplY3QsIGtleSkge1xuICB2YXIgdmFsdWUgPSBnZXRWYWx1ZShvYmplY3QsIGtleSk7XG4gIHJldHVybiBiYXNlSXNOYXRpdmUodmFsdWUpID8gdmFsdWUgOiB1bmRlZmluZWQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0TmF0aXZlO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/lodash/_getNative.js\n");

/***/ }),

/***/ "./node_modules/lodash/_getRawTag.js":
/*!*******************************************!*\
  !*** ./node_modules/lodash/_getRawTag.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var Symbol = __webpack_require__(/*! ./_Symbol */ \"./node_modules/lodash/_Symbol.js\");\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19nZXRSYXdUYWcuanM/MDBmZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxhQUFhLG1CQUFPLENBQUMsbURBQVc7O0FBRWhDO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsRUFBRTtBQUNiLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL19nZXRSYXdUYWcuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgU3ltYm9sID0gcmVxdWlyZSgnLi9fU3ltYm9sJyk7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBuYXRpdmVPYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBzeW1Ub1N0cmluZ1RhZyA9IFN5bWJvbCA/IFN5bWJvbC50b1N0cmluZ1RhZyA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VHZXRUYWdgIHdoaWNoIGlnbm9yZXMgYFN5bWJvbC50b1N0cmluZ1RhZ2AgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJhdyBgdG9TdHJpbmdUYWdgLlxuICovXG5mdW5jdGlvbiBnZXRSYXdUYWcodmFsdWUpIHtcbiAgdmFyIGlzT3duID0gaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgc3ltVG9TdHJpbmdUYWcpLFxuICAgICAgdGFnID0gdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuXG4gIHRyeSB7XG4gICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdW5kZWZpbmVkO1xuICAgIHZhciB1bm1hc2tlZCA9IHRydWU7XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgdmFyIHJlc3VsdCA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICBpZiAodW5tYXNrZWQpIHtcbiAgICBpZiAoaXNPd24pIHtcbiAgICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHRhZztcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlIHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXRSYXdUYWc7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/lodash/_getRawTag.js\n");

/***/ }),

/***/ "./node_modules/lodash/_getValue.js":
/*!******************************************!*\
  !*** ./node_modules/lodash/_getValue.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19nZXRWYWx1ZS5qcz8zNjk4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixhQUFhLEVBQUU7QUFDZjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2dldFZhbHVlLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBHZXRzIHRoZSB2YWx1ZSBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gZ2V0VmFsdWUob2JqZWN0LCBrZXkpIHtcbiAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0VmFsdWU7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/lodash/_getValue.js\n");

/***/ }),

/***/ "./node_modules/lodash/_isIndex.js":
/*!*****************************************!*\
  !*** ./node_modules/lodash/_isIndex.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19pc0luZGV4LmpzP2MwOTgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxFQUFFO0FBQ2IsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2xvZGFzaC9faXNJbmRleC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xudmFyIE1BWF9TQUZFX0lOVEVHRVIgPSA5MDA3MTk5MjU0NzQwOTkxO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgdW5zaWduZWQgaW50ZWdlciB2YWx1ZXMuICovXG52YXIgcmVJc1VpbnQgPSAvXig/OjB8WzEtOV1cXGQqKSQvO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBpbmRleC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD1NQVhfU0FGRV9JTlRFR0VSXSBUaGUgdXBwZXIgYm91bmRzIG9mIGEgdmFsaWQgaW5kZXguXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGluZGV4LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzSW5kZXgodmFsdWUsIGxlbmd0aCkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgbGVuZ3RoID0gbGVuZ3RoID09IG51bGwgPyBNQVhfU0FGRV9JTlRFR0VSIDogbGVuZ3RoO1xuXG4gIHJldHVybiAhIWxlbmd0aCAmJlxuICAgICh0eXBlID09ICdudW1iZXInIHx8XG4gICAgICAodHlwZSAhPSAnc3ltYm9sJyAmJiByZUlzVWludC50ZXN0KHZhbHVlKSkpICYmXG4gICAgICAgICh2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDwgbGVuZ3RoKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc0luZGV4O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/lodash/_isIndex.js\n");

/***/ }),

/***/ "./node_modules/lodash/_isIterateeCall.js":
/*!************************************************!*\
  !*** ./node_modules/lodash/_isIterateeCall.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var eq = __webpack_require__(/*! ./eq */ \"./node_modules/lodash/eq.js\"),\n    isArrayLike = __webpack_require__(/*! ./isArrayLike */ \"./node_modules/lodash/isArrayLike.js\"),\n    isIndex = __webpack_require__(/*! ./_isIndex */ \"./node_modules/lodash/_isIndex.js\"),\n    isObject = __webpack_require__(/*! ./isObject */ \"./node_modules/lodash/isObject.js\");\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nmodule.exports = isIterateeCall;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19pc0l0ZXJhdGVlQ2FsbC5qcz85YWZmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLFNBQVMsbUJBQU8sQ0FBQyx5Q0FBTTtBQUN2QixrQkFBa0IsbUJBQU8sQ0FBQywyREFBZTtBQUN6QyxjQUFjLG1CQUFPLENBQUMscURBQVk7QUFDbEMsZUFBZSxtQkFBTyxDQUFDLHFEQUFZOztBQUVuQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsRUFBRTtBQUNiLFdBQVcsRUFBRTtBQUNiLFdBQVcsRUFBRTtBQUNiLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL19pc0l0ZXJhdGVlQ2FsbC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBlcSA9IHJlcXVpcmUoJy4vZXEnKSxcbiAgICBpc0FycmF5TGlrZSA9IHJlcXVpcmUoJy4vaXNBcnJheUxpa2UnKSxcbiAgICBpc0luZGV4ID0gcmVxdWlyZSgnLi9faXNJbmRleCcpLFxuICAgIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9pc09iamVjdCcpO1xuXG4vKipcbiAqIENoZWNrcyBpZiB0aGUgZ2l2ZW4gYXJndW1lbnRzIGFyZSBmcm9tIGFuIGl0ZXJhdGVlIGNhbGwuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHBvdGVudGlhbCBpdGVyYXRlZSB2YWx1ZSBhcmd1bWVudC5cbiAqIEBwYXJhbSB7Kn0gaW5kZXggVGhlIHBvdGVudGlhbCBpdGVyYXRlZSBpbmRleCBvciBrZXkgYXJndW1lbnQuXG4gKiBAcGFyYW0geyp9IG9iamVjdCBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIG9iamVjdCBhcmd1bWVudC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYXJndW1lbnRzIGFyZSBmcm9tIGFuIGl0ZXJhdGVlIGNhbGwsXG4gKiAgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0l0ZXJhdGVlQ2FsbCh2YWx1ZSwgaW5kZXgsIG9iamVjdCkge1xuICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHR5cGUgPSB0eXBlb2YgaW5kZXg7XG4gIGlmICh0eXBlID09ICdudW1iZXInXG4gICAgICAgID8gKGlzQXJyYXlMaWtlKG9iamVjdCkgJiYgaXNJbmRleChpbmRleCwgb2JqZWN0Lmxlbmd0aCkpXG4gICAgICAgIDogKHR5cGUgPT0gJ3N0cmluZycgJiYgaW5kZXggaW4gb2JqZWN0KVxuICAgICAgKSB7XG4gICAgcmV0dXJuIGVxKG9iamVjdFtpbmRleF0sIHZhbHVlKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNJdGVyYXRlZUNhbGw7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/lodash/_isIterateeCall.js\n");

/***/ }),

/***/ "./node_modules/lodash/_isMasked.js":
/*!******************************************!*\
  !*** ./node_modules/lodash/_isMasked.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var coreJsData = __webpack_require__(/*! ./_coreJsData */ \"./node_modules/lodash/_coreJsData.js\");\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19pc01hc2tlZC5qcz8xMzY4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGlCQUFpQixtQkFBTyxDQUFDLDJEQUFlOztBQUV4QztBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2xvZGFzaC9faXNNYXNrZWQuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgY29yZUpzRGF0YSA9IHJlcXVpcmUoJy4vX2NvcmVKc0RhdGEnKTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG1ldGhvZHMgbWFzcXVlcmFkaW5nIGFzIG5hdGl2ZS4gKi9cbnZhciBtYXNrU3JjS2V5ID0gKGZ1bmN0aW9uKCkge1xuICB2YXIgdWlkID0gL1teLl0rJC8uZXhlYyhjb3JlSnNEYXRhICYmIGNvcmVKc0RhdGEua2V5cyAmJiBjb3JlSnNEYXRhLmtleXMuSUVfUFJPVE8gfHwgJycpO1xuICByZXR1cm4gdWlkID8gKCdTeW1ib2woc3JjKV8xLicgKyB1aWQpIDogJyc7XG59KCkpO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgZnVuY2AgaGFzIGl0cyBzb3VyY2UgbWFza2VkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgZnVuY2AgaXMgbWFza2VkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzTWFza2VkKGZ1bmMpIHtcbiAgcmV0dXJuICEhbWFza1NyY0tleSAmJiAobWFza1NyY0tleSBpbiBmdW5jKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc01hc2tlZDtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/lodash/_isMasked.js\n");

/***/ }),

/***/ "./node_modules/lodash/_isPrototype.js":
/*!*********************************************!*\
  !*** ./node_modules/lodash/_isPrototype.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19pc1Byb3RvdHlwZS5qcz9lYWM1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2lzUHJvdG90eXBlLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYSBwcm90b3R5cGUgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcHJvdG90eXBlLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzUHJvdG90eXBlKHZhbHVlKSB7XG4gIHZhciBDdG9yID0gdmFsdWUgJiYgdmFsdWUuY29uc3RydWN0b3IsXG4gICAgICBwcm90byA9ICh0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmIEN0b3IucHJvdG90eXBlKSB8fCBvYmplY3RQcm90bztcblxuICByZXR1cm4gdmFsdWUgPT09IHByb3RvO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzUHJvdG90eXBlO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/lodash/_isPrototype.js\n");

/***/ }),

/***/ "./node_modules/lodash/_nativeKeysIn.js":
/*!**********************************************!*\
  !*** ./node_modules/lodash/_nativeKeysIn.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = nativeKeysIn;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19uYXRpdmVLZXlzSW4uanM/ZWM4YyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsYUFBYSxNQUFNO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fbmF0aXZlS2V5c0luLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2VcbiAqIFtgT2JqZWN0LmtleXNgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3Qua2V5cylcbiAqIGV4Y2VwdCB0aGF0IGl0IGluY2x1ZGVzIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnRpZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKi9cbmZ1bmN0aW9uIG5hdGl2ZUtleXNJbihvYmplY3QpIHtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBpZiAob2JqZWN0ICE9IG51bGwpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbmF0aXZlS2V5c0luO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/lodash/_nativeKeysIn.js\n");

/***/ }),

/***/ "./node_modules/lodash/_nodeUtil.js":
/*!******************************************!*\
  !*** ./node_modules/lodash/_nodeUtil.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(module) {var freeGlobal = __webpack_require__(/*! ./_freeGlobal */ \"./node_modules/lodash/_freeGlobal.js\");\n\n/** Detect free variable `exports`. */\nvar freeExports =  true && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/module.js */ \"./node_modules/webpack/buildin/module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19ub2RlVXRpbC5qcz85OWQzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLCtEQUFpQixtQkFBTyxDQUFDLDJEQUFlOztBQUV4QztBQUNBLGtCQUFrQixLQUEwQjs7QUFFNUM7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDOztBQUVEIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fbm9kZVV0aWwuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZnJlZUdsb2JhbCA9IHJlcXVpcmUoJy4vX2ZyZWVHbG9iYWwnKTtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBleHBvcnRzYC4gKi9cbnZhciBmcmVlRXhwb3J0cyA9IHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnICYmIGV4cG9ydHMgJiYgIWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0cztcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBtb2R1bGVgLiAqL1xudmFyIGZyZWVNb2R1bGUgPSBmcmVlRXhwb3J0cyAmJiB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJiAhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTtcblxuLyoqIERldGVjdCB0aGUgcG9wdWxhciBDb21tb25KUyBleHRlbnNpb24gYG1vZHVsZS5leHBvcnRzYC4gKi9cbnZhciBtb2R1bGVFeHBvcnRzID0gZnJlZU1vZHVsZSAmJiBmcmVlTW9kdWxlLmV4cG9ydHMgPT09IGZyZWVFeHBvcnRzO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHByb2Nlc3NgIGZyb20gTm9kZS5qcy4gKi9cbnZhciBmcmVlUHJvY2VzcyA9IG1vZHVsZUV4cG9ydHMgJiYgZnJlZUdsb2JhbC5wcm9jZXNzO1xuXG4vKiogVXNlZCB0byBhY2Nlc3MgZmFzdGVyIE5vZGUuanMgaGVscGVycy4gKi9cbnZhciBub2RlVXRpbCA9IChmdW5jdGlvbigpIHtcbiAgdHJ5IHtcbiAgICAvLyBVc2UgYHV0aWwudHlwZXNgIGZvciBOb2RlLmpzIDEwKy5cbiAgICB2YXIgdHlwZXMgPSBmcmVlTW9kdWxlICYmIGZyZWVNb2R1bGUucmVxdWlyZSAmJiBmcmVlTW9kdWxlLnJlcXVpcmUoJ3V0aWwnKS50eXBlcztcblxuICAgIGlmICh0eXBlcykge1xuICAgICAgcmV0dXJuIHR5cGVzO1xuICAgIH1cblxuICAgIC8vIExlZ2FjeSBgcHJvY2Vzcy5iaW5kaW5nKCd1dGlsJylgIGZvciBOb2RlLmpzIDwgMTAuXG4gICAgcmV0dXJuIGZyZWVQcm9jZXNzICYmIGZyZWVQcm9jZXNzLmJpbmRpbmcgJiYgZnJlZVByb2Nlc3MuYmluZGluZygndXRpbCcpO1xuICB9IGNhdGNoIChlKSB7fVxufSgpKTtcblxubW9kdWxlLmV4cG9ydHMgPSBub2RlVXRpbDtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/lodash/_nodeUtil.js\n");

/***/ }),

/***/ "./node_modules/lodash/_objectToString.js":
/*!************************************************!*\
  !*** ./node_modules/lodash/_objectToString.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19vYmplY3RUb1N0cmluZy5qcz8yOWYzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxFQUFFO0FBQ2IsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fb2JqZWN0VG9TdHJpbmcuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgbmF0aXZlT2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nIHVzaW5nIGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKHZhbHVlKSB7XG4gIHJldHVybiBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBvYmplY3RUb1N0cmluZztcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/lodash/_objectToString.js\n");

/***/ }),

/***/ "./node_modules/lodash/_overRest.js":
/*!******************************************!*\
  !*** ./node_modules/lodash/_overRest.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var apply = __webpack_require__(/*! ./_apply */ \"./node_modules/lodash/_apply.js\");\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nmodule.exports = overRest;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19vdmVyUmVzdC5qcz8yMjg2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLFlBQVksbUJBQU8sQ0FBQyxpREFBVTs7QUFFOUI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQixXQUFXLE9BQU87QUFDbEIsV0FBVyxTQUFTO0FBQ3BCLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9sb2Rhc2gvX292ZXJSZXN0LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGFwcGx5ID0gcmVxdWlyZSgnLi9fYXBwbHknKTtcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xudmFyIG5hdGl2ZU1heCA9IE1hdGgubWF4O1xuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZVJlc3RgIHdoaWNoIHRyYW5zZm9ybXMgdGhlIHJlc3QgYXJyYXkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PWZ1bmMubGVuZ3RoLTFdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgcmVzdCBwYXJhbWV0ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSB0cmFuc2Zvcm0gVGhlIHJlc3QgYXJyYXkgdHJhbnNmb3JtLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIG92ZXJSZXN0KGZ1bmMsIHN0YXJ0LCB0cmFuc2Zvcm0pIHtcbiAgc3RhcnQgPSBuYXRpdmVNYXgoc3RhcnQgPT09IHVuZGVmaW5lZCA/IChmdW5jLmxlbmd0aCAtIDEpIDogc3RhcnQsIDApO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1heChhcmdzLmxlbmd0aCAtIHN0YXJ0LCAwKSxcbiAgICAgICAgYXJyYXkgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGFycmF5W2luZGV4XSA9IGFyZ3Nbc3RhcnQgKyBpbmRleF07XG4gICAgfVxuICAgIGluZGV4ID0gLTE7XG4gICAgdmFyIG90aGVyQXJncyA9IEFycmF5KHN0YXJ0ICsgMSk7XG4gICAgd2hpbGUgKCsraW5kZXggPCBzdGFydCkge1xuICAgICAgb3RoZXJBcmdzW2luZGV4XSA9IGFyZ3NbaW5kZXhdO1xuICAgIH1cbiAgICBvdGhlckFyZ3Nbc3RhcnRdID0gdHJhbnNmb3JtKGFycmF5KTtcbiAgICByZXR1cm4gYXBwbHkoZnVuYywgdGhpcywgb3RoZXJBcmdzKTtcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBvdmVyUmVzdDtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/lodash/_overRest.js\n");

/***/ }),

/***/ "./node_modules/lodash/_root.js":
/*!**************************************!*\
  !*** ./node_modules/lodash/_root.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var freeGlobal = __webpack_require__(/*! ./_freeGlobal */ \"./node_modules/lodash/_freeGlobal.js\");\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19yb290LmpzPzJiM2UiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsaUJBQWlCLG1CQUFPLENBQUMsMkRBQWU7O0FBRXhDO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9sb2Rhc2gvX3Jvb3QuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZnJlZUdsb2JhbCA9IHJlcXVpcmUoJy4vX2ZyZWVHbG9iYWwnKTtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBzZWxmYC4gKi9cbnZhciBmcmVlU2VsZiA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuXG4vKiogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdC4gKi9cbnZhciByb290ID0gZnJlZUdsb2JhbCB8fCBmcmVlU2VsZiB8fCBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJvb3Q7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/lodash/_root.js\n");

/***/ }),

/***/ "./node_modules/lodash/_setToString.js":
/*!*********************************************!*\
  !*** ./node_modules/lodash/_setToString.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var baseSetToString = __webpack_require__(/*! ./_baseSetToString */ \"./node_modules/lodash/_baseSetToString.js\"),\n    shortOut = __webpack_require__(/*! ./_shortOut */ \"./node_modules/lodash/_shortOut.js\");\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nmodule.exports = setToString;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19zZXRUb1N0cmluZy5qcz9jMWM5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLHNCQUFzQixtQkFBTyxDQUFDLHFFQUFvQjtBQUNsRCxlQUFlLG1CQUFPLENBQUMsdURBQWE7O0FBRXBDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsU0FBUztBQUNwQixhQUFhLFNBQVM7QUFDdEI7QUFDQTs7QUFFQSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9sb2Rhc2gvX3NldFRvU3RyaW5nLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGJhc2VTZXRUb1N0cmluZyA9IHJlcXVpcmUoJy4vX2Jhc2VTZXRUb1N0cmluZycpLFxuICAgIHNob3J0T3V0ID0gcmVxdWlyZSgnLi9fc2hvcnRPdXQnKTtcblxuLyoqXG4gKiBTZXRzIHRoZSBgdG9TdHJpbmdgIG1ldGhvZCBvZiBgZnVuY2AgdG8gcmV0dXJuIGBzdHJpbmdgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdHJpbmcgVGhlIGB0b1N0cmluZ2AgcmVzdWx0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAqL1xudmFyIHNldFRvU3RyaW5nID0gc2hvcnRPdXQoYmFzZVNldFRvU3RyaW5nKTtcblxubW9kdWxlLmV4cG9ydHMgPSBzZXRUb1N0cmluZztcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/lodash/_setToString.js\n");

/***/ }),

/***/ "./node_modules/lodash/_shortOut.js":
/*!******************************************!*\
  !*** ./node_modules/lodash/_shortOut.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nmodule.exports = shortOut;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19zaG9ydE91dC5qcz9mM2MxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQixhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9sb2Rhc2gvX3Nob3J0T3V0LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqIFVzZWQgdG8gZGV0ZWN0IGhvdCBmdW5jdGlvbnMgYnkgbnVtYmVyIG9mIGNhbGxzIHdpdGhpbiBhIHNwYW4gb2YgbWlsbGlzZWNvbmRzLiAqL1xudmFyIEhPVF9DT1VOVCA9IDgwMCxcbiAgICBIT1RfU1BBTiA9IDE2O1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlTm93ID0gRGF0ZS5ub3c7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQnbGwgc2hvcnQgb3V0IGFuZCBpbnZva2UgYGlkZW50aXR5YCBpbnN0ZWFkXG4gKiBvZiBgZnVuY2Agd2hlbiBpdCdzIGNhbGxlZCBgSE9UX0NPVU5UYCBvciBtb3JlIHRpbWVzIGluIGBIT1RfU1BBTmBcbiAqIG1pbGxpc2Vjb25kcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVzdHJpY3QuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzaG9ydGFibGUgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIHNob3J0T3V0KGZ1bmMpIHtcbiAgdmFyIGNvdW50ID0gMCxcbiAgICAgIGxhc3RDYWxsZWQgPSAwO1xuXG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc3RhbXAgPSBuYXRpdmVOb3coKSxcbiAgICAgICAgcmVtYWluaW5nID0gSE9UX1NQQU4gLSAoc3RhbXAgLSBsYXN0Q2FsbGVkKTtcblxuICAgIGxhc3RDYWxsZWQgPSBzdGFtcDtcbiAgICBpZiAocmVtYWluaW5nID4gMCkge1xuICAgICAgaWYgKCsrY291bnQgPj0gSE9UX0NPVU5UKSB7XG4gICAgICAgIHJldHVybiBhcmd1bWVudHNbMF07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvdW50ID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmMuYXBwbHkodW5kZWZpbmVkLCBhcmd1bWVudHMpO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNob3J0T3V0O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/lodash/_shortOut.js\n");

/***/ }),

/***/ "./node_modules/lodash/_toSource.js":
/*!******************************************!*\
  !*** ./node_modules/lodash/_toSource.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL190b1NvdXJjZS5qcz9kYzU3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9sb2Rhc2gvX3RvU291cmNlLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIGZ1bmNQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xudmFyIGZ1bmNUb1N0cmluZyA9IGZ1bmNQcm90by50b1N0cmluZztcblxuLyoqXG4gKiBDb252ZXJ0cyBgZnVuY2AgdG8gaXRzIHNvdXJjZSBjb2RlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjb252ZXJ0LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc291cmNlIGNvZGUuXG4gKi9cbmZ1bmN0aW9uIHRvU291cmNlKGZ1bmMpIHtcbiAgaWYgKGZ1bmMgIT0gbnVsbCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZnVuY1RvU3RyaW5nLmNhbGwoZnVuYyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgICB0cnkge1xuICAgICAgcmV0dXJuIChmdW5jICsgJycpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH1cbiAgcmV0dXJuICcnO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHRvU291cmNlO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/lodash/_toSource.js\n");

/***/ }),

/***/ "./node_modules/lodash/constant.js":
/*!*****************************************!*\
  !*** ./node_modules/lodash/constant.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nmodule.exports = constant;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL2NvbnN0YW50LmpzPzcyZjAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBLHdDQUF3QyxTQUFTO0FBQ2pEO0FBQ0E7QUFDQSxXQUFXLFNBQVMsR0FBRyxTQUFTO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9sb2Rhc2gvY29uc3RhbnQuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYHZhbHVlYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDIuNC4wXG4gKiBAY2F0ZWdvcnkgVXRpbFxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcmV0dXJuIGZyb20gdGhlIG5ldyBmdW5jdGlvbi5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbnN0YW50IGZ1bmN0aW9uLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0cyA9IF8udGltZXMoMiwgXy5jb25zdGFudCh7ICdhJzogMSB9KSk7XG4gKlxuICogY29uc29sZS5sb2cob2JqZWN0cyk7XG4gKiAvLyA9PiBbeyAnYSc6IDEgfSwgeyAnYSc6IDEgfV1cbiAqXG4gKiBjb25zb2xlLmxvZyhvYmplY3RzWzBdID09PSBvYmplY3RzWzFdKTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gY29uc3RhbnQodmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjb25zdGFudDtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/lodash/constant.js\n");

/***/ }),

/***/ "./node_modules/lodash/defaults.js":
/*!*****************************************!*\
  !*** ./node_modules/lodash/defaults.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var baseRest = __webpack_require__(/*! ./_baseRest */ \"./node_modules/lodash/_baseRest.js\"),\n    eq = __webpack_require__(/*! ./eq */ \"./node_modules/lodash/eq.js\"),\n    isIterateeCall = __webpack_require__(/*! ./_isIterateeCall */ \"./node_modules/lodash/_isIterateeCall.js\"),\n    keysIn = __webpack_require__(/*! ./keysIn */ \"./node_modules/lodash/keysIn.js\");\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns own and inherited enumerable string keyed properties of source\n * objects to the destination object for all destination properties that\n * resolve to `undefined`. Source objects are applied from left to right.\n * Once a property is set, additional values of the same property are ignored.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.defaultsDeep\n * @example\n *\n * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n * // => { 'a': 1, 'b': 2 }\n */\nvar defaults = baseRest(function(object, sources) {\n  object = Object(object);\n\n  var index = -1;\n  var length = sources.length;\n  var guard = length > 2 ? sources[2] : undefined;\n\n  if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n    length = 1;\n  }\n\n  while (++index < length) {\n    var source = sources[index];\n    var props = keysIn(source);\n    var propsIndex = -1;\n    var propsLength = props.length;\n\n    while (++propsIndex < propsLength) {\n      var key = props[propsIndex];\n      var value = object[key];\n\n      if (value === undefined ||\n          (eq(value, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n        object[key] = source[key];\n      }\n    }\n  }\n\n  return object;\n});\n\nmodule.exports = defaults;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL2RlZmF1bHRzLmpzPzk1YWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsZUFBZSxtQkFBTyxDQUFDLHVEQUFhO0FBQ3BDLFNBQVMsbUJBQU8sQ0FBQyx5Q0FBTTtBQUN2QixxQkFBcUIsbUJBQU8sQ0FBQyxtRUFBbUI7QUFDaEQsYUFBYSxtQkFBTyxDQUFDLGlEQUFVOztBQUUvQjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsVUFBVTtBQUNyQixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0EsZUFBZSxTQUFTLEdBQUcsU0FBUyxHQUFHLFNBQVM7QUFDaEQsVUFBVTtBQUNWO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLENBQUM7O0FBRUQiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL2RlZmF1bHRzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGJhc2VSZXN0ID0gcmVxdWlyZSgnLi9fYmFzZVJlc3QnKSxcbiAgICBlcSA9IHJlcXVpcmUoJy4vZXEnKSxcbiAgICBpc0l0ZXJhdGVlQ2FsbCA9IHJlcXVpcmUoJy4vX2lzSXRlcmF0ZWVDYWxsJyksXG4gICAga2V5c0luID0gcmVxdWlyZSgnLi9rZXlzSW4nKTtcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBBc3NpZ25zIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2Ygc291cmNlXG4gKiBvYmplY3RzIHRvIHRoZSBkZXN0aW5hdGlvbiBvYmplY3QgZm9yIGFsbCBkZXN0aW5hdGlvbiBwcm9wZXJ0aWVzIHRoYXRcbiAqIHJlc29sdmUgdG8gYHVuZGVmaW5lZGAuIFNvdXJjZSBvYmplY3RzIGFyZSBhcHBsaWVkIGZyb20gbGVmdCB0byByaWdodC5cbiAqIE9uY2UgYSBwcm9wZXJ0eSBpcyBzZXQsIGFkZGl0aW9uYWwgdmFsdWVzIG9mIHRoZSBzYW1lIHByb3BlcnR5IGFyZSBpZ25vcmVkLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBzaW5jZSAwLjEuMFxuICogQG1lbWJlck9mIF9cbiAqIEBjYXRlZ29yeSBPYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlc10gVGhlIHNvdXJjZSBvYmplY3RzLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAqIEBzZWUgXy5kZWZhdWx0c0RlZXBcbiAqIEBleGFtcGxlXG4gKlxuICogXy5kZWZhdWx0cyh7ICdhJzogMSB9LCB7ICdiJzogMiB9LCB7ICdhJzogMyB9KTtcbiAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICovXG52YXIgZGVmYXVsdHMgPSBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIHNvdXJjZXMpIHtcbiAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG5cbiAgdmFyIGluZGV4ID0gLTE7XG4gIHZhciBsZW5ndGggPSBzb3VyY2VzLmxlbmd0aDtcbiAgdmFyIGd1YXJkID0gbGVuZ3RoID4gMiA/IHNvdXJjZXNbMl0gOiB1bmRlZmluZWQ7XG5cbiAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKHNvdXJjZXNbMF0sIHNvdXJjZXNbMV0sIGd1YXJkKSkge1xuICAgIGxlbmd0aCA9IDE7XG4gIH1cblxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBzb3VyY2UgPSBzb3VyY2VzW2luZGV4XTtcbiAgICB2YXIgcHJvcHMgPSBrZXlzSW4oc291cmNlKTtcbiAgICB2YXIgcHJvcHNJbmRleCA9IC0xO1xuICAgIHZhciBwcm9wc0xlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuICAgIHdoaWxlICgrK3Byb3BzSW5kZXggPCBwcm9wc0xlbmd0aCkge1xuICAgICAgdmFyIGtleSA9IHByb3BzW3Byb3BzSW5kZXhdO1xuICAgICAgdmFyIHZhbHVlID0gb2JqZWN0W2tleV07XG5cbiAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgKGVxKHZhbHVlLCBvYmplY3RQcm90b1trZXldKSAmJiAhaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpKSB7XG4gICAgICAgIG9iamVjdFtrZXldID0gc291cmNlW2tleV07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG9iamVjdDtcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGRlZmF1bHRzO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/lodash/defaults.js\n");

/***/ }),

/***/ "./node_modules/lodash/eq.js":
/*!***********************************!*\
  !*** ./node_modules/lodash/eq.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL2VxLmpzPzk2MzgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxFQUFFO0FBQ2IsV0FBVyxFQUFFO0FBQ2IsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2xvZGFzaC9lcS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogUGVyZm9ybXMgYVxuICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAqIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZSBlcXVpdmFsZW50LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAqXG4gKiBfLmVxKG9iamVjdCwgb2JqZWN0KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVxKG9iamVjdCwgb3RoZXIpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVxKCdhJywgJ2EnKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVxKCdhJywgT2JqZWN0KCdhJykpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVxKE5hTiwgTmFOKTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gZXEodmFsdWUsIG90aGVyKSB7XG4gIHJldHVybiB2YWx1ZSA9PT0gb3RoZXIgfHwgKHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXIpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGVxO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/lodash/eq.js\n");

/***/ }),

/***/ "./node_modules/lodash/identity.js":
/*!*****************************************!*\
  !*** ./node_modules/lodash/identity.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL2lkZW50aXR5LmpzP2NkOWQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixhQUFhLEVBQUU7QUFDZjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2xvZGFzaC9pZGVudGl0eS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhpcyBtZXRob2QgcmV0dXJucyB0aGUgZmlyc3QgYXJndW1lbnQgaXQgcmVjZWl2ZXMuXG4gKlxuICogQHN0YXRpY1xuICogQHNpbmNlIDAuMS4wXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IFV0aWxcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgQW55IHZhbHVlLlxuICogQHJldHVybnMgeyp9IFJldHVybnMgYHZhbHVlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gKlxuICogY29uc29sZS5sb2coXy5pZGVudGl0eShvYmplY3QpID09PSBvYmplY3QpO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBpZGVudGl0eSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWU7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaWRlbnRpdHk7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/lodash/identity.js\n");

/***/ }),

/***/ "./node_modules/lodash/isArguments.js":
/*!********************************************!*\
  !*** ./node_modules/lodash/isArguments.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var baseIsArguments = __webpack_require__(/*! ./_baseIsArguments */ \"./node_modules/lodash/_baseIsArguments.js\"),\n    isObjectLike = __webpack_require__(/*! ./isObjectLike */ \"./node_modules/lodash/isObjectLike.js\");\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL2lzQXJndW1lbnRzLmpzP2QzNzAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsc0JBQXNCLG1CQUFPLENBQUMscUVBQW9CO0FBQ2xELG1CQUFtQixtQkFBTyxDQUFDLDZEQUFnQjs7QUFFM0M7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLGtCQUFrQixFQUFFO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsa0JBQWtCLEVBQUU7QUFDbEU7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2xvZGFzaC9pc0FyZ3VtZW50cy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBiYXNlSXNBcmd1bWVudHMgPSByZXF1aXJlKCcuL19iYXNlSXNBcmd1bWVudHMnKSxcbiAgICBpc09iamVjdExpa2UgPSByZXF1aXJlKCcuL2lzT2JqZWN0TGlrZScpO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IG9iamVjdFByb3RvLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhbiBgYXJndW1lbnRzYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICogIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJndW1lbnRzKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNBcmd1bWVudHMgPSBiYXNlSXNBcmd1bWVudHMoZnVuY3Rpb24oKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSkgPyBiYXNlSXNBcmd1bWVudHMgOiBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAnY2FsbGVlJykgJiZcbiAgICAhcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBpc0FyZ3VtZW50cztcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/lodash/isArguments.js\n");

/***/ }),

/***/ "./node_modules/lodash/isArray.js":
/*!****************************************!*\
  !*** ./node_modules/lodash/isArray.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL2lzQXJyYXkuanM/Njc0NyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsRUFBRTtBQUNiLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL2lzQXJyYXkuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYW4gYEFycmF5YCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxubW9kdWxlLmV4cG9ydHMgPSBpc0FycmF5O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/lodash/isArray.js\n");

/***/ }),

/***/ "./node_modules/lodash/isArrayLike.js":
/*!********************************************!*\
  !*** ./node_modules/lodash/isArrayLike.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var isFunction = __webpack_require__(/*! ./isFunction */ \"./node_modules/lodash/isFunction.js\"),\n    isLength = __webpack_require__(/*! ./isLength */ \"./node_modules/lodash/isLength.js\");\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL2lzQXJyYXlMaWtlLmpzPzMwYzkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsaUJBQWlCLG1CQUFPLENBQUMseURBQWM7QUFDdkMsZUFBZSxtQkFBTyxDQUFDLHFEQUFZOztBQUVuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNBcnJheUxpa2UuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgaXNGdW5jdGlvbiA9IHJlcXVpcmUoJy4vaXNGdW5jdGlvbicpLFxuICAgIGlzTGVuZ3RoID0gcmVxdWlyZSgnLi9pc0xlbmd0aCcpO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UuIEEgdmFsdWUgaXMgY29uc2lkZXJlZCBhcnJheS1saWtlIGlmIGl0J3NcbiAqIG5vdCBhIGZ1bmN0aW9uIGFuZCBoYXMgYSBgdmFsdWUubGVuZ3RoYCB0aGF0J3MgYW4gaW50ZWdlciBncmVhdGVyIHRoYW4gb3JcbiAqIGVxdWFsIHRvIGAwYCBhbmQgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIGBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUmAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKCdhYmMnKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiBpc0xlbmd0aCh2YWx1ZS5sZW5ndGgpICYmICFpc0Z1bmN0aW9uKHZhbHVlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc0FycmF5TGlrZTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/lodash/isArrayLike.js\n");

/***/ }),

/***/ "./node_modules/lodash/isBuffer.js":
/*!*****************************************!*\
  !*** ./node_modules/lodash/isBuffer.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(module) {var root = __webpack_require__(/*! ./_root */ \"./node_modules/lodash/_root.js\"),\n    stubFalse = __webpack_require__(/*! ./stubFalse */ \"./node_modules/lodash/stubFalse.js\");\n\n/** Detect free variable `exports`. */\nvar freeExports =  true && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/module.js */ \"./node_modules/webpack/buildin/module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL2lzQnVmZmVyLmpzPzBkMjQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEseURBQVcsbUJBQU8sQ0FBQywrQ0FBUztBQUM1QixnQkFBZ0IsbUJBQU8sQ0FBQyx1REFBYTs7QUFFckM7QUFDQSxrQkFBa0IsS0FBMEI7O0FBRTVDO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2xvZGFzaC9pc0J1ZmZlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciByb290ID0gcmVxdWlyZSgnLi9fcm9vdCcpLFxuICAgIHN0dWJGYWxzZSA9IHJlcXVpcmUoJy4vc3R1YkZhbHNlJyk7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZXhwb3J0c2AuICovXG52YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmICFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgbW9kdWxlYC4gKi9cbnZhciBmcmVlTW9kdWxlID0gZnJlZUV4cG9ydHMgJiYgdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiYgIW1vZHVsZS5ub2RlVHlwZSAmJiBtb2R1bGU7XG5cbi8qKiBEZXRlY3QgdGhlIHBvcHVsYXIgQ29tbW9uSlMgZXh0ZW5zaW9uIGBtb2R1bGUuZXhwb3J0c2AuICovXG52YXIgbW9kdWxlRXhwb3J0cyA9IGZyZWVNb2R1bGUgJiYgZnJlZU1vZHVsZS5leHBvcnRzID09PSBmcmVlRXhwb3J0cztcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgQnVmZmVyID0gbW9kdWxlRXhwb3J0cyA/IHJvb3QuQnVmZmVyIDogdW5kZWZpbmVkO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlSXNCdWZmZXIgPSBCdWZmZXIgPyBCdWZmZXIuaXNCdWZmZXIgOiB1bmRlZmluZWQ7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBidWZmZXIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjMuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBidWZmZXIsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0J1ZmZlcihuZXcgQnVmZmVyKDIpKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQnVmZmVyKG5ldyBVaW50OEFycmF5KDIpKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0J1ZmZlciA9IG5hdGl2ZUlzQnVmZmVyIHx8IHN0dWJGYWxzZTtcblxubW9kdWxlLmV4cG9ydHMgPSBpc0J1ZmZlcjtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/lodash/isBuffer.js\n");

/***/ }),

/***/ "./node_modules/lodash/isFunction.js":
/*!*******************************************!*\
  !*** ./node_modules/lodash/isFunction.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var baseGetTag = __webpack_require__(/*! ./_baseGetTag */ \"./node_modules/lodash/_baseGetTag.js\"),\n    isObject = __webpack_require__(/*! ./isObject */ \"./node_modules/lodash/isObject.js\");\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL2lzRnVuY3Rpb24uanM/OTUyMCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxpQkFBaUIsbUJBQU8sQ0FBQywyREFBZTtBQUN4QyxlQUFlLG1CQUFPLENBQUMscURBQVk7O0FBRW5DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNGdW5jdGlvbi5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBiYXNlR2V0VGFnID0gcmVxdWlyZSgnLi9fYmFzZUdldFRhZycpLFxuICAgIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9pc09iamVjdCcpO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgYXN5bmNUYWcgPSAnW29iamVjdCBBc3luY0Z1bmN0aW9uXScsXG4gICAgZnVuY1RhZyA9ICdbb2JqZWN0IEZ1bmN0aW9uXScsXG4gICAgZ2VuVGFnID0gJ1tvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dJyxcbiAgICBwcm94eVRhZyA9ICdbb2JqZWN0IFByb3h5XSc7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBGdW5jdGlvbmAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZnVuY3Rpb24sIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0Z1bmN0aW9uKF8pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNGdW5jdGlvbigvYWJjLyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gIGlmICghaXNPYmplY3QodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8vIFRoZSB1c2Ugb2YgYE9iamVjdCN0b1N0cmluZ2AgYXZvaWRzIGlzc3VlcyB3aXRoIHRoZSBgdHlwZW9mYCBvcGVyYXRvclxuICAvLyBpbiBTYWZhcmkgOSB3aGljaCByZXR1cm5zICdvYmplY3QnIGZvciB0eXBlZCBhcnJheXMgYW5kIG90aGVyIGNvbnN0cnVjdG9ycy5cbiAgdmFyIHRhZyA9IGJhc2VHZXRUYWcodmFsdWUpO1xuICByZXR1cm4gdGFnID09IGZ1bmNUYWcgfHwgdGFnID09IGdlblRhZyB8fCB0YWcgPT0gYXN5bmNUYWcgfHwgdGFnID09IHByb3h5VGFnO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzRnVuY3Rpb247XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/lodash/isFunction.js\n");

/***/ }),

/***/ "./node_modules/lodash/isLength.js":
/*!*****************************************!*\
  !*** ./node_modules/lodash/isLength.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL2lzTGVuZ3RoLmpzP2IyMTgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsRUFBRTtBQUNiLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL2lzTGVuZ3RoLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgTUFYX1NBRkVfSU5URUdFUiA9IDkwMDcxOTkyNTQ3NDA5OTE7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGxlbmd0aC5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvblxuICogW2BUb0xlbmd0aGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvbGVuZ3RoKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGxlbmd0aCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzTGVuZ3RoKDMpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNMZW5ndGgoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNMZW5ndGgoSW5maW5pdHkpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzTGVuZ3RoKCczJyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0xlbmd0aCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmXG4gICAgdmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8PSBNQVhfU0FGRV9JTlRFR0VSO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzTGVuZ3RoO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/lodash/isLength.js\n");

/***/ }),

/***/ "./node_modules/lodash/isObject.js":
/*!*****************************************!*\
  !*** ./node_modules/lodash/isObject.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL2lzT2JqZWN0LmpzPzFhOGMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxFQUFFO0FBQ2IsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2xvZGFzaC9pc09iamVjdC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgdGhlXG4gKiBbbGFuZ3VhZ2UgdHlwZV0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMpXG4gKiBvZiBgT2JqZWN0YC4gKGUuZy4gYXJyYXlzLCBmdW5jdGlvbnMsIG9iamVjdHMsIHJlZ2V4ZXMsIGBuZXcgTnVtYmVyKDApYCwgYW5kIGBuZXcgU3RyaW5nKCcnKWApXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3Qoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KF8ubm9vcCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiAodHlwZSA9PSAnb2JqZWN0JyB8fCB0eXBlID09ICdmdW5jdGlvbicpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzT2JqZWN0O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/lodash/isObject.js\n");

/***/ }),

/***/ "./node_modules/lodash/isObjectLike.js":
/*!*********************************************!*\
  !*** ./node_modules/lodash/isObjectLike.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL2lzT2JqZWN0TGlrZS5qcz8xMzEwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2xvZGFzaC9pc09iamVjdExpa2UuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLiBBIHZhbHVlIGlzIG9iamVjdC1saWtlIGlmIGl0J3Mgbm90IGBudWxsYFxuICogYW5kIGhhcyBhIGB0eXBlb2ZgIHJlc3VsdCBvZiBcIm9iamVjdFwiLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc09iamVjdExpa2U7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/lodash/isObjectLike.js\n");

/***/ }),

/***/ "./node_modules/lodash/isTypedArray.js":
/*!*********************************************!*\
  !*** ./node_modules/lodash/isTypedArray.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var baseIsTypedArray = __webpack_require__(/*! ./_baseIsTypedArray */ \"./node_modules/lodash/_baseIsTypedArray.js\"),\n    baseUnary = __webpack_require__(/*! ./_baseUnary */ \"./node_modules/lodash/_baseUnary.js\"),\n    nodeUtil = __webpack_require__(/*! ./_nodeUtil */ \"./node_modules/lodash/_nodeUtil.js\");\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL2lzVHlwZWRBcnJheS5qcz83M2FjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLHVCQUF1QixtQkFBTyxDQUFDLHVFQUFxQjtBQUNwRCxnQkFBZ0IsbUJBQU8sQ0FBQyx5REFBYztBQUN0QyxlQUFlLG1CQUFPLENBQUMsdURBQWE7O0FBRXBDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2xvZGFzaC9pc1R5cGVkQXJyYXkuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYmFzZUlzVHlwZWRBcnJheSA9IHJlcXVpcmUoJy4vX2Jhc2VJc1R5cGVkQXJyYXknKSxcbiAgICBiYXNlVW5hcnkgPSByZXF1aXJlKCcuL19iYXNlVW5hcnknKSxcbiAgICBub2RlVXRpbCA9IHJlcXVpcmUoJy4vX25vZGVVdGlsJyk7XG5cbi8qIE5vZGUuanMgaGVscGVyIHJlZmVyZW5jZXMuICovXG52YXIgbm9kZUlzVHlwZWRBcnJheSA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzVHlwZWRBcnJheTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgdHlwZWQgYXJyYXkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAzLjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB0eXBlZCBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzVHlwZWRBcnJheShuZXcgVWludDhBcnJheSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc1R5cGVkQXJyYXkoW10pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzVHlwZWRBcnJheSA9IG5vZGVJc1R5cGVkQXJyYXkgPyBiYXNlVW5hcnkobm9kZUlzVHlwZWRBcnJheSkgOiBiYXNlSXNUeXBlZEFycmF5O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGlzVHlwZWRBcnJheTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/lodash/isTypedArray.js\n");

/***/ }),

/***/ "./node_modules/lodash/keysIn.js":
/*!***************************************!*\
  !*** ./node_modules/lodash/keysIn.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var arrayLikeKeys = __webpack_require__(/*! ./_arrayLikeKeys */ \"./node_modules/lodash/_arrayLikeKeys.js\"),\n    baseKeysIn = __webpack_require__(/*! ./_baseKeysIn */ \"./node_modules/lodash/_baseKeysIn.js\"),\n    isArrayLike = __webpack_require__(/*! ./isArrayLike */ \"./node_modules/lodash/isArrayLike.js\");\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nmodule.exports = keysIn;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL2tleXNJbi5qcz85OTM0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLG9CQUFvQixtQkFBTyxDQUFDLGlFQUFrQjtBQUM5QyxpQkFBaUIsbUJBQU8sQ0FBQywyREFBZTtBQUN4QyxrQkFBa0IsbUJBQU8sQ0FBQywyREFBZTs7QUFFekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsTUFBTTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL2tleXNJbi5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBhcnJheUxpa2VLZXlzID0gcmVxdWlyZSgnLi9fYXJyYXlMaWtlS2V5cycpLFxuICAgIGJhc2VLZXlzSW4gPSByZXF1aXJlKCcuL19iYXNlS2V5c0luJyksXG4gICAgaXNBcnJheUxpa2UgPSByZXF1aXJlKCcuL2lzQXJyYXlMaWtlJyk7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiBgb2JqZWN0YC5cbiAqXG4gKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDMuMC4wXG4gKiBAY2F0ZWdvcnkgT2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICogQGV4YW1wbGVcbiAqXG4gKiBmdW5jdGlvbiBGb28oKSB7XG4gKiAgIHRoaXMuYSA9IDE7XG4gKiAgIHRoaXMuYiA9IDI7XG4gKiB9XG4gKlxuICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAqXG4gKiBfLmtleXNJbihuZXcgRm9vKTtcbiAqIC8vID0+IFsnYScsICdiJywgJ2MnXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICovXG5mdW5jdGlvbiBrZXlzSW4ob2JqZWN0KSB7XG4gIHJldHVybiBpc0FycmF5TGlrZShvYmplY3QpID8gYXJyYXlMaWtlS2V5cyhvYmplY3QsIHRydWUpIDogYmFzZUtleXNJbihvYmplY3QpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGtleXNJbjtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/lodash/keysIn.js\n");

/***/ }),

/***/ "./node_modules/lodash/noop.js":
/*!*************************************!*\
  !*** ./node_modules/lodash/noop.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nmodule.exports = noop;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL25vb3AuanM/YmNkZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL25vb3AuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFRoaXMgbWV0aG9kIHJldHVybnMgYHVuZGVmaW5lZGAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAyLjMuMFxuICogQGNhdGVnb3J5IFV0aWxcbiAqIEBleGFtcGxlXG4gKlxuICogXy50aW1lcygyLCBfLm5vb3ApO1xuICogLy8gPT4gW3VuZGVmaW5lZCwgdW5kZWZpbmVkXVxuICovXG5mdW5jdGlvbiBub29wKCkge1xuICAvLyBObyBvcGVyYXRpb24gcGVyZm9ybWVkLlxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG5vb3A7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/lodash/noop.js\n");

/***/ }),

/***/ "./node_modules/lodash/stubFalse.js":
/*!******************************************!*\
  !*** ./node_modules/lodash/stubFalse.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL3N0dWJGYWxzZS5qcz8wN2M3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbG9kYXNoL3N0dWJGYWxzZS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhpcyBtZXRob2QgcmV0dXJucyBgZmFsc2VgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4xMy4wXG4gKiBAY2F0ZWdvcnkgVXRpbFxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50aW1lcygyLCBfLnN0dWJGYWxzZSk7XG4gKiAvLyA9PiBbZmFsc2UsIGZhbHNlXVxuICovXG5mdW5jdGlvbiBzdHViRmFsc2UoKSB7XG4gIHJldHVybiBmYWxzZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzdHViRmFsc2U7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/lodash/stubFalse.js\n");

/***/ }),

/***/ "./node_modules/ms/index.js":
/*!**********************************!*\
  !*** ./node_modules/ms/index.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\-?\\d?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbXMvaW5kZXguanM/MTQ2OCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxjQUFjO0FBQ3pCLFdBQVcsT0FBTztBQUNsQixZQUFZLE1BQU07QUFDbEIsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9tcy9pbmRleC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogSGVscGVycy5cbiAqL1xuXG52YXIgcyA9IDEwMDA7XG52YXIgbSA9IHMgKiA2MDtcbnZhciBoID0gbSAqIDYwO1xudmFyIGQgPSBoICogMjQ7XG52YXIgdyA9IGQgKiA3O1xudmFyIHkgPSBkICogMzY1LjI1O1xuXG4vKipcbiAqIFBhcnNlIG9yIGZvcm1hdCB0aGUgZ2l2ZW4gYHZhbGAuXG4gKlxuICogT3B0aW9uczpcbiAqXG4gKiAgLSBgbG9uZ2AgdmVyYm9zZSBmb3JtYXR0aW5nIFtmYWxzZV1cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ9IHZhbFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQHRocm93cyB7RXJyb3J9IHRocm93IGFuIGVycm9yIGlmIHZhbCBpcyBub3QgYSBub24tZW1wdHkgc3RyaW5nIG9yIGEgbnVtYmVyXG4gKiBAcmV0dXJuIHtTdHJpbmd8TnVtYmVyfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHZhbCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsO1xuICBpZiAodHlwZSA9PT0gJ3N0cmluZycgJiYgdmFsLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gcGFyc2UodmFsKTtcbiAgfSBlbHNlIGlmICh0eXBlID09PSAnbnVtYmVyJyAmJiBpc05hTih2YWwpID09PSBmYWxzZSkge1xuICAgIHJldHVybiBvcHRpb25zLmxvbmcgPyBmbXRMb25nKHZhbCkgOiBmbXRTaG9ydCh2YWwpO1xuICB9XG4gIHRocm93IG5ldyBFcnJvcihcbiAgICAndmFsIGlzIG5vdCBhIG5vbi1lbXB0eSBzdHJpbmcgb3IgYSB2YWxpZCBudW1iZXIuIHZhbD0nICtcbiAgICAgIEpTT04uc3RyaW5naWZ5KHZhbClcbiAgKTtcbn07XG5cbi8qKlxuICogUGFyc2UgdGhlIGdpdmVuIGBzdHJgIGFuZCByZXR1cm4gbWlsbGlzZWNvbmRzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHBhcnNlKHN0cikge1xuICBzdHIgPSBTdHJpbmcoc3RyKTtcbiAgaWYgKHN0ci5sZW5ndGggPiAxMDApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIG1hdGNoID0gL14oKD86XFxkKyk/XFwtP1xcZD9cXC4/XFxkKykgKihtaWxsaXNlY29uZHM/fG1zZWNzP3xtc3xzZWNvbmRzP3xzZWNzP3xzfG1pbnV0ZXM/fG1pbnM/fG18aG91cnM/fGhycz98aHxkYXlzP3xkfHdlZWtzP3x3fHllYXJzP3x5cnM/fHkpPyQvaS5leGVjKFxuICAgIHN0clxuICApO1xuICBpZiAoIW1hdGNoKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBuID0gcGFyc2VGbG9hdChtYXRjaFsxXSk7XG4gIHZhciB0eXBlID0gKG1hdGNoWzJdIHx8ICdtcycpLnRvTG93ZXJDYXNlKCk7XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgJ3llYXJzJzpcbiAgICBjYXNlICd5ZWFyJzpcbiAgICBjYXNlICd5cnMnOlxuICAgIGNhc2UgJ3lyJzpcbiAgICBjYXNlICd5JzpcbiAgICAgIHJldHVybiBuICogeTtcbiAgICBjYXNlICd3ZWVrcyc6XG4gICAgY2FzZSAnd2Vlayc6XG4gICAgY2FzZSAndyc6XG4gICAgICByZXR1cm4gbiAqIHc7XG4gICAgY2FzZSAnZGF5cyc6XG4gICAgY2FzZSAnZGF5JzpcbiAgICBjYXNlICdkJzpcbiAgICAgIHJldHVybiBuICogZDtcbiAgICBjYXNlICdob3Vycyc6XG4gICAgY2FzZSAnaG91cic6XG4gICAgY2FzZSAnaHJzJzpcbiAgICBjYXNlICdocic6XG4gICAgY2FzZSAnaCc6XG4gICAgICByZXR1cm4gbiAqIGg7XG4gICAgY2FzZSAnbWludXRlcyc6XG4gICAgY2FzZSAnbWludXRlJzpcbiAgICBjYXNlICdtaW5zJzpcbiAgICBjYXNlICdtaW4nOlxuICAgIGNhc2UgJ20nOlxuICAgICAgcmV0dXJuIG4gKiBtO1xuICAgIGNhc2UgJ3NlY29uZHMnOlxuICAgIGNhc2UgJ3NlY29uZCc6XG4gICAgY2FzZSAnc2Vjcyc6XG4gICAgY2FzZSAnc2VjJzpcbiAgICBjYXNlICdzJzpcbiAgICAgIHJldHVybiBuICogcztcbiAgICBjYXNlICdtaWxsaXNlY29uZHMnOlxuICAgIGNhc2UgJ21pbGxpc2Vjb25kJzpcbiAgICBjYXNlICdtc2Vjcyc6XG4gICAgY2FzZSAnbXNlYyc6XG4gICAgY2FzZSAnbXMnOlxuICAgICAgcmV0dXJuIG47XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbn1cblxuLyoqXG4gKiBTaG9ydCBmb3JtYXQgZm9yIGBtc2AuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG1zXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBmbXRTaG9ydChtcykge1xuICB2YXIgbXNBYnMgPSBNYXRoLmFicyhtcyk7XG4gIGlmIChtc0FicyA+PSBkKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBkKSArICdkJztcbiAgfVxuICBpZiAobXNBYnMgPj0gaCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gaCkgKyAnaCc7XG4gIH1cbiAgaWYgKG1zQWJzID49IG0pIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIG0pICsgJ20nO1xuICB9XG4gIGlmIChtc0FicyA+PSBzKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBzKSArICdzJztcbiAgfVxuICByZXR1cm4gbXMgKyAnbXMnO1xufVxuXG4vKipcbiAqIExvbmcgZm9ybWF0IGZvciBgbXNgLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBtc1xuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gZm10TG9uZyhtcykge1xuICB2YXIgbXNBYnMgPSBNYXRoLmFicyhtcyk7XG4gIGlmIChtc0FicyA+PSBkKSB7XG4gICAgcmV0dXJuIHBsdXJhbChtcywgbXNBYnMsIGQsICdkYXknKTtcbiAgfVxuICBpZiAobXNBYnMgPj0gaCkge1xuICAgIHJldHVybiBwbHVyYWwobXMsIG1zQWJzLCBoLCAnaG91cicpO1xuICB9XG4gIGlmIChtc0FicyA+PSBtKSB7XG4gICAgcmV0dXJuIHBsdXJhbChtcywgbXNBYnMsIG0sICdtaW51dGUnKTtcbiAgfVxuICBpZiAobXNBYnMgPj0gcykge1xuICAgIHJldHVybiBwbHVyYWwobXMsIG1zQWJzLCBzLCAnc2Vjb25kJyk7XG4gIH1cbiAgcmV0dXJuIG1zICsgJyBtcyc7XG59XG5cbi8qKlxuICogUGx1cmFsaXphdGlvbiBoZWxwZXIuXG4gKi9cblxuZnVuY3Rpb24gcGx1cmFsKG1zLCBtc0FicywgbiwgbmFtZSkge1xuICB2YXIgaXNQbHVyYWwgPSBtc0FicyA+PSBuICogMS41O1xuICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIG4pICsgJyAnICsgbmFtZSArIChpc1BsdXJhbCA/ICdzJyA6ICcnKTtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/ms/index.js\n");

/***/ }),

/***/ "./node_modules/paho-mqtt/paho-mqtt.js":
/*!*********************************************!*\
  !*** ./node_modules/paho-mqtt/paho-mqtt.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(global) {/*******************************************************************************\n * Copyright (c) 2013 IBM Corp.\n *\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * and Eclipse Distribution License v1.0 which accompany this distribution.\n *\n * The Eclipse Public License is available at\n *    http://www.eclipse.org/legal/epl-v10.html\n * and the Eclipse Distribution License is available at\n *   http://www.eclipse.org/org/documents/edl-v10.php.\n *\n * Contributors:\n *    Andrew Banks - initial API and implementation and initial documentation\n *******************************************************************************/\n\n\n// Only expose a single object name in the global namespace.\n// Everything must go through this module. Global Paho module\n// only has a single public function, client, which returns\n// a Paho client object given connection details.\n\n/**\n * Send and receive messages using web browsers.\n * <p>\n * This programming interface lets a JavaScript client application use the MQTT V3.1 or\n * V3.1.1 protocol to connect to an MQTT-supporting messaging server.\n *\n * The function supported includes:\n * <ol>\n * <li>Connecting to and disconnecting from a server. The server is identified by its host name and port number.\n * <li>Specifying options that relate to the communications link with the server,\n * for example the frequency of keep-alive heartbeats, and whether SSL/TLS is required.\n * <li>Subscribing to and receiving messages from MQTT Topics.\n * <li>Publishing messages to MQTT Topics.\n * </ol>\n * <p>\n * The API consists of two main objects:\n * <dl>\n * <dt><b>{@link Paho.Client}</b></dt>\n * <dd>This contains methods that provide the functionality of the API,\n * including provision of callbacks that notify the application when a message\n * arrives from or is delivered to the messaging server,\n * or when the status of its connection to the messaging server changes.</dd>\n * <dt><b>{@link Paho.Message}</b></dt>\n * <dd>This encapsulates the payload of the message along with various attributes\n * associated with its delivery, in particular the destination to which it has\n * been (or is about to be) sent.</dd>\n * </dl>\n * <p>\n * The programming interface validates parameters passed to it, and will throw\n * an Error containing an error message intended for developer use, if it detects\n * an error with any parameter.\n * <p>\n * Example:\n *\n * <code><pre>\nvar client = new Paho.MQTT.Client(location.hostname, Number(location.port), \"clientId\");\nclient.onConnectionLost = onConnectionLost;\nclient.onMessageArrived = onMessageArrived;\nclient.connect({onSuccess:onConnect});\n\nfunction onConnect() {\n  // Once a connection has been made, make a subscription and send a message.\n  console.log(\"onConnect\");\n  client.subscribe(\"/World\");\n  var message = new Paho.MQTT.Message(\"Hello\");\n  message.destinationName = \"/World\";\n  client.send(message);\n};\nfunction onConnectionLost(responseObject) {\n  if (responseObject.errorCode !== 0)\n\tconsole.log(\"onConnectionLost:\"+responseObject.errorMessage);\n};\nfunction onMessageArrived(message) {\n  console.log(\"onMessageArrived:\"+message.payloadString);\n  client.disconnect();\n};\n * </pre></code>\n * @namespace Paho\n */\n\n/* jshint shadow:true */\n(function ExportLibrary(root, factory) {\n\tif(true){\n\t\tmodule.exports = factory();\n\t} else {}\n})(this, function LibraryFactory(){\n\n\n\tvar PahoMQTT = (function (global) {\n\n\t// Private variables below, these are only visible inside the function closure\n\t// which is used to define the module.\n\tvar version = \"@VERSION@-@BUILDLEVEL@\";\n\n\t/**\n\t * @private\n\t */\n\tvar localStorage = global.localStorage || (function () {\n\t\tvar data = {};\n\n\t\treturn {\n\t\t\tsetItem: function (key, item) { data[key] = item; },\n\t\t\tgetItem: function (key) { return data[key]; },\n\t\t\tremoveItem: function (key) { delete data[key]; },\n\t\t};\n\t})();\n\n\t\t/**\n\t * Unique message type identifiers, with associated\n\t * associated integer values.\n\t * @private\n\t */\n\t\tvar MESSAGE_TYPE = {\n\t\t\tCONNECT: 1,\n\t\t\tCONNACK: 2,\n\t\t\tPUBLISH: 3,\n\t\t\tPUBACK: 4,\n\t\t\tPUBREC: 5,\n\t\t\tPUBREL: 6,\n\t\t\tPUBCOMP: 7,\n\t\t\tSUBSCRIBE: 8,\n\t\t\tSUBACK: 9,\n\t\t\tUNSUBSCRIBE: 10,\n\t\t\tUNSUBACK: 11,\n\t\t\tPINGREQ: 12,\n\t\t\tPINGRESP: 13,\n\t\t\tDISCONNECT: 14\n\t\t};\n\n\t\t// Collection of utility methods used to simplify module code\n\t\t// and promote the DRY pattern.\n\n\t\t/**\n\t * Validate an object's parameter names to ensure they\n\t * match a list of expected variables name for this option\n\t * type. Used to ensure option object passed into the API don't\n\t * contain erroneous parameters.\n\t * @param {Object} obj - User options object\n\t * @param {Object} keys - valid keys and types that may exist in obj.\n\t * @throws {Error} Invalid option parameter found.\n\t * @private\n\t */\n\t\tvar validate = function(obj, keys) {\n\t\t\tfor (var key in obj) {\n\t\t\t\tif (obj.hasOwnProperty(key)) {\n\t\t\t\t\tif (keys.hasOwnProperty(key)) {\n\t\t\t\t\t\tif (typeof obj[key] !== keys[key])\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof obj[key], key]));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar errorStr = \"Unknown property, \" + key + \". Valid properties are:\";\n\t\t\t\t\t\tfor (var validKey in keys)\n\t\t\t\t\t\t\tif (keys.hasOwnProperty(validKey))\n\t\t\t\t\t\t\t\terrorStr = errorStr+\" \"+validKey;\n\t\t\t\t\t\tthrow new Error(errorStr);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t * Return a new function which runs the user function bound\n\t * to a fixed scope.\n\t * @param {function} User function\n\t * @param {object} Function scope\n\t * @return {function} User function bound to another scope\n\t * @private\n\t */\n\t\tvar scope = function (f, scope) {\n\t\t\treturn function () {\n\t\t\t\treturn f.apply(scope, arguments);\n\t\t\t};\n\t\t};\n\n\t\t/**\n\t * Unique message type identifiers, with associated\n\t * associated integer values.\n\t * @private\n\t */\n\t\tvar ERROR = {\n\t\t\tOK: {code:0, text:\"AMQJSC0000I OK.\"},\n\t\t\tCONNECT_TIMEOUT: {code:1, text:\"AMQJSC0001E Connect timed out.\"},\n\t\t\tSUBSCRIBE_TIMEOUT: {code:2, text:\"AMQJS0002E Subscribe timed out.\"},\n\t\t\tUNSUBSCRIBE_TIMEOUT: {code:3, text:\"AMQJS0003E Unsubscribe timed out.\"},\n\t\t\tPING_TIMEOUT: {code:4, text:\"AMQJS0004E Ping timed out.\"},\n\t\t\tINTERNAL_ERROR: {code:5, text:\"AMQJS0005E Internal error. Error Message: {0}, Stack trace: {1}\"},\n\t\t\tCONNACK_RETURNCODE: {code:6, text:\"AMQJS0006E Bad Connack return code:{0} {1}.\"},\n\t\t\tSOCKET_ERROR: {code:7, text:\"AMQJS0007E Socket error:{0}.\"},\n\t\t\tSOCKET_CLOSE: {code:8, text:\"AMQJS0008I Socket closed.\"},\n\t\t\tMALFORMED_UTF: {code:9, text:\"AMQJS0009E Malformed UTF data:{0} {1} {2}.\"},\n\t\t\tUNSUPPORTED: {code:10, text:\"AMQJS0010E {0} is not supported by this browser.\"},\n\t\t\tINVALID_STATE: {code:11, text:\"AMQJS0011E Invalid state {0}.\"},\n\t\t\tINVALID_TYPE: {code:12, text:\"AMQJS0012E Invalid type {0} for {1}.\"},\n\t\t\tINVALID_ARGUMENT: {code:13, text:\"AMQJS0013E Invalid argument {0} for {1}.\"},\n\t\t\tUNSUPPORTED_OPERATION: {code:14, text:\"AMQJS0014E Unsupported operation.\"},\n\t\t\tINVALID_STORED_DATA: {code:15, text:\"AMQJS0015E Invalid data in local storage key={0} value={1}.\"},\n\t\t\tINVALID_MQTT_MESSAGE_TYPE: {code:16, text:\"AMQJS0016E Invalid MQTT message type {0}.\"},\n\t\t\tMALFORMED_UNICODE: {code:17, text:\"AMQJS0017E Malformed Unicode string:{0} {1}.\"},\n\t\t\tBUFFER_FULL: {code:18, text:\"AMQJS0018E Message buffer is full, maximum buffer size: {0}.\"},\n\t\t};\n\n\t\t/** CONNACK RC Meaning. */\n\t\tvar CONNACK_RC = {\n\t\t\t0:\"Connection Accepted\",\n\t\t\t1:\"Connection Refused: unacceptable protocol version\",\n\t\t\t2:\"Connection Refused: identifier rejected\",\n\t\t\t3:\"Connection Refused: server unavailable\",\n\t\t\t4:\"Connection Refused: bad user name or password\",\n\t\t\t5:\"Connection Refused: not authorized\"\n\t\t};\n\n\t/**\n\t * Format an error message text.\n\t * @private\n\t * @param {error} ERROR value above.\n\t * @param {substitutions} [array] substituted into the text.\n\t * @return the text with the substitutions made.\n\t */\n\t\tvar format = function(error, substitutions) {\n\t\t\tvar text = error.text;\n\t\t\tif (substitutions) {\n\t\t\t\tvar field,start;\n\t\t\t\tfor (var i=0; i<substitutions.length; i++) {\n\t\t\t\t\tfield = \"{\"+i+\"}\";\n\t\t\t\t\tstart = text.indexOf(field);\n\t\t\t\t\tif(start > 0) {\n\t\t\t\t\t\tvar part1 = text.substring(0,start);\n\t\t\t\t\t\tvar part2 = text.substring(start+field.length);\n\t\t\t\t\t\ttext = part1+substitutions[i]+part2;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn text;\n\t\t};\n\n\t\t//MQTT protocol and version          6    M    Q    I    s    d    p    3\n\t\tvar MqttProtoIdentifierv3 = [0x00,0x06,0x4d,0x51,0x49,0x73,0x64,0x70,0x03];\n\t\t//MQTT proto/version for 311         4    M    Q    T    T    4\n\t\tvar MqttProtoIdentifierv4 = [0x00,0x04,0x4d,0x51,0x54,0x54,0x04];\n\n\t\t/**\n\t * Construct an MQTT wire protocol message.\n\t * @param type MQTT packet type.\n\t * @param options optional wire message attributes.\n\t *\n\t * Optional properties\n\t *\n\t * messageIdentifier: message ID in the range [0..65535]\n\t * payloadMessage:\tApplication Message - PUBLISH only\n\t * connectStrings:\tarray of 0 or more Strings to be put into the CONNECT payload\n\t * topics:\t\t\tarray of strings (SUBSCRIBE, UNSUBSCRIBE)\n\t * requestQoS:\t\tarray of QoS values [0..2]\n\t *\n\t * \"Flag\" properties\n\t * cleanSession:\ttrue if present / false if absent (CONNECT)\n\t * willMessage:  \ttrue if present / false if absent (CONNECT)\n\t * isRetained:\t\ttrue if present / false if absent (CONNECT)\n\t * userName:\t\ttrue if present / false if absent (CONNECT)\n\t * password:\t\ttrue if present / false if absent (CONNECT)\n\t * keepAliveInterval:\tinteger [0..65535]  (CONNECT)\n\t *\n\t * @private\n\t * @ignore\n\t */\n\t\tvar WireMessage = function (type, options) {\n\t\t\tthis.type = type;\n\t\t\tfor (var name in options) {\n\t\t\t\tif (options.hasOwnProperty(name)) {\n\t\t\t\t\tthis[name] = options[name];\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tWireMessage.prototype.encode = function() {\n\t\t// Compute the first byte of the fixed header\n\t\t\tvar first = ((this.type & 0x0f) << 4);\n\n\t\t\t/*\n\t\t * Now calculate the length of the variable header + payload by adding up the lengths\n\t\t * of all the component parts\n\t\t */\n\n\t\t\tvar remLength = 0;\n\t\t\tvar topicStrLength = [];\n\t\t\tvar destinationNameLength = 0;\n\t\t\tvar willMessagePayloadBytes;\n\n\t\t\t// if the message contains a messageIdentifier then we need two bytes for that\n\t\t\tif (this.messageIdentifier !== undefined)\n\t\t\t\tremLength += 2;\n\n\t\t\tswitch(this.type) {\n\t\t\t// If this a Connect then we need to include 12 bytes for its header\n\t\t\tcase MESSAGE_TYPE.CONNECT:\n\t\t\t\tswitch(this.mqttVersion) {\n\t\t\t\tcase 3:\n\t\t\t\t\tremLength += MqttProtoIdentifierv3.length + 3;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 4:\n\t\t\t\t\tremLength += MqttProtoIdentifierv4.length + 3;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tremLength += UTF8Length(this.clientId) + 2;\n\t\t\t\tif (this.willMessage !== undefined) {\n\t\t\t\t\tremLength += UTF8Length(this.willMessage.destinationName) + 2;\n\t\t\t\t\t// Will message is always a string, sent as UTF-8 characters with a preceding length.\n\t\t\t\t\twillMessagePayloadBytes = this.willMessage.payloadBytes;\n\t\t\t\t\tif (!(willMessagePayloadBytes instanceof Uint8Array))\n\t\t\t\t\t\twillMessagePayloadBytes = new Uint8Array(payloadBytes);\n\t\t\t\t\tremLength += willMessagePayloadBytes.byteLength +2;\n\t\t\t\t}\n\t\t\t\tif (this.userName !== undefined)\n\t\t\t\t\tremLength += UTF8Length(this.userName) + 2;\n\t\t\t\tif (this.password !== undefined)\n\t\t\t\t\tremLength += UTF8Length(this.password) + 2;\n\t\t\t\tbreak;\n\n\t\t\t// Subscribe, Unsubscribe can both contain topic strings\n\t\t\tcase MESSAGE_TYPE.SUBSCRIBE:\n\t\t\t\tfirst |= 0x02; // Qos = 1;\n\t\t\t\tfor ( var i = 0; i < this.topics.length; i++) {\n\t\t\t\t\ttopicStrLength[i] = UTF8Length(this.topics[i]);\n\t\t\t\t\tremLength += topicStrLength[i] + 2;\n\t\t\t\t}\n\t\t\t\tremLength += this.requestedQos.length; // 1 byte for each topic's Qos\n\t\t\t\t// QoS on Subscribe only\n\t\t\t\tbreak;\n\n\t\t\tcase MESSAGE_TYPE.UNSUBSCRIBE:\n\t\t\t\tfirst |= 0x02; // Qos = 1;\n\t\t\t\tfor ( var i = 0; i < this.topics.length; i++) {\n\t\t\t\t\ttopicStrLength[i] = UTF8Length(this.topics[i]);\n\t\t\t\t\tremLength += topicStrLength[i] + 2;\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase MESSAGE_TYPE.PUBREL:\n\t\t\t\tfirst |= 0x02; // Qos = 1;\n\t\t\t\tbreak;\n\n\t\t\tcase MESSAGE_TYPE.PUBLISH:\n\t\t\t\tif (this.payloadMessage.duplicate) first |= 0x08;\n\t\t\t\tfirst  = first |= (this.payloadMessage.qos << 1);\n\t\t\t\tif (this.payloadMessage.retained) first |= 0x01;\n\t\t\t\tdestinationNameLength = UTF8Length(this.payloadMessage.destinationName);\n\t\t\t\tremLength += destinationNameLength + 2;\n\t\t\t\tvar payloadBytes = this.payloadMessage.payloadBytes;\n\t\t\t\tremLength += payloadBytes.byteLength;\n\t\t\t\tif (payloadBytes instanceof ArrayBuffer)\n\t\t\t\t\tpayloadBytes = new Uint8Array(payloadBytes);\n\t\t\t\telse if (!(payloadBytes instanceof Uint8Array))\n\t\t\t\t\tpayloadBytes = new Uint8Array(payloadBytes.buffer);\n\t\t\t\tbreak;\n\n\t\t\tcase MESSAGE_TYPE.DISCONNECT:\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// Now we can allocate a buffer for the message\n\n\t\t\tvar mbi = encodeMBI(remLength);  // Convert the length to MQTT MBI format\n\t\t\tvar pos = mbi.length + 1;        // Offset of start of variable header\n\t\t\tvar buffer = new ArrayBuffer(remLength + pos);\n\t\t\tvar byteStream = new Uint8Array(buffer);    // view it as a sequence of bytes\n\n\t\t\t//Write the fixed header into the buffer\n\t\t\tbyteStream[0] = first;\n\t\t\tbyteStream.set(mbi,1);\n\n\t\t\t// If this is a PUBLISH then the variable header starts with a topic\n\t\t\tif (this.type == MESSAGE_TYPE.PUBLISH)\n\t\t\t\tpos = writeString(this.payloadMessage.destinationName, destinationNameLength, byteStream, pos);\n\t\t\t// If this is a CONNECT then the variable header contains the protocol name/version, flags and keepalive time\n\n\t\t\telse if (this.type == MESSAGE_TYPE.CONNECT) {\n\t\t\t\tswitch (this.mqttVersion) {\n\t\t\t\tcase 3:\n\t\t\t\t\tbyteStream.set(MqttProtoIdentifierv3, pos);\n\t\t\t\t\tpos += MqttProtoIdentifierv3.length;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 4:\n\t\t\t\t\tbyteStream.set(MqttProtoIdentifierv4, pos);\n\t\t\t\t\tpos += MqttProtoIdentifierv4.length;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tvar connectFlags = 0;\n\t\t\t\tif (this.cleanSession)\n\t\t\t\t\tconnectFlags = 0x02;\n\t\t\t\tif (this.willMessage !== undefined ) {\n\t\t\t\t\tconnectFlags |= 0x04;\n\t\t\t\t\tconnectFlags |= (this.willMessage.qos<<3);\n\t\t\t\t\tif (this.willMessage.retained) {\n\t\t\t\t\t\tconnectFlags |= 0x20;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (this.userName !== undefined)\n\t\t\t\t\tconnectFlags |= 0x80;\n\t\t\t\tif (this.password !== undefined)\n\t\t\t\t\tconnectFlags |= 0x40;\n\t\t\t\tbyteStream[pos++] = connectFlags;\n\t\t\t\tpos = writeUint16 (this.keepAliveInterval, byteStream, pos);\n\t\t\t}\n\n\t\t\t// Output the messageIdentifier - if there is one\n\t\t\tif (this.messageIdentifier !== undefined)\n\t\t\t\tpos = writeUint16 (this.messageIdentifier, byteStream, pos);\n\n\t\t\tswitch(this.type) {\n\t\t\tcase MESSAGE_TYPE.CONNECT:\n\t\t\t\tpos = writeString(this.clientId, UTF8Length(this.clientId), byteStream, pos);\n\t\t\t\tif (this.willMessage !== undefined) {\n\t\t\t\t\tpos = writeString(this.willMessage.destinationName, UTF8Length(this.willMessage.destinationName), byteStream, pos);\n\t\t\t\t\tpos = writeUint16(willMessagePayloadBytes.byteLength, byteStream, pos);\n\t\t\t\t\tbyteStream.set(willMessagePayloadBytes, pos);\n\t\t\t\t\tpos += willMessagePayloadBytes.byteLength;\n\n\t\t\t\t}\n\t\t\t\tif (this.userName !== undefined)\n\t\t\t\t\tpos = writeString(this.userName, UTF8Length(this.userName), byteStream, pos);\n\t\t\t\tif (this.password !== undefined)\n\t\t\t\t\tpos = writeString(this.password, UTF8Length(this.password), byteStream, pos);\n\t\t\t\tbreak;\n\n\t\t\tcase MESSAGE_TYPE.PUBLISH:\n\t\t\t\t// PUBLISH has a text or binary payload, if text do not add a 2 byte length field, just the UTF characters.\n\t\t\t\tbyteStream.set(payloadBytes, pos);\n\n\t\t\t\tbreak;\n\n\t\t\t\t//    \t    case MESSAGE_TYPE.PUBREC:\n\t\t\t\t//    \t    case MESSAGE_TYPE.PUBREL:\n\t\t\t\t//    \t    case MESSAGE_TYPE.PUBCOMP:\n\t\t\t\t//    \t    \tbreak;\n\n\t\t\tcase MESSAGE_TYPE.SUBSCRIBE:\n\t\t\t\t// SUBSCRIBE has a list of topic strings and request QoS\n\t\t\t\tfor (var i=0; i<this.topics.length; i++) {\n\t\t\t\t\tpos = writeString(this.topics[i], topicStrLength[i], byteStream, pos);\n\t\t\t\t\tbyteStream[pos++] = this.requestedQos[i];\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase MESSAGE_TYPE.UNSUBSCRIBE:\n\t\t\t\t// UNSUBSCRIBE has a list of topic strings\n\t\t\t\tfor (var i=0; i<this.topics.length; i++)\n\t\t\t\t\tpos = writeString(this.topics[i], topicStrLength[i], byteStream, pos);\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\t// Do nothing.\n\t\t\t}\n\n\t\t\treturn buffer;\n\t\t};\n\n\t\tfunction decodeMessage(input,pos) {\n\t\t\tvar startingPos = pos;\n\t\t\tvar first = input[pos];\n\t\t\tvar type = first >> 4;\n\t\t\tvar messageInfo = first &= 0x0f;\n\t\t\tpos += 1;\n\n\n\t\t\t// Decode the remaining length (MBI format)\n\n\t\t\tvar digit;\n\t\t\tvar remLength = 0;\n\t\t\tvar multiplier = 1;\n\t\t\tdo {\n\t\t\t\tif (pos == input.length) {\n\t\t\t\t\treturn [null,startingPos];\n\t\t\t\t}\n\t\t\t\tdigit = input[pos++];\n\t\t\t\tremLength += ((digit & 0x7F) * multiplier);\n\t\t\t\tmultiplier *= 128;\n\t\t\t} while ((digit & 0x80) !== 0);\n\n\t\t\tvar endPos = pos+remLength;\n\t\t\tif (endPos > input.length) {\n\t\t\t\treturn [null,startingPos];\n\t\t\t}\n\n\t\t\tvar wireMessage = new WireMessage(type);\n\t\t\tswitch(type) {\n\t\t\tcase MESSAGE_TYPE.CONNACK:\n\t\t\t\tvar connectAcknowledgeFlags = input[pos++];\n\t\t\t\tif (connectAcknowledgeFlags & 0x01)\n\t\t\t\t\twireMessage.sessionPresent = true;\n\t\t\t\twireMessage.returnCode = input[pos++];\n\t\t\t\tbreak;\n\n\t\t\tcase MESSAGE_TYPE.PUBLISH:\n\t\t\t\tvar qos = (messageInfo >> 1) & 0x03;\n\n\t\t\t\tvar len = readUint16(input, pos);\n\t\t\t\tpos += 2;\n\t\t\t\tvar topicName = parseUTF8(input, pos, len);\n\t\t\t\tpos += len;\n\t\t\t\t// If QoS 1 or 2 there will be a messageIdentifier\n\t\t\t\tif (qos > 0) {\n\t\t\t\t\twireMessage.messageIdentifier = readUint16(input, pos);\n\t\t\t\t\tpos += 2;\n\t\t\t\t}\n\n\t\t\t\tvar message = new Message(input.subarray(pos, endPos));\n\t\t\t\tif ((messageInfo & 0x01) == 0x01)\n\t\t\t\t\tmessage.retained = true;\n\t\t\t\tif ((messageInfo & 0x08) == 0x08)\n\t\t\t\t\tmessage.duplicate =  true;\n\t\t\t\tmessage.qos = qos;\n\t\t\t\tmessage.destinationName = topicName;\n\t\t\t\twireMessage.payloadMessage = message;\n\t\t\t\tbreak;\n\n\t\t\tcase  MESSAGE_TYPE.PUBACK:\n\t\t\tcase  MESSAGE_TYPE.PUBREC:\n\t\t\tcase  MESSAGE_TYPE.PUBREL:\n\t\t\tcase  MESSAGE_TYPE.PUBCOMP:\n\t\t\tcase  MESSAGE_TYPE.UNSUBACK:\n\t\t\t\twireMessage.messageIdentifier = readUint16(input, pos);\n\t\t\t\tbreak;\n\n\t\t\tcase  MESSAGE_TYPE.SUBACK:\n\t\t\t\twireMessage.messageIdentifier = readUint16(input, pos);\n\t\t\t\tpos += 2;\n\t\t\t\twireMessage.returnCode = input.subarray(pos, endPos);\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\treturn [wireMessage,endPos];\n\t\t}\n\n\t\tfunction writeUint16(input, buffer, offset) {\n\t\t\tbuffer[offset++] = input >> 8;      //MSB\n\t\t\tbuffer[offset++] = input % 256;     //LSB\n\t\t\treturn offset;\n\t\t}\n\n\t\tfunction writeString(input, utf8Length, buffer, offset) {\n\t\t\toffset = writeUint16(utf8Length, buffer, offset);\n\t\t\tstringToUTF8(input, buffer, offset);\n\t\t\treturn offset + utf8Length;\n\t\t}\n\n\t\tfunction readUint16(buffer, offset) {\n\t\t\treturn 256*buffer[offset] + buffer[offset+1];\n\t\t}\n\n\t\t/**\n\t * Encodes an MQTT Multi-Byte Integer\n\t * @private\n\t */\n\t\tfunction encodeMBI(number) {\n\t\t\tvar output = new Array(1);\n\t\t\tvar numBytes = 0;\n\n\t\t\tdo {\n\t\t\t\tvar digit = number % 128;\n\t\t\t\tnumber = number >> 7;\n\t\t\t\tif (number > 0) {\n\t\t\t\t\tdigit |= 0x80;\n\t\t\t\t}\n\t\t\t\toutput[numBytes++] = digit;\n\t\t\t} while ( (number > 0) && (numBytes<4) );\n\n\t\t\treturn output;\n\t\t}\n\n\t\t/**\n\t * Takes a String and calculates its length in bytes when encoded in UTF8.\n\t * @private\n\t */\n\t\tfunction UTF8Length(input) {\n\t\t\tvar output = 0;\n\t\t\tfor (var i = 0; i<input.length; i++)\n\t\t\t{\n\t\t\t\tvar charCode = input.charCodeAt(i);\n\t\t\t\tif (charCode > 0x7FF)\n\t\t\t\t{\n\t\t\t\t\t// Surrogate pair means its a 4 byte character\n\t\t\t\t\tif (0xD800 <= charCode && charCode <= 0xDBFF)\n\t\t\t\t\t{\n\t\t\t\t\t\ti++;\n\t\t\t\t\t\toutput++;\n\t\t\t\t\t}\n\t\t\t\t\toutput +=3;\n\t\t\t\t}\n\t\t\t\telse if (charCode > 0x7F)\n\t\t\t\t\toutput +=2;\n\t\t\t\telse\n\t\t\t\t\toutput++;\n\t\t\t}\n\t\t\treturn output;\n\t\t}\n\n\t\t/**\n\t * Takes a String and writes it into an array as UTF8 encoded bytes.\n\t * @private\n\t */\n\t\tfunction stringToUTF8(input, output, start) {\n\t\t\tvar pos = start;\n\t\t\tfor (var i = 0; i<input.length; i++) {\n\t\t\t\tvar charCode = input.charCodeAt(i);\n\n\t\t\t\t// Check for a surrogate pair.\n\t\t\t\tif (0xD800 <= charCode && charCode <= 0xDBFF) {\n\t\t\t\t\tvar lowCharCode = input.charCodeAt(++i);\n\t\t\t\t\tif (isNaN(lowCharCode)) {\n\t\t\t\t\t\tthrow new Error(format(ERROR.MALFORMED_UNICODE, [charCode, lowCharCode]));\n\t\t\t\t\t}\n\t\t\t\t\tcharCode = ((charCode - 0xD800)<<10) + (lowCharCode - 0xDC00) + 0x10000;\n\n\t\t\t\t}\n\n\t\t\t\tif (charCode <= 0x7F) {\n\t\t\t\t\toutput[pos++] = charCode;\n\t\t\t\t} else if (charCode <= 0x7FF) {\n\t\t\t\t\toutput[pos++] = charCode>>6  & 0x1F | 0xC0;\n\t\t\t\t\toutput[pos++] = charCode     & 0x3F | 0x80;\n\t\t\t\t} else if (charCode <= 0xFFFF) {\n\t\t\t\t\toutput[pos++] = charCode>>12 & 0x0F | 0xE0;\n\t\t\t\t\toutput[pos++] = charCode>>6  & 0x3F | 0x80;\n\t\t\t\t\toutput[pos++] = charCode     & 0x3F | 0x80;\n\t\t\t\t} else {\n\t\t\t\t\toutput[pos++] = charCode>>18 & 0x07 | 0xF0;\n\t\t\t\t\toutput[pos++] = charCode>>12 & 0x3F | 0x80;\n\t\t\t\t\toutput[pos++] = charCode>>6  & 0x3F | 0x80;\n\t\t\t\t\toutput[pos++] = charCode     & 0x3F | 0x80;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn output;\n\t\t}\n\n\t\tfunction parseUTF8(input, offset, length) {\n\t\t\tvar output = \"\";\n\t\t\tvar utf16;\n\t\t\tvar pos = offset;\n\n\t\t\twhile (pos < offset+length)\n\t\t\t{\n\t\t\t\tvar byte1 = input[pos++];\n\t\t\t\tif (byte1 < 128)\n\t\t\t\t\tutf16 = byte1;\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tvar byte2 = input[pos++]-128;\n\t\t\t\t\tif (byte2 < 0)\n\t\t\t\t\t\tthrow new Error(format(ERROR.MALFORMED_UTF, [byte1.toString(16), byte2.toString(16),\"\"]));\n\t\t\t\t\tif (byte1 < 0xE0)             // 2 byte character\n\t\t\t\t\t\tutf16 = 64*(byte1-0xC0) + byte2;\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tvar byte3 = input[pos++]-128;\n\t\t\t\t\t\tif (byte3 < 0)\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.MALFORMED_UTF, [byte1.toString(16), byte2.toString(16), byte3.toString(16)]));\n\t\t\t\t\t\tif (byte1 < 0xF0)        // 3 byte character\n\t\t\t\t\t\t\tutf16 = 4096*(byte1-0xE0) + 64*byte2 + byte3;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvar byte4 = input[pos++]-128;\n\t\t\t\t\t\t\tif (byte4 < 0)\n\t\t\t\t\t\t\t\tthrow new Error(format(ERROR.MALFORMED_UTF, [byte1.toString(16), byte2.toString(16), byte3.toString(16), byte4.toString(16)]));\n\t\t\t\t\t\t\tif (byte1 < 0xF8)        // 4 byte character\n\t\t\t\t\t\t\t\tutf16 = 262144*(byte1-0xF0) + 4096*byte2 + 64*byte3 + byte4;\n\t\t\t\t\t\t\telse                     // longer encodings are not supported\n\t\t\t\t\t\t\t\tthrow new Error(format(ERROR.MALFORMED_UTF, [byte1.toString(16), byte2.toString(16), byte3.toString(16), byte4.toString(16)]));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (utf16 > 0xFFFF)   // 4 byte character - express as a surrogate pair\n\t\t\t\t{\n\t\t\t\t\tutf16 -= 0x10000;\n\t\t\t\t\toutput += String.fromCharCode(0xD800 + (utf16 >> 10)); // lead character\n\t\t\t\t\tutf16 = 0xDC00 + (utf16 & 0x3FF);  // trail character\n\t\t\t\t}\n\t\t\t\toutput += String.fromCharCode(utf16);\n\t\t\t}\n\t\t\treturn output;\n\t\t}\n\n\t\t/**\n\t * Repeat keepalive requests, monitor responses.\n\t * @ignore\n\t */\n\t\tvar Pinger = function(client, keepAliveInterval) {\n\t\t\tthis._client = client;\n\t\t\tthis._keepAliveInterval = keepAliveInterval*1000;\n\t\t\tthis.isReset = false;\n\n\t\t\tvar pingReq = new WireMessage(MESSAGE_TYPE.PINGREQ).encode();\n\n\t\t\tvar doTimeout = function (pinger) {\n\t\t\t\treturn function () {\n\t\t\t\t\treturn doPing.apply(pinger);\n\t\t\t\t};\n\t\t\t};\n\n\t\t\t/** @ignore */\n\t\t\tvar doPing = function() {\n\t\t\t\tif (!this.isReset) {\n\t\t\t\t\tthis._client._trace(\"Pinger.doPing\", \"Timed out\");\n\t\t\t\t\tthis._client._disconnected( ERROR.PING_TIMEOUT.code , format(ERROR.PING_TIMEOUT));\n\t\t\t\t} else {\n\t\t\t\t\tthis.isReset = false;\n\t\t\t\t\tthis._client._trace(\"Pinger.doPing\", \"send PINGREQ\");\n\t\t\t\t\tthis._client.socket.send(pingReq);\n\t\t\t\t\tthis.timeout = setTimeout(doTimeout(this), this._keepAliveInterval);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.reset = function() {\n\t\t\t\tthis.isReset = true;\n\t\t\t\tclearTimeout(this.timeout);\n\t\t\t\tif (this._keepAliveInterval > 0)\n\t\t\t\t\tthis.timeout = setTimeout(doTimeout(this), this._keepAliveInterval);\n\t\t\t};\n\n\t\t\tthis.cancel = function() {\n\t\t\t\tclearTimeout(this.timeout);\n\t\t\t};\n\t\t};\n\n\t\t/**\n\t * Monitor request completion.\n\t * @ignore\n\t */\n\t\tvar Timeout = function(client, timeoutSeconds, action, args) {\n\t\t\tif (!timeoutSeconds)\n\t\t\t\ttimeoutSeconds = 30;\n\n\t\t\tvar doTimeout = function (action, client, args) {\n\t\t\t\treturn function () {\n\t\t\t\t\treturn action.apply(client, args);\n\t\t\t\t};\n\t\t\t};\n\t\t\tthis.timeout = setTimeout(doTimeout(action, client, args), timeoutSeconds * 1000);\n\n\t\t\tthis.cancel = function() {\n\t\t\t\tclearTimeout(this.timeout);\n\t\t\t};\n\t\t};\n\n\t/**\n\t * Internal implementation of the Websockets MQTT V3.1 client.\n\t *\n\t * @name Paho.ClientImpl @constructor\n\t * @param {String} host the DNS nameof the webSocket host.\n\t * @param {Number} port the port number for that host.\n\t * @param {String} clientId the MQ client identifier.\n\t */\n\t\tvar ClientImpl = function (uri, host, port, path, clientId) {\n\t\t// Check dependencies are satisfied in this browser.\n\t\t\tif (!(\"WebSocket\" in global && global.WebSocket !== null)) {\n\t\t\t\tthrow new Error(format(ERROR.UNSUPPORTED, [\"WebSocket\"]));\n\t\t\t}\n\t\t\tif (!(\"ArrayBuffer\" in global && global.ArrayBuffer !== null)) {\n\t\t\t\tthrow new Error(format(ERROR.UNSUPPORTED, [\"ArrayBuffer\"]));\n\t\t\t}\n\t\t\tthis._trace(\"Paho.Client\", uri, host, port, path, clientId);\n\n\t\t\tthis.host = host;\n\t\t\tthis.port = port;\n\t\t\tthis.path = path;\n\t\t\tthis.uri = uri;\n\t\t\tthis.clientId = clientId;\n\t\t\tthis._wsuri = null;\n\n\t\t\t// Local storagekeys are qualified with the following string.\n\t\t\t// The conditional inclusion of path in the key is for backward\n\t\t\t// compatibility to when the path was not configurable and assumed to\n\t\t\t// be /mqtt\n\t\t\tthis._localKey=host+\":\"+port+(path!=\"/mqtt\"?\":\"+path:\"\")+\":\"+clientId+\":\";\n\n\t\t\t// Create private instance-only message queue\n\t\t\t// Internal queue of messages to be sent, in sending order.\n\t\t\tthis._msg_queue = [];\n\t\t\tthis._buffered_msg_queue = [];\n\n\t\t\t// Messages we have sent and are expecting a response for, indexed by their respective message ids.\n\t\t\tthis._sentMessages = {};\n\n\t\t\t// Messages we have received and acknowleged and are expecting a confirm message for\n\t\t\t// indexed by their respective message ids.\n\t\t\tthis._receivedMessages = {};\n\n\t\t\t// Internal list of callbacks to be executed when messages\n\t\t\t// have been successfully sent over web socket, e.g. disconnect\n\t\t\t// when it doesn't have to wait for ACK, just message is dispatched.\n\t\t\tthis._notify_msg_sent = {};\n\n\t\t\t// Unique identifier for SEND messages, incrementing\n\t\t\t// counter as messages are sent.\n\t\t\tthis._message_identifier = 1;\n\n\t\t\t// Used to determine the transmission sequence of stored sent messages.\n\t\t\tthis._sequence = 0;\n\n\n\t\t\t// Load the local state, if any, from the saved version, only restore state relevant to this client.\n\t\t\tfor (var key in localStorage)\n\t\t\t\tif (   key.indexOf(\"Sent:\"+this._localKey) === 0 || key.indexOf(\"Received:\"+this._localKey) === 0)\n\t\t\t\t\tthis.restore(key);\n\t\t};\n\n\t\t// Messaging Client public instance members.\n\t\tClientImpl.prototype.host = null;\n\t\tClientImpl.prototype.port = null;\n\t\tClientImpl.prototype.path = null;\n\t\tClientImpl.prototype.uri = null;\n\t\tClientImpl.prototype.clientId = null;\n\n\t\t// Messaging Client private instance members.\n\t\tClientImpl.prototype.socket = null;\n\t\t/* true once we have received an acknowledgement to a CONNECT packet. */\n\t\tClientImpl.prototype.connected = false;\n\t\t/* The largest message identifier allowed, may not be larger than 2**16 but\n\t\t * if set smaller reduces the maximum number of outbound messages allowed.\n\t\t */\n\t\tClientImpl.prototype.maxMessageIdentifier = 65536;\n\t\tClientImpl.prototype.connectOptions = null;\n\t\tClientImpl.prototype.hostIndex = null;\n\t\tClientImpl.prototype.onConnected = null;\n\t\tClientImpl.prototype.onConnectionLost = null;\n\t\tClientImpl.prototype.onMessageDelivered = null;\n\t\tClientImpl.prototype.onMessageArrived = null;\n\t\tClientImpl.prototype.traceFunction = null;\n\t\tClientImpl.prototype._msg_queue = null;\n\t\tClientImpl.prototype._buffered_msg_queue = null;\n\t\tClientImpl.prototype._connectTimeout = null;\n\t\t/* The sendPinger monitors how long we allow before we send data to prove to the server that we are alive. */\n\t\tClientImpl.prototype.sendPinger = null;\n\t\t/* The receivePinger monitors how long we allow before we require evidence that the server is alive. */\n\t\tClientImpl.prototype.receivePinger = null;\n\t\tClientImpl.prototype._reconnectInterval = 1; // Reconnect Delay, starts at 1 second\n\t\tClientImpl.prototype._reconnecting = false;\n\t\tClientImpl.prototype._reconnectTimeout = null;\n\t\tClientImpl.prototype.disconnectedPublishing = false;\n\t\tClientImpl.prototype.disconnectedBufferSize = 5000;\n\n\t\tClientImpl.prototype.receiveBuffer = null;\n\n\t\tClientImpl.prototype._traceBuffer = null;\n\t\tClientImpl.prototype._MAX_TRACE_ENTRIES = 100;\n\n\t\tClientImpl.prototype.connect = function (connectOptions) {\n\t\t\tvar connectOptionsMasked = this._traceMask(connectOptions, \"password\");\n\t\t\tthis._trace(\"Client.connect\", connectOptionsMasked, this.socket, this.connected);\n\n\t\t\tif (this.connected)\n\t\t\t\tthrow new Error(format(ERROR.INVALID_STATE, [\"already connected\"]));\n\t\t\tif (this.socket)\n\t\t\t\tthrow new Error(format(ERROR.INVALID_STATE, [\"already connected\"]));\n\n\t\t\tif (this._reconnecting) {\n\t\t\t// connect() function is called while reconnect is in progress.\n\t\t\t// Terminate the auto reconnect process to use new connect options.\n\t\t\t\tthis._reconnectTimeout.cancel();\n\t\t\t\tthis._reconnectTimeout = null;\n\t\t\t\tthis._reconnecting = false;\n\t\t\t}\n\n\t\t\tthis.connectOptions = connectOptions;\n\t\t\tthis._reconnectInterval = 1;\n\t\t\tthis._reconnecting = false;\n\t\t\tif (connectOptions.uris) {\n\t\t\t\tthis.hostIndex = 0;\n\t\t\t\tthis._doConnect(connectOptions.uris[0]);\n\t\t\t} else {\n\t\t\t\tthis._doConnect(this.uri);\n\t\t\t}\n\n\t\t};\n\n\t\tClientImpl.prototype.subscribe = function (filter, subscribeOptions) {\n\t\t\tthis._trace(\"Client.subscribe\", filter, subscribeOptions);\n\n\t\t\tif (!this.connected)\n\t\t\t\tthrow new Error(format(ERROR.INVALID_STATE, [\"not connected\"]));\n\n            var wireMessage = new WireMessage(MESSAGE_TYPE.SUBSCRIBE);\n            wireMessage.topics = filter.constructor === Array ? filter : [filter];\n            if (subscribeOptions.qos === undefined)\n                subscribeOptions.qos = 0;\n            wireMessage.requestedQos = [];\n            for (var i = 0; i < wireMessage.topics.length; i++)\n                wireMessage.requestedQos[i] = subscribeOptions.qos;\n\n\t\t\tif (subscribeOptions.onSuccess) {\n\t\t\t\twireMessage.onSuccess = function(grantedQos) {subscribeOptions.onSuccess({invocationContext:subscribeOptions.invocationContext,grantedQos:grantedQos});};\n\t\t\t}\n\n\t\t\tif (subscribeOptions.onFailure) {\n\t\t\t\twireMessage.onFailure = function(errorCode) {subscribeOptions.onFailure({invocationContext:subscribeOptions.invocationContext,errorCode:errorCode, errorMessage:format(errorCode)});};\n\t\t\t}\n\n\t\t\tif (subscribeOptions.timeout) {\n\t\t\t\twireMessage.timeOut = new Timeout(this, subscribeOptions.timeout, subscribeOptions.onFailure,\n\t\t\t\t\t[{invocationContext:subscribeOptions.invocationContext,\n\t\t\t\t\t\terrorCode:ERROR.SUBSCRIBE_TIMEOUT.code,\n\t\t\t\t\t\terrorMessage:format(ERROR.SUBSCRIBE_TIMEOUT)}]);\n\t\t\t}\n\n\t\t\t// All subscriptions return a SUBACK.\n\t\t\tthis._requires_ack(wireMessage);\n\t\t\tthis._schedule_message(wireMessage);\n\t\t};\n\n\t\t/** @ignore */\n\t\tClientImpl.prototype.unsubscribe = function(filter, unsubscribeOptions) {\n\t\t\tthis._trace(\"Client.unsubscribe\", filter, unsubscribeOptions);\n\n\t\t\tif (!this.connected)\n\t\t\t\tthrow new Error(format(ERROR.INVALID_STATE, [\"not connected\"]));\n\n            var wireMessage = new WireMessage(MESSAGE_TYPE.UNSUBSCRIBE);\n            wireMessage.topics = filter.constructor === Array ? filter : [filter];\n\n\t\t\tif (unsubscribeOptions.onSuccess) {\n\t\t\t\twireMessage.callback = function() {unsubscribeOptions.onSuccess({invocationContext:unsubscribeOptions.invocationContext});};\n\t\t\t}\n\t\t\tif (unsubscribeOptions.timeout) {\n\t\t\t\twireMessage.timeOut = new Timeout(this, unsubscribeOptions.timeout, unsubscribeOptions.onFailure,\n\t\t\t\t\t[{invocationContext:unsubscribeOptions.invocationContext,\n\t\t\t\t\t\terrorCode:ERROR.UNSUBSCRIBE_TIMEOUT.code,\n\t\t\t\t\t\terrorMessage:format(ERROR.UNSUBSCRIBE_TIMEOUT)}]);\n\t\t\t}\n\n\t\t\t// All unsubscribes return a SUBACK.\n\t\t\tthis._requires_ack(wireMessage);\n\t\t\tthis._schedule_message(wireMessage);\n\t\t};\n\n\t\tClientImpl.prototype.send = function (message) {\n\t\t\tthis._trace(\"Client.send\", message);\n\n\t\t\tvar wireMessage = new WireMessage(MESSAGE_TYPE.PUBLISH);\n\t\t\twireMessage.payloadMessage = message;\n\n\t\t\tif (this.connected) {\n\t\t\t// Mark qos 1 & 2 message as \"ACK required\"\n\t\t\t// For qos 0 message, invoke onMessageDelivered callback if there is one.\n\t\t\t// Then schedule the message.\n\t\t\t\tif (message.qos > 0) {\n\t\t\t\t\tthis._requires_ack(wireMessage);\n\t\t\t\t} else if (this.onMessageDelivered) {\n\t\t\t\t\tthis._notify_msg_sent[wireMessage] = this.onMessageDelivered(wireMessage.payloadMessage);\n\t\t\t\t}\n\t\t\t\tthis._schedule_message(wireMessage);\n\t\t\t} else {\n\t\t\t// Currently disconnected, will not schedule this message\n\t\t\t// Check if reconnecting is in progress and disconnected publish is enabled.\n\t\t\t\tif (this._reconnecting && this.disconnectedPublishing) {\n\t\t\t\t// Check the limit which include the \"required ACK\" messages\n\t\t\t\t\tvar messageCount = Object.keys(this._sentMessages).length + this._buffered_msg_queue.length;\n\t\t\t\t\tif (messageCount > this.disconnectedBufferSize) {\n\t\t\t\t\t\tthrow new Error(format(ERROR.BUFFER_FULL, [this.disconnectedBufferSize]));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (message.qos > 0) {\n\t\t\t\t\t\t// Mark this message as \"ACK required\"\n\t\t\t\t\t\t\tthis._requires_ack(wireMessage);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\twireMessage.sequence = ++this._sequence;\n\t\t\t\t\t\t\t// Add messages in fifo order to array, by adding to start\n\t\t\t\t\t\t\tthis._buffered_msg_queue.unshift(wireMessage);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthrow new Error(format(ERROR.INVALID_STATE, [\"not connected\"]));\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tClientImpl.prototype.disconnect = function () {\n\t\t\tthis._trace(\"Client.disconnect\");\n\n\t\t\tif (this._reconnecting) {\n\t\t\t// disconnect() function is called while reconnect is in progress.\n\t\t\t// Terminate the auto reconnect process.\n\t\t\t\tthis._reconnectTimeout.cancel();\n\t\t\t\tthis._reconnectTimeout = null;\n\t\t\t\tthis._reconnecting = false;\n\t\t\t}\n\n\t\t\tif (!this.socket)\n\t\t\t\tthrow new Error(format(ERROR.INVALID_STATE, [\"not connecting or connected\"]));\n\n\t\t\tvar wireMessage = new WireMessage(MESSAGE_TYPE.DISCONNECT);\n\n\t\t\t// Run the disconnected call back as soon as the message has been sent,\n\t\t\t// in case of a failure later on in the disconnect processing.\n\t\t\t// as a consequence, the _disconected call back may be run several times.\n\t\t\tthis._notify_msg_sent[wireMessage] = scope(this._disconnected, this);\n\n\t\t\tthis._schedule_message(wireMessage);\n\t\t};\n\n\t\tClientImpl.prototype.getTraceLog = function () {\n\t\t\tif ( this._traceBuffer !== null ) {\n\t\t\t\tthis._trace(\"Client.getTraceLog\", new Date());\n\t\t\t\tthis._trace(\"Client.getTraceLog in flight messages\", this._sentMessages.length);\n\t\t\t\tfor (var key in this._sentMessages)\n\t\t\t\t\tthis._trace(\"_sentMessages \",key, this._sentMessages[key]);\n\t\t\t\tfor (var key in this._receivedMessages)\n\t\t\t\t\tthis._trace(\"_receivedMessages \",key, this._receivedMessages[key]);\n\n\t\t\t\treturn this._traceBuffer;\n\t\t\t}\n\t\t};\n\n\t\tClientImpl.prototype.startTrace = function () {\n\t\t\tif ( this._traceBuffer === null ) {\n\t\t\t\tthis._traceBuffer = [];\n\t\t\t}\n\t\t\tthis._trace(\"Client.startTrace\", new Date(), version);\n\t\t};\n\n\t\tClientImpl.prototype.stopTrace = function () {\n\t\t\tdelete this._traceBuffer;\n\t\t};\n\n\t\tClientImpl.prototype._doConnect = function (wsurl) {\n\t\t// When the socket is open, this client will send the CONNECT WireMessage using the saved parameters.\n\t\t\tif (this.connectOptions.useSSL) {\n\t\t\t\tvar uriParts = wsurl.split(\":\");\n\t\t\t\turiParts[0] = \"wss\";\n\t\t\t\twsurl = uriParts.join(\":\");\n\t\t\t}\n\t\t\tthis._wsuri = wsurl;\n\t\t\tthis.connected = false;\n\n\n\n\t\t\tif (this.connectOptions.mqttVersion < 4) {\n\t\t\t\tthis.socket = new WebSocket(wsurl, [\"mqttv3.1\"]);\n\t\t\t} else {\n\t\t\t\tthis.socket = new WebSocket(wsurl, [\"mqtt\"]);\n\t\t\t}\n\t\t\tthis.socket.binaryType = \"arraybuffer\";\n\t\t\tthis.socket.onopen = scope(this._on_socket_open, this);\n\t\t\tthis.socket.onmessage = scope(this._on_socket_message, this);\n\t\t\tthis.socket.onerror = scope(this._on_socket_error, this);\n\t\t\tthis.socket.onclose = scope(this._on_socket_close, this);\n\n\t\t\tthis.sendPinger = new Pinger(this, this.connectOptions.keepAliveInterval);\n\t\t\tthis.receivePinger = new Pinger(this, this.connectOptions.keepAliveInterval);\n\t\t\tif (this._connectTimeout) {\n\t\t\t\tthis._connectTimeout.cancel();\n\t\t\t\tthis._connectTimeout = null;\n\t\t\t}\n\t\t\tthis._connectTimeout = new Timeout(this, this.connectOptions.timeout, this._disconnected,  [ERROR.CONNECT_TIMEOUT.code, format(ERROR.CONNECT_TIMEOUT)]);\n\t\t};\n\n\n\t\t// Schedule a new message to be sent over the WebSockets\n\t\t// connection. CONNECT messages cause WebSocket connection\n\t\t// to be started. All other messages are queued internally\n\t\t// until this has happened. When WS connection starts, process\n\t\t// all outstanding messages.\n\t\tClientImpl.prototype._schedule_message = function (message) {\n\t\t\t// Add messages in fifo order to array, by adding to start\n\t\t\tthis._msg_queue.unshift(message);\n\t\t\t// Process outstanding messages in the queue if we have an  open socket, and have received CONNACK.\n\t\t\tif (this.connected) {\n\t\t\t\tthis._process_queue();\n\t\t\t}\n\t\t};\n\n\t\tClientImpl.prototype.store = function(prefix, wireMessage) {\n\t\t\tvar storedMessage = {type:wireMessage.type, messageIdentifier:wireMessage.messageIdentifier, version:1};\n\n\t\t\tswitch(wireMessage.type) {\n\t\t\tcase MESSAGE_TYPE.PUBLISH:\n\t\t\t\tif(wireMessage.pubRecReceived)\n\t\t\t\t\tstoredMessage.pubRecReceived = true;\n\n\t\t\t\t// Convert the payload to a hex string.\n\t\t\t\tstoredMessage.payloadMessage = {};\n\t\t\t\tvar hex = \"\";\n\t\t\t\tvar messageBytes = wireMessage.payloadMessage.payloadBytes;\n\t\t\t\tfor (var i=0; i<messageBytes.length; i++) {\n\t\t\t\t\tif (messageBytes[i] <= 0xF)\n\t\t\t\t\t\thex = hex+\"0\"+messageBytes[i].toString(16);\n\t\t\t\t\telse\n\t\t\t\t\t\thex = hex+messageBytes[i].toString(16);\n\t\t\t\t}\n\t\t\t\tstoredMessage.payloadMessage.payloadHex = hex;\n\n\t\t\t\tstoredMessage.payloadMessage.qos = wireMessage.payloadMessage.qos;\n\t\t\t\tstoredMessage.payloadMessage.destinationName = wireMessage.payloadMessage.destinationName;\n\t\t\t\tif (wireMessage.payloadMessage.duplicate)\n\t\t\t\t\tstoredMessage.payloadMessage.duplicate = true;\n\t\t\t\tif (wireMessage.payloadMessage.retained)\n\t\t\t\t\tstoredMessage.payloadMessage.retained = true;\n\n\t\t\t\t// Add a sequence number to sent messages.\n\t\t\t\tif ( prefix.indexOf(\"Sent:\") === 0 ) {\n\t\t\t\t\tif ( wireMessage.sequence === undefined )\n\t\t\t\t\t\twireMessage.sequence = ++this._sequence;\n\t\t\t\t\tstoredMessage.sequence = wireMessage.sequence;\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tthrow Error(format(ERROR.INVALID_STORED_DATA, [prefix+this._localKey+wireMessage.messageIdentifier, storedMessage]));\n\t\t\t}\n\t\t\tlocalStorage.setItem(prefix+this._localKey+wireMessage.messageIdentifier, JSON.stringify(storedMessage));\n\t\t};\n\n\t\tClientImpl.prototype.restore = function(key) {\n\t\t\tvar value = localStorage.getItem(key);\n\t\t\tvar storedMessage = JSON.parse(value);\n\n\t\t\tvar wireMessage = new WireMessage(storedMessage.type, storedMessage);\n\n\t\t\tswitch(storedMessage.type) {\n\t\t\tcase MESSAGE_TYPE.PUBLISH:\n\t\t\t\t// Replace the payload message with a Message object.\n\t\t\t\tvar hex = storedMessage.payloadMessage.payloadHex;\n\t\t\t\tvar buffer = new ArrayBuffer((hex.length)/2);\n\t\t\t\tvar byteStream = new Uint8Array(buffer);\n\t\t\t\tvar i = 0;\n\t\t\t\twhile (hex.length >= 2) {\n\t\t\t\t\tvar x = parseInt(hex.substring(0, 2), 16);\n\t\t\t\t\thex = hex.substring(2, hex.length);\n\t\t\t\t\tbyteStream[i++] = x;\n\t\t\t\t}\n\t\t\t\tvar payloadMessage = new Message(byteStream);\n\n\t\t\t\tpayloadMessage.qos = storedMessage.payloadMessage.qos;\n\t\t\t\tpayloadMessage.destinationName = storedMessage.payloadMessage.destinationName;\n\t\t\t\tif (storedMessage.payloadMessage.duplicate)\n\t\t\t\t\tpayloadMessage.duplicate = true;\n\t\t\t\tif (storedMessage.payloadMessage.retained)\n\t\t\t\t\tpayloadMessage.retained = true;\n\t\t\t\twireMessage.payloadMessage = payloadMessage;\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tthrow Error(format(ERROR.INVALID_STORED_DATA, [key, value]));\n\t\t\t}\n\n\t\t\tif (key.indexOf(\"Sent:\"+this._localKey) === 0) {\n\t\t\t\twireMessage.payloadMessage.duplicate = true;\n\t\t\t\tthis._sentMessages[wireMessage.messageIdentifier] = wireMessage;\n\t\t\t} else if (key.indexOf(\"Received:\"+this._localKey) === 0) {\n\t\t\t\tthis._receivedMessages[wireMessage.messageIdentifier] = wireMessage;\n\t\t\t}\n\t\t};\n\n\t\tClientImpl.prototype._process_queue = function () {\n\t\t\tvar message = null;\n\n\t\t\t// Send all queued messages down socket connection\n\t\t\twhile ((message = this._msg_queue.pop())) {\n\t\t\t\tthis._socket_send(message);\n\t\t\t\t// Notify listeners that message was successfully sent\n\t\t\t\tif (this._notify_msg_sent[message]) {\n\t\t\t\t\tthis._notify_msg_sent[message]();\n\t\t\t\t\tdelete this._notify_msg_sent[message];\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t * Expect an ACK response for this message. Add message to the set of in progress\n\t * messages and set an unused identifier in this message.\n\t * @ignore\n\t */\n\t\tClientImpl.prototype._requires_ack = function (wireMessage) {\n\t\t\tvar messageCount = Object.keys(this._sentMessages).length;\n\t\t\tif (messageCount > this.maxMessageIdentifier)\n\t\t\t\tthrow Error (\"Too many messages:\"+messageCount);\n\n\t\t\twhile(this._sentMessages[this._message_identifier] !== undefined) {\n\t\t\t\tthis._message_identifier++;\n\t\t\t}\n\t\t\twireMessage.messageIdentifier = this._message_identifier;\n\t\t\tthis._sentMessages[wireMessage.messageIdentifier] = wireMessage;\n\t\t\tif (wireMessage.type === MESSAGE_TYPE.PUBLISH) {\n\t\t\t\tthis.store(\"Sent:\", wireMessage);\n\t\t\t}\n\t\t\tif (this._message_identifier === this.maxMessageIdentifier) {\n\t\t\t\tthis._message_identifier = 1;\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t * Called when the underlying websocket has been opened.\n\t * @ignore\n\t */\n\t\tClientImpl.prototype._on_socket_open = function () {\n\t\t// Create the CONNECT message object.\n\t\t\tvar wireMessage = new WireMessage(MESSAGE_TYPE.CONNECT, this.connectOptions);\n\t\t\twireMessage.clientId = this.clientId;\n\t\t\tthis._socket_send(wireMessage);\n\t\t};\n\n\t\t/**\n\t * Called when the underlying websocket has received a complete packet.\n\t * @ignore\n\t */\n\t\tClientImpl.prototype._on_socket_message = function (event) {\n\t\t\tthis._trace(\"Client._on_socket_message\", event.data);\n\t\t\tvar messages = this._deframeMessages(event.data);\n\t\t\tfor (var i = 0; i < messages.length; i+=1) {\n\t\t\t\tthis._handleMessage(messages[i]);\n\t\t\t}\n\t\t};\n\n\t\tClientImpl.prototype._deframeMessages = function(data) {\n\t\t\tvar byteArray = new Uint8Array(data);\n\t\t\tvar messages = [];\n\t\t\tif (this.receiveBuffer) {\n\t\t\t\tvar newData = new Uint8Array(this.receiveBuffer.length+byteArray.length);\n\t\t\t\tnewData.set(this.receiveBuffer);\n\t\t\t\tnewData.set(byteArray,this.receiveBuffer.length);\n\t\t\t\tbyteArray = newData;\n\t\t\t\tdelete this.receiveBuffer;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tvar offset = 0;\n\t\t\t\twhile(offset < byteArray.length) {\n\t\t\t\t\tvar result = decodeMessage(byteArray,offset);\n\t\t\t\t\tvar wireMessage = result[0];\n\t\t\t\t\toffset = result[1];\n\t\t\t\t\tif (wireMessage !== null) {\n\t\t\t\t\t\tmessages.push(wireMessage);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (offset < byteArray.length) {\n\t\t\t\t\tthis.receiveBuffer = byteArray.subarray(offset);\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tvar errorStack = ((error.hasOwnProperty(\"stack\") == \"undefined\") ? error.stack.toString() : \"No Error Stack Available\");\n\t\t\t\tthis._disconnected(ERROR.INTERNAL_ERROR.code , format(ERROR.INTERNAL_ERROR, [error.message,errorStack]));\n\t\t\t\treturn;\n\t\t\t}\n\t\t\treturn messages;\n\t\t};\n\n\t\tClientImpl.prototype._handleMessage = function(wireMessage) {\n\n\t\t\tthis._trace(\"Client._handleMessage\", wireMessage);\n\n\t\t\ttry {\n\t\t\t\tswitch(wireMessage.type) {\n\t\t\t\tcase MESSAGE_TYPE.CONNACK:\n\t\t\t\t\tthis._connectTimeout.cancel();\n\t\t\t\t\tif (this._reconnectTimeout)\n\t\t\t\t\t\tthis._reconnectTimeout.cancel();\n\n\t\t\t\t\t// If we have started using clean session then clear up the local state.\n\t\t\t\t\tif (this.connectOptions.cleanSession) {\n\t\t\t\t\t\tfor (var key in this._sentMessages) {\n\t\t\t\t\t\t\tvar sentMessage = this._sentMessages[key];\n\t\t\t\t\t\t\tlocalStorage.removeItem(\"Sent:\"+this._localKey+sentMessage.messageIdentifier);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis._sentMessages = {};\n\n\t\t\t\t\t\tfor (var key in this._receivedMessages) {\n\t\t\t\t\t\t\tvar receivedMessage = this._receivedMessages[key];\n\t\t\t\t\t\t\tlocalStorage.removeItem(\"Received:\"+this._localKey+receivedMessage.messageIdentifier);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis._receivedMessages = {};\n\t\t\t\t\t}\n\t\t\t\t\t// Client connected and ready for business.\n\t\t\t\t\tif (wireMessage.returnCode === 0) {\n\n\t\t\t\t\t\tthis.connected = true;\n\t\t\t\t\t\t// Jump to the end of the list of uris and stop looking for a good host.\n\n\t\t\t\t\t\tif (this.connectOptions.uris)\n\t\t\t\t\t\t\tthis.hostIndex = this.connectOptions.uris.length;\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._disconnected(ERROR.CONNACK_RETURNCODE.code , format(ERROR.CONNACK_RETURNCODE, [wireMessage.returnCode, CONNACK_RC[wireMessage.returnCode]]));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Resend messages.\n\t\t\t\t\tvar sequencedMessages = [];\n\t\t\t\t\tfor (var msgId in this._sentMessages) {\n\t\t\t\t\t\tif (this._sentMessages.hasOwnProperty(msgId))\n\t\t\t\t\t\t\tsequencedMessages.push(this._sentMessages[msgId]);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Also schedule qos 0 buffered messages if any\n\t\t\t\t\tif (this._buffered_msg_queue.length > 0) {\n\t\t\t\t\t\tvar msg = null;\n\t\t\t\t\t\twhile ((msg = this._buffered_msg_queue.pop())) {\n\t\t\t\t\t\t\tsequencedMessages.push(msg);\n\t\t\t\t\t\t\tif (this.onMessageDelivered)\n\t\t\t\t\t\t\t\tthis._notify_msg_sent[msg] = this.onMessageDelivered(msg.payloadMessage);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Sort sentMessages into the original sent order.\n\t\t\t\t\tvar sequencedMessages = sequencedMessages.sort(function(a,b) {return a.sequence - b.sequence;} );\n\t\t\t\t\tfor (var i=0, len=sequencedMessages.length; i<len; i++) {\n\t\t\t\t\t\tvar sentMessage = sequencedMessages[i];\n\t\t\t\t\t\tif (sentMessage.type == MESSAGE_TYPE.PUBLISH && sentMessage.pubRecReceived) {\n\t\t\t\t\t\t\tvar pubRelMessage = new WireMessage(MESSAGE_TYPE.PUBREL, {messageIdentifier:sentMessage.messageIdentifier});\n\t\t\t\t\t\t\tthis._schedule_message(pubRelMessage);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis._schedule_message(sentMessage);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Execute the connectOptions.onSuccess callback if there is one.\n\t\t\t\t\t// Will also now return if this connection was the result of an automatic\n\t\t\t\t\t// reconnect and which URI was successfully connected to.\n\t\t\t\t\tif (this.connectOptions.onSuccess) {\n\t\t\t\t\t\tthis.connectOptions.onSuccess({invocationContext:this.connectOptions.invocationContext});\n\t\t\t\t\t}\n\n\t\t\t\t\tvar reconnected = false;\n\t\t\t\t\tif (this._reconnecting) {\n\t\t\t\t\t\treconnected = true;\n\t\t\t\t\t\tthis._reconnectInterval = 1;\n\t\t\t\t\t\tthis._reconnecting = false;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Execute the onConnected callback if there is one.\n\t\t\t\t\tthis._connected(reconnected, this._wsuri);\n\n\t\t\t\t\t// Process all queued messages now that the connection is established.\n\t\t\t\t\tthis._process_queue();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MESSAGE_TYPE.PUBLISH:\n\t\t\t\t\tthis._receivePublish(wireMessage);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MESSAGE_TYPE.PUBACK:\n\t\t\t\t\tvar sentMessage = this._sentMessages[wireMessage.messageIdentifier];\n\t\t\t\t\t// If this is a re flow of a PUBACK after we have restarted receivedMessage will not exist.\n\t\t\t\t\tif (sentMessage) {\n\t\t\t\t\t\tdelete this._sentMessages[wireMessage.messageIdentifier];\n\t\t\t\t\t\tlocalStorage.removeItem(\"Sent:\"+this._localKey+wireMessage.messageIdentifier);\n\t\t\t\t\t\tif (this.onMessageDelivered)\n\t\t\t\t\t\t\tthis.onMessageDelivered(sentMessage.payloadMessage);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MESSAGE_TYPE.PUBREC:\n\t\t\t\t\tvar sentMessage = this._sentMessages[wireMessage.messageIdentifier];\n\t\t\t\t\t// If this is a re flow of a PUBREC after we have restarted receivedMessage will not exist.\n\t\t\t\t\tif (sentMessage) {\n\t\t\t\t\t\tsentMessage.pubRecReceived = true;\n\t\t\t\t\t\tvar pubRelMessage = new WireMessage(MESSAGE_TYPE.PUBREL, {messageIdentifier:wireMessage.messageIdentifier});\n\t\t\t\t\t\tthis.store(\"Sent:\", sentMessage);\n\t\t\t\t\t\tthis._schedule_message(pubRelMessage);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MESSAGE_TYPE.PUBREL:\n\t\t\t\t\tvar receivedMessage = this._receivedMessages[wireMessage.messageIdentifier];\n\t\t\t\t\tlocalStorage.removeItem(\"Received:\"+this._localKey+wireMessage.messageIdentifier);\n\t\t\t\t\t// If this is a re flow of a PUBREL after we have restarted receivedMessage will not exist.\n\t\t\t\t\tif (receivedMessage) {\n\t\t\t\t\t\tthis._receiveMessage(receivedMessage);\n\t\t\t\t\t\tdelete this._receivedMessages[wireMessage.messageIdentifier];\n\t\t\t\t\t}\n\t\t\t\t\t// Always flow PubComp, we may have previously flowed PubComp but the server lost it and restarted.\n\t\t\t\t\tvar pubCompMessage = new WireMessage(MESSAGE_TYPE.PUBCOMP, {messageIdentifier:wireMessage.messageIdentifier});\n\t\t\t\t\tthis._schedule_message(pubCompMessage);\n\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MESSAGE_TYPE.PUBCOMP:\n\t\t\t\t\tvar sentMessage = this._sentMessages[wireMessage.messageIdentifier];\n\t\t\t\t\tdelete this._sentMessages[wireMessage.messageIdentifier];\n\t\t\t\t\tlocalStorage.removeItem(\"Sent:\"+this._localKey+wireMessage.messageIdentifier);\n\t\t\t\t\tif (this.onMessageDelivered)\n\t\t\t\t\t\tthis.onMessageDelivered(sentMessage.payloadMessage);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MESSAGE_TYPE.SUBACK:\n\t\t\t\t\tvar sentMessage = this._sentMessages[wireMessage.messageIdentifier];\n\t\t\t\t\tif (sentMessage) {\n\t\t\t\t\t\tif(sentMessage.timeOut)\n\t\t\t\t\t\t\tsentMessage.timeOut.cancel();\n\t\t\t\t\t\t// This will need to be fixed when we add multiple topic support\n\t\t\t\t\t\tif (wireMessage.returnCode[0] === 0x80) {\n\t\t\t\t\t\t\tif (sentMessage.onFailure) {\n\t\t\t\t\t\t\t\tsentMessage.onFailure(wireMessage.returnCode);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (sentMessage.onSuccess) {\n\t\t\t\t\t\t\tsentMessage.onSuccess(wireMessage.returnCode);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdelete this._sentMessages[wireMessage.messageIdentifier];\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MESSAGE_TYPE.UNSUBACK:\n\t\t\t\t\tvar sentMessage = this._sentMessages[wireMessage.messageIdentifier];\n\t\t\t\t\tif (sentMessage) {\n\t\t\t\t\t\tif (sentMessage.timeOut)\n\t\t\t\t\t\t\tsentMessage.timeOut.cancel();\n\t\t\t\t\t\tif (sentMessage.callback) {\n\t\t\t\t\t\t\tsentMessage.callback();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdelete this._sentMessages[wireMessage.messageIdentifier];\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MESSAGE_TYPE.PINGRESP:\n\t\t\t\t/* The sendPinger or receivePinger may have sent a ping, the receivePinger has already been reset. */\n\t\t\t\t\tthis.sendPinger.reset();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MESSAGE_TYPE.DISCONNECT:\n\t\t\t\t// Clients do not expect to receive disconnect packets.\n\t\t\t\t\tthis._disconnected(ERROR.INVALID_MQTT_MESSAGE_TYPE.code , format(ERROR.INVALID_MQTT_MESSAGE_TYPE, [wireMessage.type]));\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthis._disconnected(ERROR.INVALID_MQTT_MESSAGE_TYPE.code , format(ERROR.INVALID_MQTT_MESSAGE_TYPE, [wireMessage.type]));\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tvar errorStack = ((error.hasOwnProperty(\"stack\") == \"undefined\") ? error.stack.toString() : \"No Error Stack Available\");\n\t\t\t\tthis._disconnected(ERROR.INTERNAL_ERROR.code , format(ERROR.INTERNAL_ERROR, [error.message,errorStack]));\n\t\t\t\treturn;\n\t\t\t}\n\t\t};\n\n\t\t/** @ignore */\n\t\tClientImpl.prototype._on_socket_error = function (error) {\n\t\t\tif (!this._reconnecting) {\n\t\t\t\tthis._disconnected(ERROR.SOCKET_ERROR.code , format(ERROR.SOCKET_ERROR, [error.data]));\n\t\t\t}\n\t\t};\n\n\t\t/** @ignore */\n\t\tClientImpl.prototype._on_socket_close = function () {\n\t\t\tif (!this._reconnecting) {\n\t\t\t\tthis._disconnected(ERROR.SOCKET_CLOSE.code , format(ERROR.SOCKET_CLOSE));\n\t\t\t}\n\t\t};\n\n\t\t/** @ignore */\n\t\tClientImpl.prototype._socket_send = function (wireMessage) {\n\n\t\t\tif (wireMessage.type == 1) {\n\t\t\t\tvar wireMessageMasked = this._traceMask(wireMessage, \"password\");\n\t\t\t\tthis._trace(\"Client._socket_send\", wireMessageMasked);\n\t\t\t}\n\t\t\telse this._trace(\"Client._socket_send\", wireMessage);\n\n\t\t\tthis.socket.send(wireMessage.encode());\n\t\t\t/* We have proved to the server we are alive. */\n\t\t\tthis.sendPinger.reset();\n\t\t};\n\n\t\t/** @ignore */\n\t\tClientImpl.prototype._receivePublish = function (wireMessage) {\n\t\t\tswitch(wireMessage.payloadMessage.qos) {\n\t\t\tcase \"undefined\":\n\t\t\tcase 0:\n\t\t\t\tthis._receiveMessage(wireMessage);\n\t\t\t\tbreak;\n\n\t\t\tcase 1:\n\t\t\t\tvar pubAckMessage = new WireMessage(MESSAGE_TYPE.PUBACK, {messageIdentifier:wireMessage.messageIdentifier});\n\t\t\t\tthis._schedule_message(pubAckMessage);\n\t\t\t\tthis._receiveMessage(wireMessage);\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\t\t\t\tthis._receivedMessages[wireMessage.messageIdentifier] = wireMessage;\n\t\t\t\tthis.store(\"Received:\", wireMessage);\n\t\t\t\tvar pubRecMessage = new WireMessage(MESSAGE_TYPE.PUBREC, {messageIdentifier:wireMessage.messageIdentifier});\n\t\t\t\tthis._schedule_message(pubRecMessage);\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tthrow Error(\"Invaild qos=\" + wireMessage.payloadMessage.qos);\n\t\t\t}\n\t\t};\n\n\t\t/** @ignore */\n\t\tClientImpl.prototype._receiveMessage = function (wireMessage) {\n\t\t\tif (this.onMessageArrived) {\n\t\t\t\tthis.onMessageArrived(wireMessage.payloadMessage);\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t * Client has connected.\n\t * @param {reconnect} [boolean] indicate if this was a result of reconnect operation.\n\t * @param {uri} [string] fully qualified WebSocket URI of the server.\n\t */\n\t\tClientImpl.prototype._connected = function (reconnect, uri) {\n\t\t// Execute the onConnected callback if there is one.\n\t\t\tif (this.onConnected)\n\t\t\t\tthis.onConnected(reconnect, uri);\n\t\t};\n\n\t\t/**\n\t * Attempts to reconnect the client to the server.\n   * For each reconnect attempt, will double the reconnect interval\n   * up to 128 seconds.\n\t */\n\t\tClientImpl.prototype._reconnect = function () {\n\t\t\tthis._trace(\"Client._reconnect\");\n\t\t\tif (!this.connected) {\n\t\t\t\tthis._reconnecting = true;\n\t\t\t\tthis.sendPinger.cancel();\n\t\t\t\tthis.receivePinger.cancel();\n\t\t\t\tif (this._reconnectInterval < 128)\n\t\t\t\t\tthis._reconnectInterval = this._reconnectInterval * 2;\n\t\t\t\tif (this.connectOptions.uris) {\n\t\t\t\t\tthis.hostIndex = 0;\n\t\t\t\t\tthis._doConnect(this.connectOptions.uris[0]);\n\t\t\t\t} else {\n\t\t\t\t\tthis._doConnect(this.uri);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t * Client has disconnected either at its own request or because the server\n\t * or network disconnected it. Remove all non-durable state.\n\t * @param {errorCode} [number] the error number.\n\t * @param {errorText} [string] the error text.\n\t * @ignore\n\t */\n\t\tClientImpl.prototype._disconnected = function (errorCode, errorText) {\n\t\t\tthis._trace(\"Client._disconnected\", errorCode, errorText);\n\n\t\t\tif (errorCode !== undefined && this._reconnecting) {\n\t\t\t\t//Continue automatic reconnect process\n\t\t\t\tthis._reconnectTimeout = new Timeout(this, this._reconnectInterval, this._reconnect);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.sendPinger.cancel();\n\t\t\tthis.receivePinger.cancel();\n\t\t\tif (this._connectTimeout) {\n\t\t\t\tthis._connectTimeout.cancel();\n\t\t\t\tthis._connectTimeout = null;\n\t\t\t}\n\n\t\t\t// Clear message buffers.\n\t\t\tthis._msg_queue = [];\n\t\t\tthis._buffered_msg_queue = [];\n\t\t\tthis._notify_msg_sent = {};\n\n\t\t\tif (this.socket) {\n\t\t\t// Cancel all socket callbacks so that they cannot be driven again by this socket.\n\t\t\t\tthis.socket.onopen = null;\n\t\t\t\tthis.socket.onmessage = null;\n\t\t\t\tthis.socket.onerror = null;\n\t\t\t\tthis.socket.onclose = null;\n\t\t\t\tif (this.socket.readyState === 1)\n\t\t\t\t\tthis.socket.close();\n\t\t\t\tdelete this.socket;\n\t\t\t}\n\n\t\t\tif (this.connectOptions.uris && this.hostIndex < this.connectOptions.uris.length-1) {\n\t\t\t// Try the next host.\n\t\t\t\tthis.hostIndex++;\n\t\t\t\tthis._doConnect(this.connectOptions.uris[this.hostIndex]);\n\t\t\t} else {\n\n\t\t\t\tif (errorCode === undefined) {\n\t\t\t\t\terrorCode = ERROR.OK.code;\n\t\t\t\t\terrorText = format(ERROR.OK);\n\t\t\t\t}\n\n\t\t\t\t// Run any application callbacks last as they may attempt to reconnect and hence create a new socket.\n\t\t\t\tif (this.connected) {\n\t\t\t\t\tthis.connected = false;\n\t\t\t\t\t// Execute the connectionLostCallback if there is one, and we were connected.\n\t\t\t\t\tif (this.onConnectionLost) {\n\t\t\t\t\t\tthis.onConnectionLost({errorCode:errorCode, errorMessage:errorText, reconnect:this.connectOptions.reconnect, uri:this._wsuri});\n\t\t\t\t\t}\n\t\t\t\t\tif (errorCode !== ERROR.OK.code && this.connectOptions.reconnect) {\n\t\t\t\t\t// Start automatic reconnect process for the very first time since last successful connect.\n\t\t\t\t\t\tthis._reconnectInterval = 1;\n\t\t\t\t\t\tthis._reconnect();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t// Otherwise we never had a connection, so indicate that the connect has failed.\n\t\t\t\t\tif (this.connectOptions.mqttVersion === 4 && this.connectOptions.mqttVersionExplicit === false) {\n\t\t\t\t\t\tthis._trace(\"Failed to connect V4, dropping back to V3\");\n\t\t\t\t\t\tthis.connectOptions.mqttVersion = 3;\n\t\t\t\t\t\tif (this.connectOptions.uris) {\n\t\t\t\t\t\t\tthis.hostIndex = 0;\n\t\t\t\t\t\t\tthis._doConnect(this.connectOptions.uris[0]);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis._doConnect(this.uri);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if(this.connectOptions.onFailure) {\n\t\t\t\t\t\tthis.connectOptions.onFailure({invocationContext:this.connectOptions.invocationContext, errorCode:errorCode, errorMessage:errorText});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/** @ignore */\n\t\tClientImpl.prototype._trace = function () {\n\t\t// Pass trace message back to client's callback function\n\t\t\tif (this.traceFunction) {\n\t\t\t\tvar args = Array.prototype.slice.call(arguments);\n\t\t\t\tfor (var i in args)\n\t\t\t\t{\n\t\t\t\t\tif (typeof args[i] !== \"undefined\")\n\t\t\t\t\t\targs.splice(i, 1, JSON.stringify(args[i]));\n\t\t\t\t}\n\t\t\t\tvar record = args.join(\"\");\n\t\t\t\tthis.traceFunction ({severity: \"Debug\", message: record\t});\n\t\t\t}\n\n\t\t\t//buffer style trace\n\t\t\tif ( this._traceBuffer !== null ) {\n\t\t\t\tfor (var i = 0, max = arguments.length; i < max; i++) {\n\t\t\t\t\tif ( this._traceBuffer.length == this._MAX_TRACE_ENTRIES ) {\n\t\t\t\t\t\tthis._traceBuffer.shift();\n\t\t\t\t\t}\n\t\t\t\t\tif (i === 0) this._traceBuffer.push(arguments[i]);\n\t\t\t\t\telse if (typeof arguments[i] === \"undefined\" ) this._traceBuffer.push(arguments[i]);\n\t\t\t\t\telse this._traceBuffer.push(\"  \"+JSON.stringify(arguments[i]));\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/** @ignore */\n\t\tClientImpl.prototype._traceMask = function (traceObject, masked) {\n\t\t\tvar traceObjectMasked = {};\n\t\t\tfor (var attr in traceObject) {\n\t\t\t\tif (traceObject.hasOwnProperty(attr)) {\n\t\t\t\t\tif (attr == masked)\n\t\t\t\t\t\ttraceObjectMasked[attr] = \"******\";\n\t\t\t\t\telse\n\t\t\t\t\t\ttraceObjectMasked[attr] = traceObject[attr];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn traceObjectMasked;\n\t\t};\n\n\t\t// ------------------------------------------------------------------------\n\t\t// Public Programming interface.\n\t\t// ------------------------------------------------------------------------\n\n\t\t/**\n\t * The JavaScript application communicates to the server using a {@link Paho.Client} object.\n\t * <p>\n\t * Most applications will create just one Client object and then call its connect() method,\n\t * however applications can create more than one Client object if they wish.\n\t * In this case the combination of host, port and clientId attributes must be different for each Client object.\n\t * <p>\n\t * The send, subscribe and unsubscribe methods are implemented as asynchronous JavaScript methods\n\t * (even though the underlying protocol exchange might be synchronous in nature).\n\t * This means they signal their completion by calling back to the application,\n\t * via Success or Failure callback functions provided by the application on the method in question.\n\t * Such callbacks are called at most once per method invocation and do not persist beyond the lifetime\n\t * of the script that made the invocation.\n\t * <p>\n\t * In contrast there are some callback functions, most notably <i>onMessageArrived</i>,\n\t * that are defined on the {@link Paho.Client} object.\n\t * These may get called multiple times, and aren't directly related to specific method invocations made by the client.\n\t *\n\t * @name Paho.Client\n\t *\n\t * @constructor\n\t *\n\t * @param {string} host - the address of the messaging server, as a fully qualified WebSocket URI, as a DNS name or dotted decimal IP address.\n\t * @param {number} port - the port number to connect to - only required if host is not a URI\n\t * @param {string} path - the path on the host to connect to - only used if host is not a URI. Default: '/mqtt'.\n\t * @param {string} clientId - the Messaging client identifier, between 1 and 23 characters in length.\n\t *\n\t * @property {string} host - <i>read only</i> the server's DNS hostname or dotted decimal IP address.\n\t * @property {number} port - <i>read only</i> the server's port.\n\t * @property {string} path - <i>read only</i> the server's path.\n\t * @property {string} clientId - <i>read only</i> used when connecting to the server.\n\t * @property {function} onConnectionLost - called when a connection has been lost.\n\t *                            after a connect() method has succeeded.\n\t *                            Establish the call back used when a connection has been lost. The connection may be\n\t *                            lost because the client initiates a disconnect or because the server or network\n\t *                            cause the client to be disconnected. The disconnect call back may be called without\n\t *                            the connectionComplete call back being invoked if, for example the client fails to\n\t *                            connect.\n\t *                            A single response object parameter is passed to the onConnectionLost callback containing the following fields:\n\t *                            <ol>\n\t *                            <li>errorCode\n\t *                            <li>errorMessage\n\t *                            </ol>\n\t * @property {function} onMessageDelivered - called when a message has been delivered.\n\t *                            All processing that this Client will ever do has been completed. So, for example,\n\t *                            in the case of a Qos=2 message sent by this client, the PubComp flow has been received from the server\n\t *                            and the message has been removed from persistent storage before this callback is invoked.\n\t *                            Parameters passed to the onMessageDelivered callback are:\n\t *                            <ol>\n\t *                            <li>{@link Paho.Message} that was delivered.\n\t *                            </ol>\n\t * @property {function} onMessageArrived - called when a message has arrived in this Paho.client.\n\t *                            Parameters passed to the onMessageArrived callback are:\n\t *                            <ol>\n\t *                            <li>{@link Paho.Message} that has arrived.\n\t *                            </ol>\n\t * @property {function} onConnected - called when a connection is successfully made to the server.\n\t *                                  after a connect() method.\n\t *                                  Parameters passed to the onConnected callback are:\n\t *                                  <ol>\n\t *                                  <li>reconnect (boolean) - If true, the connection was the result of a reconnect.</li>\n\t *                                  <li>URI (string) - The URI used to connect to the server.</li>\n\t *                                  </ol>\n\t * @property {boolean} disconnectedPublishing - if set, will enable disconnected publishing in\n\t *                                            in the event that the connection to the server is lost.\n\t * @property {number} disconnectedBufferSize - Used to set the maximum number of messages that the disconnected\n\t *                                             buffer will hold before rejecting new messages. Default size: 5000 messages\n\t * @property {function} trace - called whenever trace is called. TODO\n\t */\n\t\tvar Client = function (host, port, path, clientId) {\n\n\t\t\tvar uri;\n\n\t\t\tif (typeof host !== \"string\")\n\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof host, \"host\"]));\n\n\t\t\tif (arguments.length == 2) {\n\t\t\t// host: must be full ws:// uri\n\t\t\t// port: clientId\n\t\t\t\tclientId = port;\n\t\t\t\turi = host;\n\t\t\t\tvar match = uri.match(/^(wss?):\\/\\/((\\[(.+)\\])|([^\\/]+?))(:(\\d+))?(\\/.*)$/);\n\t\t\t\tif (match) {\n\t\t\t\t\thost = match[4]||match[2];\n\t\t\t\t\tport = parseInt(match[7]);\n\t\t\t\t\tpath = match[8];\n\t\t\t\t} else {\n\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT,[host,\"host\"]));\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (arguments.length == 3) {\n\t\t\t\t\tclientId = path;\n\t\t\t\t\tpath = \"/mqtt\";\n\t\t\t\t}\n\t\t\t\tif (typeof port !== \"number\" || port < 0)\n\t\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof port, \"port\"]));\n\t\t\t\tif (typeof path !== \"string\")\n\t\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof path, \"path\"]));\n\n\t\t\t\tvar ipv6AddSBracket = (host.indexOf(\":\") !== -1 && host.slice(0,1) !== \"[\" && host.slice(-1) !== \"]\");\n\t\t\t\turi = \"ws://\"+(ipv6AddSBracket?\"[\"+host+\"]\":host)+\":\"+port+path;\n\t\t\t}\n\n\t\t\tvar clientIdLength = 0;\n\t\t\tfor (var i = 0; i<clientId.length; i++) {\n\t\t\t\tvar charCode = clientId.charCodeAt(i);\n\t\t\t\tif (0xD800 <= charCode && charCode <= 0xDBFF)  {\n\t\t\t\t\ti++; // Surrogate pair.\n\t\t\t\t}\n\t\t\t\tclientIdLength++;\n\t\t\t}\n\t\t\tif (typeof clientId !== \"string\" || clientIdLength > 65535)\n\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [clientId, \"clientId\"]));\n\n\t\t\tvar client = new ClientImpl(uri, host, port, path, clientId);\n\n\t\t\t//Public Properties\n\t\t\tObject.defineProperties(this,{\n\t\t\t\t\"host\":{\n\t\t\t\t\tget: function() { return host; },\n\t\t\t\t\tset: function() { throw new Error(format(ERROR.UNSUPPORTED_OPERATION)); }\n\t\t\t\t},\n\t\t\t\t\"port\":{\n\t\t\t\t\tget: function() { return port; },\n\t\t\t\t\tset: function() { throw new Error(format(ERROR.UNSUPPORTED_OPERATION)); }\n\t\t\t\t},\n\t\t\t\t\"path\":{\n\t\t\t\t\tget: function() { return path; },\n\t\t\t\t\tset: function() { throw new Error(format(ERROR.UNSUPPORTED_OPERATION)); }\n\t\t\t\t},\n\t\t\t\t\"uri\":{\n\t\t\t\t\tget: function() { return uri; },\n\t\t\t\t\tset: function() { throw new Error(format(ERROR.UNSUPPORTED_OPERATION)); }\n\t\t\t\t},\n\t\t\t\t\"clientId\":{\n\t\t\t\t\tget: function() { return client.clientId; },\n\t\t\t\t\tset: function() { throw new Error(format(ERROR.UNSUPPORTED_OPERATION)); }\n\t\t\t\t},\n\t\t\t\t\"onConnected\":{\n\t\t\t\t\tget: function() { return client.onConnected; },\n\t\t\t\t\tset: function(newOnConnected) {\n\t\t\t\t\t\tif (typeof newOnConnected === \"function\")\n\t\t\t\t\t\t\tclient.onConnected = newOnConnected;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof newOnConnected, \"onConnected\"]));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"disconnectedPublishing\":{\n\t\t\t\t\tget: function() { return client.disconnectedPublishing; },\n\t\t\t\t\tset: function(newDisconnectedPublishing) {\n\t\t\t\t\t\tclient.disconnectedPublishing = newDisconnectedPublishing;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"disconnectedBufferSize\":{\n\t\t\t\t\tget: function() { return client.disconnectedBufferSize; },\n\t\t\t\t\tset: function(newDisconnectedBufferSize) {\n\t\t\t\t\t\tclient.disconnectedBufferSize = newDisconnectedBufferSize;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"onConnectionLost\":{\n\t\t\t\t\tget: function() { return client.onConnectionLost; },\n\t\t\t\t\tset: function(newOnConnectionLost) {\n\t\t\t\t\t\tif (typeof newOnConnectionLost === \"function\")\n\t\t\t\t\t\t\tclient.onConnectionLost = newOnConnectionLost;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof newOnConnectionLost, \"onConnectionLost\"]));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"onMessageDelivered\":{\n\t\t\t\t\tget: function() { return client.onMessageDelivered; },\n\t\t\t\t\tset: function(newOnMessageDelivered) {\n\t\t\t\t\t\tif (typeof newOnMessageDelivered === \"function\")\n\t\t\t\t\t\t\tclient.onMessageDelivered = newOnMessageDelivered;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof newOnMessageDelivered, \"onMessageDelivered\"]));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"onMessageArrived\":{\n\t\t\t\t\tget: function() { return client.onMessageArrived; },\n\t\t\t\t\tset: function(newOnMessageArrived) {\n\t\t\t\t\t\tif (typeof newOnMessageArrived === \"function\")\n\t\t\t\t\t\t\tclient.onMessageArrived = newOnMessageArrived;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof newOnMessageArrived, \"onMessageArrived\"]));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"trace\":{\n\t\t\t\t\tget: function() { return client.traceFunction; },\n\t\t\t\t\tset: function(trace) {\n\t\t\t\t\t\tif(typeof trace === \"function\"){\n\t\t\t\t\t\t\tclient.traceFunction = trace;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof trace, \"onTrace\"]));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t});\n\n\t\t\t/**\n\t\t * Connect this Messaging client to its server.\n\t\t *\n\t\t * @name Paho.Client#connect\n\t\t * @function\n\t\t * @param {object} connectOptions - Attributes used with the connection.\n\t\t * @param {number} connectOptions.timeout - If the connect has not succeeded within this\n\t\t *                    number of seconds, it is deemed to have failed.\n\t\t *                    The default is 30 seconds.\n\t\t * @param {string} connectOptions.userName - Authentication username for this connection.\n\t\t * @param {string} connectOptions.password - Authentication password for this connection.\n\t\t * @param {Paho.Message} connectOptions.willMessage - sent by the server when the client\n\t\t *                    disconnects abnormally.\n\t\t * @param {number} connectOptions.keepAliveInterval - the server disconnects this client if\n\t\t *                    there is no activity for this number of seconds.\n\t\t *                    The default value of 60 seconds is assumed if not set.\n\t\t * @param {boolean} connectOptions.cleanSession - if true(default) the client and server\n\t\t *                    persistent state is deleted on successful connect.\n\t\t * @param {boolean} connectOptions.useSSL - if present and true, use an SSL Websocket connection.\n\t\t * @param {object} connectOptions.invocationContext - passed to the onSuccess callback or onFailure callback.\n\t\t * @param {function} connectOptions.onSuccess - called when the connect acknowledgement\n\t\t *                    has been received from the server.\n\t\t * A single response object parameter is passed to the onSuccess callback containing the following fields:\n\t\t * <ol>\n\t\t * <li>invocationContext as passed in to the onSuccess method in the connectOptions.\n\t\t * </ol>\n\t * @param {function} connectOptions.onFailure - called when the connect request has failed or timed out.\n\t\t * A single response object parameter is passed to the onFailure callback containing the following fields:\n\t\t * <ol>\n\t\t * <li>invocationContext as passed in to the onFailure method in the connectOptions.\n\t\t * <li>errorCode a number indicating the nature of the error.\n\t\t * <li>errorMessage text describing the error.\n\t\t * </ol>\n\t * @param {array} connectOptions.hosts - If present this contains either a set of hostnames or fully qualified\n\t\t * WebSocket URIs (ws://iot.eclipse.org:80/ws), that are tried in order in place\n\t\t * of the host and port paramater on the construtor. The hosts are tried one at at time in order until\n\t\t * one of then succeeds.\n\t * @param {array} connectOptions.ports - If present the set of ports matching the hosts. If hosts contains URIs, this property\n\t\t * is not used.\n\t * @param {boolean} connectOptions.reconnect - Sets whether the client will automatically attempt to reconnect\n\t * to the server if the connection is lost.\n\t *<ul>\n\t *<li>If set to false, the client will not attempt to automatically reconnect to the server in the event that the\n\t * connection is lost.</li>\n\t *<li>If set to true, in the event that the connection is lost, the client will attempt to reconnect to the server.\n\t * It will initially wait 1 second before it attempts to reconnect, for every failed reconnect attempt, the delay\n\t * will double until it is at 2 minutes at which point the delay will stay at 2 minutes.</li>\n\t *</ul>\n\t * @param {number} connectOptions.mqttVersion - The version of MQTT to use to connect to the MQTT Broker.\n\t *<ul>\n\t *<li>3 - MQTT V3.1</li>\n\t *<li>4 - MQTT V3.1.1</li>\n\t *</ul>\n\t * @param {boolean} connectOptions.mqttVersionExplicit - If set to true, will force the connection to use the\n\t * selected MQTT Version or will fail to connect.\n\t * @param {array} connectOptions.uris - If present, should contain a list of fully qualified WebSocket uris\n\t * (e.g. ws://iot.eclipse.org:80/ws), that are tried in order in place of the host and port parameter of the construtor.\n\t * The uris are tried one at a time in order until one of them succeeds. Do not use this in conjunction with hosts as\n\t * the hosts array will be converted to uris and will overwrite this property.\n\t\t * @throws {InvalidState} If the client is not in disconnected state. The client must have received connectionLost\n\t\t * or disconnected before calling connect for a second or subsequent time.\n\t\t */\n\t\t\tthis.connect = function (connectOptions) {\n\t\t\t\tconnectOptions = connectOptions || {} ;\n\t\t\t\tvalidate(connectOptions,  {timeout:\"number\",\n\t\t\t\t\tuserName:\"string\",\n\t\t\t\t\tpassword:\"string\",\n\t\t\t\t\twillMessage:\"object\",\n\t\t\t\t\tkeepAliveInterval:\"number\",\n\t\t\t\t\tcleanSession:\"boolean\",\n\t\t\t\t\tuseSSL:\"boolean\",\n\t\t\t\t\tinvocationContext:\"object\",\n\t\t\t\t\tonSuccess:\"function\",\n\t\t\t\t\tonFailure:\"function\",\n\t\t\t\t\thosts:\"object\",\n\t\t\t\t\tports:\"object\",\n\t\t\t\t\treconnect:\"boolean\",\n\t\t\t\t\tmqttVersion:\"number\",\n\t\t\t\t\tmqttVersionExplicit:\"boolean\",\n\t\t\t\t\turis: \"object\"});\n\n\t\t\t\t// If no keep alive interval is set, assume 60 seconds.\n\t\t\t\tif (connectOptions.keepAliveInterval === undefined)\n\t\t\t\t\tconnectOptions.keepAliveInterval = 60;\n\n\t\t\t\tif (connectOptions.mqttVersion > 4 || connectOptions.mqttVersion < 3) {\n\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [connectOptions.mqttVersion, \"connectOptions.mqttVersion\"]));\n\t\t\t\t}\n\n\t\t\t\tif (connectOptions.mqttVersion === undefined) {\n\t\t\t\t\tconnectOptions.mqttVersionExplicit = false;\n\t\t\t\t\tconnectOptions.mqttVersion = 4;\n\t\t\t\t} else {\n\t\t\t\t\tconnectOptions.mqttVersionExplicit = true;\n\t\t\t\t}\n\n\t\t\t\t//Check that if password is set, so is username\n\t\t\t\tif (connectOptions.password !== undefined && connectOptions.userName === undefined)\n\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [connectOptions.password, \"connectOptions.password\"]));\n\n\t\t\t\tif (connectOptions.willMessage) {\n\t\t\t\t\tif (!(connectOptions.willMessage instanceof Message))\n\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [connectOptions.willMessage, \"connectOptions.willMessage\"]));\n\t\t\t\t\t// The will message must have a payload that can be represented as a string.\n\t\t\t\t\t// Cause the willMessage to throw an exception if this is not the case.\n\t\t\t\t\tconnectOptions.willMessage.stringPayload = null;\n\n\t\t\t\t\tif (typeof connectOptions.willMessage.destinationName === \"undefined\")\n\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof connectOptions.willMessage.destinationName, \"connectOptions.willMessage.destinationName\"]));\n\t\t\t\t}\n\t\t\t\tif (typeof connectOptions.cleanSession === \"undefined\")\n\t\t\t\t\tconnectOptions.cleanSession = true;\n\t\t\t\tif (connectOptions.hosts) {\n\n\t\t\t\t\tif (!(connectOptions.hosts instanceof Array) )\n\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [connectOptions.hosts, \"connectOptions.hosts\"]));\n\t\t\t\t\tif (connectOptions.hosts.length <1 )\n\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [connectOptions.hosts, \"connectOptions.hosts\"]));\n\n\t\t\t\t\tvar usingURIs = false;\n\t\t\t\t\tfor (var i = 0; i<connectOptions.hosts.length; i++) {\n\t\t\t\t\t\tif (typeof connectOptions.hosts[i] !== \"string\")\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof connectOptions.hosts[i], \"connectOptions.hosts[\"+i+\"]\"]));\n\t\t\t\t\t\tif (/^(wss?):\\/\\/((\\[(.+)\\])|([^\\/]+?))(:(\\d+))?(\\/.*)$/.test(connectOptions.hosts[i])) {\n\t\t\t\t\t\t\tif (i === 0) {\n\t\t\t\t\t\t\t\tusingURIs = true;\n\t\t\t\t\t\t\t} else if (!usingURIs) {\n\t\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [connectOptions.hosts[i], \"connectOptions.hosts[\"+i+\"]\"]));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (usingURIs) {\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [connectOptions.hosts[i], \"connectOptions.hosts[\"+i+\"]\"]));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!usingURIs) {\n\t\t\t\t\t\tif (!connectOptions.ports)\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [connectOptions.ports, \"connectOptions.ports\"]));\n\t\t\t\t\t\tif (!(connectOptions.ports instanceof Array) )\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [connectOptions.ports, \"connectOptions.ports\"]));\n\t\t\t\t\t\tif (connectOptions.hosts.length !== connectOptions.ports.length)\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [connectOptions.ports, \"connectOptions.ports\"]));\n\n\t\t\t\t\t\tconnectOptions.uris = [];\n\n\t\t\t\t\t\tfor (var i = 0; i<connectOptions.hosts.length; i++) {\n\t\t\t\t\t\t\tif (typeof connectOptions.ports[i] !== \"number\" || connectOptions.ports[i] < 0)\n\t\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_TYPE, [typeof connectOptions.ports[i], \"connectOptions.ports[\"+i+\"]\"]));\n\t\t\t\t\t\t\tvar host = connectOptions.hosts[i];\n\t\t\t\t\t\t\tvar port = connectOptions.ports[i];\n\n\t\t\t\t\t\t\tvar ipv6 = (host.indexOf(\":\") !== -1);\n\t\t\t\t\t\t\turi = \"ws://\"+(ipv6?\"[\"+host+\"]\":host)+\":\"+port+path;\n\t\t\t\t\t\t\tconnectOptions.uris.push(uri);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconnectOptions.uris = connectOptions.hosts;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tclient.connect(connectOptions);\n\t\t\t};\n\n\t\t\t/**\n\t\t * Subscribe for messages, request receipt of a copy of messages sent to the destinations described by the filter.\n\t\t *\n\t\t * @name Paho.Client#subscribe\n\t\t * @function\n\t\t * @param {string} filter describing the destinations to receive messages from.\n\t\t * <br>\n\t\t * @param {object} subscribeOptions - used to control the subscription\n\t\t *\n\t\t * @param {number} subscribeOptions.qos - the maximum qos of any publications sent\n\t\t *                                  as a result of making this subscription.\n\t\t * @param {object} subscribeOptions.invocationContext - passed to the onSuccess callback\n\t\t *                                  or onFailure callback.\n\t\t * @param {function} subscribeOptions.onSuccess - called when the subscribe acknowledgement\n\t\t *                                  has been received from the server.\n\t\t *                                  A single response object parameter is passed to the onSuccess callback containing the following fields:\n\t\t *                                  <ol>\n\t\t *                                  <li>invocationContext if set in the subscribeOptions.\n\t\t *                                  </ol>\n\t\t * @param {function} subscribeOptions.onFailure - called when the subscribe request has failed or timed out.\n\t\t *                                  A single response object parameter is passed to the onFailure callback containing the following fields:\n\t\t *                                  <ol>\n\t\t *                                  <li>invocationContext - if set in the subscribeOptions.\n\t\t *                                  <li>errorCode - a number indicating the nature of the error.\n\t\t *                                  <li>errorMessage - text describing the error.\n\t\t *                                  </ol>\n\t\t * @param {number} subscribeOptions.timeout - which, if present, determines the number of\n\t\t *                                  seconds after which the onFailure calback is called.\n\t\t *                                  The presence of a timeout does not prevent the onSuccess\n\t\t *                                  callback from being called when the subscribe completes.\n\t\t * @throws {InvalidState} if the client is not in connected state.\n\t\t */\n\t\t\tthis.subscribe = function (filter, subscribeOptions) {\n\t\t\t\tif (typeof filter !== \"string\" && filter.constructor !== Array)\n\t\t\t\t\tthrow new Error(\"Invalid argument:\"+filter);\n\t\t\t\tsubscribeOptions = subscribeOptions || {} ;\n\t\t\t\tvalidate(subscribeOptions,  {qos:\"number\",\n\t\t\t\t\tinvocationContext:\"object\",\n\t\t\t\t\tonSuccess:\"function\",\n\t\t\t\t\tonFailure:\"function\",\n\t\t\t\t\ttimeout:\"number\"\n\t\t\t\t});\n\t\t\t\tif (subscribeOptions.timeout && !subscribeOptions.onFailure)\n\t\t\t\t\tthrow new Error(\"subscribeOptions.timeout specified with no onFailure callback.\");\n\t\t\t\tif (typeof subscribeOptions.qos !== \"undefined\" && !(subscribeOptions.qos === 0 || subscribeOptions.qos === 1 || subscribeOptions.qos === 2 ))\n\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [subscribeOptions.qos, \"subscribeOptions.qos\"]));\n\t\t\t\tclient.subscribe(filter, subscribeOptions);\n\t\t\t};\n\n\t\t/**\n\t\t * Unsubscribe for messages, stop receiving messages sent to destinations described by the filter.\n\t\t *\n\t\t * @name Paho.Client#unsubscribe\n\t\t * @function\n\t\t * @param {string} filter - describing the destinations to receive messages from.\n\t\t * @param {object} unsubscribeOptions - used to control the subscription\n\t\t * @param {object} unsubscribeOptions.invocationContext - passed to the onSuccess callback\n\t\t\t\t\t\t\t\t\t\t\t  or onFailure callback.\n\t\t * @param {function} unsubscribeOptions.onSuccess - called when the unsubscribe acknowledgement has been received from the server.\n\t\t *                                    A single response object parameter is passed to the\n\t\t *                                    onSuccess callback containing the following fields:\n\t\t *                                    <ol>\n\t\t *                                    <li>invocationContext - if set in the unsubscribeOptions.\n\t\t *                                    </ol>\n\t\t * @param {function} unsubscribeOptions.onFailure called when the unsubscribe request has failed or timed out.\n\t\t *                                    A single response object parameter is passed to the onFailure callback containing the following fields:\n\t\t *                                    <ol>\n\t\t *                                    <li>invocationContext - if set in the unsubscribeOptions.\n\t\t *                                    <li>errorCode - a number indicating the nature of the error.\n\t\t *                                    <li>errorMessage - text describing the error.\n\t\t *                                    </ol>\n\t\t * @param {number} unsubscribeOptions.timeout - which, if present, determines the number of seconds\n\t\t *                                    after which the onFailure callback is called. The presence of\n\t\t *                                    a timeout does not prevent the onSuccess callback from being\n\t\t *                                    called when the unsubscribe completes\n\t\t * @throws {InvalidState} if the client is not in connected state.\n\t\t */\n\t\t\tthis.unsubscribe = function (filter, unsubscribeOptions) {\n\t\t\t\tif (typeof filter !== \"string\" && filter.constructor !== Array)\n\t\t\t\t\tthrow new Error(\"Invalid argument:\"+filter);\n\t\t\t\tunsubscribeOptions = unsubscribeOptions || {} ;\n\t\t\t\tvalidate(unsubscribeOptions,  {invocationContext:\"object\",\n\t\t\t\t\tonSuccess:\"function\",\n\t\t\t\t\tonFailure:\"function\",\n\t\t\t\t\ttimeout:\"number\"\n\t\t\t\t});\n\t\t\t\tif (unsubscribeOptions.timeout && !unsubscribeOptions.onFailure)\n\t\t\t\t\tthrow new Error(\"unsubscribeOptions.timeout specified with no onFailure callback.\");\n\t\t\t\tclient.unsubscribe(filter, unsubscribeOptions);\n\t\t\t};\n\n\t\t\t/**\n\t\t * Send a message to the consumers of the destination in the Message.\n\t\t *\n\t\t * @name Paho.Client#send\n\t\t * @function\n\t\t * @param {string|Paho.Message} topic - <b>mandatory</b> The name of the destination to which the message is to be sent.\n\t\t * \t\t\t\t\t   - If it is the only parameter, used as Paho.Message object.\n\t\t * @param {String|ArrayBuffer} payload - The message data to be sent.\n\t\t * @param {number} qos The Quality of Service used to deliver the message.\n\t\t * \t\t<dl>\n\t\t * \t\t\t<dt>0 Best effort (default).\n\t\t *     \t\t\t<dt>1 At least once.\n\t\t *     \t\t\t<dt>2 Exactly once.\n\t\t * \t\t</dl>\n\t\t * @param {Boolean} retained If true, the message is to be retained by the server and delivered\n\t\t *                     to both current and future subscriptions.\n\t\t *                     If false the server only delivers the message to current subscribers, this is the default for new Messages.\n\t\t *                     A received message has the retained boolean set to true if the message was published\n\t\t *                     with the retained boolean set to true\n\t\t *                     and the subscrption was made after the message has been published.\n\t\t * @throws {InvalidState} if the client is not connected.\n\t\t */\n\t\t\tthis.send = function (topic,payload,qos,retained) {\n\t\t\t\tvar message ;\n\n\t\t\t\tif(arguments.length === 0){\n\t\t\t\t\tthrow new Error(\"Invalid argument.\"+\"length\");\n\n\t\t\t\t}else if(arguments.length == 1) {\n\n\t\t\t\t\tif (!(topic instanceof Message) && (typeof topic !== \"string\"))\n\t\t\t\t\t\tthrow new Error(\"Invalid argument:\"+ typeof topic);\n\n\t\t\t\t\tmessage = topic;\n\t\t\t\t\tif (typeof message.destinationName === \"undefined\")\n\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT,[message.destinationName,\"Message.destinationName\"]));\n\t\t\t\t\tclient.send(message);\n\n\t\t\t\t}else {\n\t\t\t\t//parameter checking in Message object\n\t\t\t\t\tmessage = new Message(payload);\n\t\t\t\t\tmessage.destinationName = topic;\n\t\t\t\t\tif(arguments.length >= 3)\n\t\t\t\t\t\tmessage.qos = qos;\n\t\t\t\t\tif(arguments.length >= 4)\n\t\t\t\t\t\tmessage.retained = retained;\n\t\t\t\t\tclient.send(message);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t/**\n\t\t * Publish a message to the consumers of the destination in the Message.\n\t\t * Synonym for Paho.Mqtt.Client#send\n\t\t *\n\t\t * @name Paho.Client#publish\n\t\t * @function\n\t\t * @param {string|Paho.Message} topic - <b>mandatory</b> The name of the topic to which the message is to be published.\n\t\t * \t\t\t\t\t   - If it is the only parameter, used as Paho.Message object.\n\t\t * @param {String|ArrayBuffer} payload - The message data to be published.\n\t\t * @param {number} qos The Quality of Service used to deliver the message.\n\t\t * \t\t<dl>\n\t\t * \t\t\t<dt>0 Best effort (default).\n\t\t *     \t\t\t<dt>1 At least once.\n\t\t *     \t\t\t<dt>2 Exactly once.\n\t\t * \t\t</dl>\n\t\t * @param {Boolean} retained If true, the message is to be retained by the server and delivered\n\t\t *                     to both current and future subscriptions.\n\t\t *                     If false the server only delivers the message to current subscribers, this is the default for new Messages.\n\t\t *                     A received message has the retained boolean set to true if the message was published\n\t\t *                     with the retained boolean set to true\n\t\t *                     and the subscrption was made after the message has been published.\n\t\t * @throws {InvalidState} if the client is not connected.\n\t\t */\n\t\t\tthis.publish = function(topic,payload,qos,retained) {\n\t\t\t\tvar message ;\n\n\t\t\t\tif(arguments.length === 0){\n\t\t\t\t\tthrow new Error(\"Invalid argument.\"+\"length\");\n\n\t\t\t\t}else if(arguments.length == 1) {\n\n\t\t\t\t\tif (!(topic instanceof Message) && (typeof topic !== \"string\"))\n\t\t\t\t\t\tthrow new Error(\"Invalid argument:\"+ typeof topic);\n\n\t\t\t\t\tmessage = topic;\n\t\t\t\t\tif (typeof message.destinationName === \"undefined\")\n\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT,[message.destinationName,\"Message.destinationName\"]));\n\t\t\t\t\tclient.send(message);\n\n\t\t\t\t}else {\n\t\t\t\t\t//parameter checking in Message object\n\t\t\t\t\tmessage = new Message(payload);\n\t\t\t\t\tmessage.destinationName = topic;\n\t\t\t\t\tif(arguments.length >= 3)\n\t\t\t\t\t\tmessage.qos = qos;\n\t\t\t\t\tif(arguments.length >= 4)\n\t\t\t\t\t\tmessage.retained = retained;\n\t\t\t\t\tclient.send(message);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t/**\n\t\t * Normal disconnect of this Messaging client from its server.\n\t\t *\n\t\t * @name Paho.Client#disconnect\n\t\t * @function\n\t\t * @throws {InvalidState} if the client is already disconnected.\n\t\t */\n\t\t\tthis.disconnect = function () {\n\t\t\t\tclient.disconnect();\n\t\t\t};\n\n\t\t\t/**\n\t\t * Get the contents of the trace log.\n\t\t *\n\t\t * @name Paho.Client#getTraceLog\n\t\t * @function\n\t\t * @return {Object[]} tracebuffer containing the time ordered trace records.\n\t\t */\n\t\t\tthis.getTraceLog = function () {\n\t\t\t\treturn client.getTraceLog();\n\t\t\t};\n\n\t\t\t/**\n\t\t * Start tracing.\n\t\t *\n\t\t * @name Paho.Client#startTrace\n\t\t * @function\n\t\t */\n\t\t\tthis.startTrace = function () {\n\t\t\t\tclient.startTrace();\n\t\t\t};\n\n\t\t\t/**\n\t\t * Stop tracing.\n\t\t *\n\t\t * @name Paho.Client#stopTrace\n\t\t * @function\n\t\t */\n\t\t\tthis.stopTrace = function () {\n\t\t\t\tclient.stopTrace();\n\t\t\t};\n\n\t\t\tthis.isConnected = function() {\n\t\t\t\treturn client.connected;\n\t\t\t};\n\t\t};\n\n\t\t/**\n\t * An application message, sent or received.\n\t * <p>\n\t * All attributes may be null, which implies the default values.\n\t *\n\t * @name Paho.Message\n\t * @constructor\n\t * @param {String|ArrayBuffer} payload The message data to be sent.\n\t * <p>\n\t * @property {string} payloadString <i>read only</i> The payload as a string if the payload consists of valid UTF-8 characters.\n\t * @property {ArrayBuffer} payloadBytes <i>read only</i> The payload as an ArrayBuffer.\n\t * <p>\n\t * @property {string} destinationName <b>mandatory</b> The name of the destination to which the message is to be sent\n\t *                    (for messages about to be sent) or the name of the destination from which the message has been received.\n\t *                    (for messages received by the onMessage function).\n\t * <p>\n\t * @property {number} qos The Quality of Service used to deliver the message.\n\t * <dl>\n\t *     <dt>0 Best effort (default).\n\t *     <dt>1 At least once.\n\t *     <dt>2 Exactly once.\n\t * </dl>\n\t * <p>\n\t * @property {Boolean} retained If true, the message is to be retained by the server and delivered\n\t *                     to both current and future subscriptions.\n\t *                     If false the server only delivers the message to current subscribers, this is the default for new Messages.\n\t *                     A received message has the retained boolean set to true if the message was published\n\t *                     with the retained boolean set to true\n\t *                     and the subscrption was made after the message has been published.\n\t * <p>\n\t * @property {Boolean} duplicate <i>read only</i> If true, this message might be a duplicate of one which has already been received.\n\t *                     This is only set on messages received from the server.\n\t *\n\t */\n\t\tvar Message = function (newPayload) {\n\t\t\tvar payload;\n\t\t\tif (   typeof newPayload === \"string\" ||\n\t\tnewPayload instanceof ArrayBuffer ||\n\t\t(ArrayBuffer.isView(newPayload) && !(newPayload instanceof DataView))\n\t\t\t) {\n\t\t\t\tpayload = newPayload;\n\t\t\t} else {\n\t\t\t\tthrow (format(ERROR.INVALID_ARGUMENT, [newPayload, \"newPayload\"]));\n\t\t\t}\n\n\t\t\tvar destinationName;\n\t\t\tvar qos = 0;\n\t\t\tvar retained = false;\n\t\t\tvar duplicate = false;\n\n\t\t\tObject.defineProperties(this,{\n\t\t\t\t\"payloadString\":{\n\t\t\t\t\tenumerable : true,\n\t\t\t\t\tget : function () {\n\t\t\t\t\t\tif (typeof payload === \"string\")\n\t\t\t\t\t\t\treturn payload;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\treturn parseUTF8(payload, 0, payload.length);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"payloadBytes\":{\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tget: function() {\n\t\t\t\t\t\tif (typeof payload === \"string\") {\n\t\t\t\t\t\t\tvar buffer = new ArrayBuffer(UTF8Length(payload));\n\t\t\t\t\t\t\tvar byteStream = new Uint8Array(buffer);\n\t\t\t\t\t\t\tstringToUTF8(payload, byteStream, 0);\n\n\t\t\t\t\t\t\treturn byteStream;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn payload;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"destinationName\":{\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tget: function() { return destinationName; },\n\t\t\t\t\tset: function(newDestinationName) {\n\t\t\t\t\t\tif (typeof newDestinationName === \"string\")\n\t\t\t\t\t\t\tdestinationName = newDestinationName;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [newDestinationName, \"newDestinationName\"]));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"qos\":{\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tget: function() { return qos; },\n\t\t\t\t\tset: function(newQos) {\n\t\t\t\t\t\tif (newQos === 0 || newQos === 1 || newQos === 2 )\n\t\t\t\t\t\t\tqos = newQos;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tthrow new Error(\"Invalid argument:\"+newQos);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"retained\":{\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tget: function() { return retained; },\n\t\t\t\t\tset: function(newRetained) {\n\t\t\t\t\t\tif (typeof newRetained === \"boolean\")\n\t\t\t\t\t\t\tretained = newRetained;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tthrow new Error(format(ERROR.INVALID_ARGUMENT, [newRetained, \"newRetained\"]));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"topic\":{\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tget: function() { return destinationName; },\n\t\t\t\t\tset: function(newTopic) {destinationName=newTopic;}\n\t\t\t\t},\n\t\t\t\t\"duplicate\":{\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tget: function() { return duplicate; },\n\t\t\t\t\tset: function(newDuplicate) {duplicate=newDuplicate;}\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\n\t\t// Module contents.\n\t\treturn {\n\t\t\tClient: Client,\n\t\t\tMessage: Message\n\t\t};\n\t// eslint-disable-next-line no-nested-ternary\n\t})(typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {});\n\treturn PahoMQTT;\n});\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGFoby1tcXR0L3BhaG8tbXF0dC5qcz80MjU5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsa0JBQWtCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxtQkFBbUI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLG9CQUFvQjs7QUFFcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUksSUFBeUQ7QUFDN0Q7QUFDQSxFQUFFLE1BQU0sRUFTTjtBQUNGLENBQUM7OztBQUdEOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esa0NBQWtDLGtCQUFrQixFQUFFO0FBQ3RELDRCQUE0QixrQkFBa0IsRUFBRTtBQUNoRCwrQkFBK0Isa0JBQWtCLEVBQUU7QUFDbkQ7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLE9BQU87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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsc0JBQXNCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsc0JBQXNCO0FBQ3ZDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGlDQUFpQztBQUNqQyxrQ0FBa0M7QUFDbEM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsZ0JBQWdCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixnQkFBZ0I7QUFDbEM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRDtBQUMzRCxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtB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QUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixxQkFBcUI7QUFDdkM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtRUFBbUUsZ0NBQWdDO0FBQ25HLGdEQUFnRCxPQUFPO0FBQ3ZEO0FBQ0E7QUFDQSxpRUFBaUUsZ0RBQWdEO0FBQ2pIO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyx3REFBd0Q7QUFDN0Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFLGdEQUFnRDtBQUNoSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBaUUsZ0RBQWdEO0FBQ2pIOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsOERBQThELGdEQUFnRDtBQUM5RztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsOERBQThELGdEQUFnRDtBQUM5Rzs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFlBQVksVUFBVTtBQUN0QixZQUFZLElBQUk7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVksVUFBVTtBQUN0QixZQUFZLFVBQVU7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsc0dBQXNHO0FBQ25JO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxNQUFNO0FBQ04scUNBQXFDLHFHQUFxRztBQUMxSTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLG9DQUFvQztBQUM3RDs7QUFFQTtBQUNBO0FBQ0EsMkNBQTJDLFNBQVM7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1FQUFtRSxrQkFBa0I7QUFDckY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsa0JBQWtCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksT0FBTztBQUNuQixZQUFZLE9BQU87QUFDbkIsWUFBWSxPQUFPO0FBQ25CLFlBQVksT0FBTztBQUNuQjtBQUNBLGVBQWUsT0FBTztBQUN0QixlQUFlLE9BQU87QUFDdEIsZUFBZSxPQUFPO0FBQ3RCLGVBQWUsT0FBTztBQUN0QixlQUFlLFNBQVM7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsU0FBUztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLG1CQUFtQjtBQUN2RDtBQUNBLGVBQWUsU0FBUztBQUN4QjtBQUNBO0FBQ0Esb0NBQW9DLG1CQUFtQjtBQUN2RDtBQUNBLGVBQWUsU0FBUztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkI7QUFDQSxlQUFlLE9BQU87QUFDdEI7QUFDQSxlQUFlLFNBQVM7QUFDeEI7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0IsbUJBQW1CO0FBQ3JDO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsYUFBYSxFQUFFO0FBQ3JDLHNCQUFzQixzREFBc0Q7QUFDNUUsS0FBSztBQUNMO0FBQ0Esc0JBQXNCLGFBQWEsRUFBRTtBQUNyQyxzQkFBc0Isc0RBQXNEO0FBQzVFLEtBQUs7QUFDTDtBQUNBLHNCQUFzQixhQUFhLEVBQUU7QUFDckMsc0JBQXNCLHNEQUFzRDtBQUM1RSxLQUFLO0FBQ0w7QUFDQSxzQkFBc0IsWUFBWSxFQUFFO0FBQ3BDLHNCQUFzQixzREFBc0Q7QUFDNUUsS0FBSztBQUNMO0FBQ0Esc0JBQXNCLHdCQUF3QixFQUFFO0FBQ2hELHNCQUFzQixzREFBc0Q7QUFDNUUsS0FBSztBQUNMO0FBQ0Esc0JBQXNCLDJCQUEyQixFQUFFO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLHNCQUFzQixzQ0FBc0MsRUFBRTtBQUM5RDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxzQkFBc0Isc0NBQXNDLEVBQUU7QUFDOUQ7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0Esc0JBQXNCLGdDQUFnQyxFQUFFO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLHNCQUFzQixrQ0FBa0MsRUFBRTtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxzQkFBc0IsZ0NBQWdDLEVBQUU7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0Esc0JBQXNCLDZCQUE2QixFQUFFO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCLGFBQWEsT0FBTztBQUNwQixhQUFhLGFBQWE7QUFDMUI7QUFDQSxhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQjtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLE9BQU87QUFDcEIsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFNBQVM7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxNQUFNO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLFlBQVksTUFBTTtBQUNsQjtBQUNBLFlBQVksUUFBUTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxPQUFPO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxRQUFRO0FBQ3BCO0FBQ0EsWUFBWSxNQUFNO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLGNBQWMsYUFBYTtBQUMzQjtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekMsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7O0FBRXBCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxvQkFBb0IsK0JBQStCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEscUJBQXFCLCtCQUErQjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCO0FBQ0EsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBLGNBQWMsYUFBYTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QyxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEIsYUFBYSxPQUFPO0FBQ3BCLGFBQWEsT0FBTztBQUNwQjtBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQSxjQUFjLGFBQWE7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQ7QUFDakQsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxvQkFBb0I7QUFDakM7QUFDQSxhQUFhLG1CQUFtQjtBQUNoQyxhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxhQUFhO0FBQzNCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxvQkFBb0I7QUFDakM7QUFDQSxhQUFhLG1CQUFtQjtBQUNoQyxhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxhQUFhO0FBQzNCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsYUFBYTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxTQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLG1CQUFtQjtBQUMvQjtBQUNBLGVBQWUsT0FBTztBQUN0QixlQUFlLFlBQVk7QUFDM0I7QUFDQSxlQUFlLE9BQU87QUFDdEI7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxzQkFBc0Isd0JBQXdCLEVBQUU7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxzQkFBc0IsWUFBWSxFQUFFO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0Esc0JBQXNCLGlCQUFpQixFQUFFO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0Esc0JBQXNCLHdCQUF3QixFQUFFO0FBQ2hELDhCQUE4QjtBQUM5QixLQUFLO0FBQ0w7QUFDQTtBQUNBLHNCQUFzQixrQkFBa0IsRUFBRTtBQUMxQyxrQ0FBa0M7QUFDbEM7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRSwySEFBMkg7QUFDN0g7QUFDQSxDQUFDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL3BhaG8tbXF0dC9wYWhvLW1xdHQuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogQ29weXJpZ2h0IChjKSAyMDEzIElCTSBDb3JwLlxuICpcbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHNcbiAqIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjEuMFxuICogYW5kIEVjbGlwc2UgRGlzdHJpYnV0aW9uIExpY2Vuc2UgdjEuMCB3aGljaCBhY2NvbXBhbnkgdGhpcyBkaXN0cmlidXRpb24uXG4gKlxuICogVGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgaXMgYXZhaWxhYmxlIGF0XG4gKiAgICBodHRwOi8vd3d3LmVjbGlwc2Uub3JnL2xlZ2FsL2VwbC12MTAuaHRtbFxuICogYW5kIHRoZSBFY2xpcHNlIERpc3RyaWJ1dGlvbiBMaWNlbnNlIGlzIGF2YWlsYWJsZSBhdFxuICogICBodHRwOi8vd3d3LmVjbGlwc2Uub3JnL29yZy9kb2N1bWVudHMvZWRsLXYxMC5waHAuXG4gKlxuICogQ29udHJpYnV0b3JzOlxuICogICAgQW5kcmV3IEJhbmtzIC0gaW5pdGlhbCBBUEkgYW5kIGltcGxlbWVudGF0aW9uIGFuZCBpbml0aWFsIGRvY3VtZW50YXRpb25cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5cbi8vIE9ubHkgZXhwb3NlIGEgc2luZ2xlIG9iamVjdCBuYW1lIGluIHRoZSBnbG9iYWwgbmFtZXNwYWNlLlxuLy8gRXZlcnl0aGluZyBtdXN0IGdvIHRocm91Z2ggdGhpcyBtb2R1bGUuIEdsb2JhbCBQYWhvIG1vZHVsZVxuLy8gb25seSBoYXMgYSBzaW5nbGUgcHVibGljIGZ1bmN0aW9uLCBjbGllbnQsIHdoaWNoIHJldHVybnNcbi8vIGEgUGFobyBjbGllbnQgb2JqZWN0IGdpdmVuIGNvbm5lY3Rpb24gZGV0YWlscy5cblxuLyoqXG4gKiBTZW5kIGFuZCByZWNlaXZlIG1lc3NhZ2VzIHVzaW5nIHdlYiBicm93c2Vycy5cbiAqIDxwPlxuICogVGhpcyBwcm9ncmFtbWluZyBpbnRlcmZhY2UgbGV0cyBhIEphdmFTY3JpcHQgY2xpZW50IGFwcGxpY2F0aW9uIHVzZSB0aGUgTVFUVCBWMy4xIG9yXG4gKiBWMy4xLjEgcHJvdG9jb2wgdG8gY29ubmVjdCB0byBhbiBNUVRULXN1cHBvcnRpbmcgbWVzc2FnaW5nIHNlcnZlci5cbiAqXG4gKiBUaGUgZnVuY3Rpb24gc3VwcG9ydGVkIGluY2x1ZGVzOlxuICogPG9sPlxuICogPGxpPkNvbm5lY3RpbmcgdG8gYW5kIGRpc2Nvbm5lY3RpbmcgZnJvbSBhIHNlcnZlci4gVGhlIHNlcnZlciBpcyBpZGVudGlmaWVkIGJ5IGl0cyBob3N0IG5hbWUgYW5kIHBvcnQgbnVtYmVyLlxuICogPGxpPlNwZWNpZnlpbmcgb3B0aW9ucyB0aGF0IHJlbGF0ZSB0byB0aGUgY29tbXVuaWNhdGlvbnMgbGluayB3aXRoIHRoZSBzZXJ2ZXIsXG4gKiBmb3IgZXhhbXBsZSB0aGUgZnJlcXVlbmN5IG9mIGtlZXAtYWxpdmUgaGVhcnRiZWF0cywgYW5kIHdoZXRoZXIgU1NML1RMUyBpcyByZXF1aXJlZC5cbiAqIDxsaT5TdWJzY3JpYmluZyB0byBhbmQgcmVjZWl2aW5nIG1lc3NhZ2VzIGZyb20gTVFUVCBUb3BpY3MuXG4gKiA8bGk+UHVibGlzaGluZyBtZXNzYWdlcyB0byBNUVRUIFRvcGljcy5cbiAqIDwvb2w+XG4gKiA8cD5cbiAqIFRoZSBBUEkgY29uc2lzdHMgb2YgdHdvIG1haW4gb2JqZWN0czpcbiAqIDxkbD5cbiAqIDxkdD48Yj57QGxpbmsgUGFoby5DbGllbnR9PC9iPjwvZHQ+XG4gKiA8ZGQ+VGhpcyBjb250YWlucyBtZXRob2RzIHRoYXQgcHJvdmlkZSB0aGUgZnVuY3Rpb25hbGl0eSBvZiB0aGUgQVBJLFxuICogaW5jbHVkaW5nIHByb3Zpc2lvbiBvZiBjYWxsYmFja3MgdGhhdCBub3RpZnkgdGhlIGFwcGxpY2F0aW9uIHdoZW4gYSBtZXNzYWdlXG4gKiBhcnJpdmVzIGZyb20gb3IgaXMgZGVsaXZlcmVkIHRvIHRoZSBtZXNzYWdpbmcgc2VydmVyLFxuICogb3Igd2hlbiB0aGUgc3RhdHVzIG9mIGl0cyBjb25uZWN0aW9uIHRvIHRoZSBtZXNzYWdpbmcgc2VydmVyIGNoYW5nZXMuPC9kZD5cbiAqIDxkdD48Yj57QGxpbmsgUGFoby5NZXNzYWdlfTwvYj48L2R0PlxuICogPGRkPlRoaXMgZW5jYXBzdWxhdGVzIHRoZSBwYXlsb2FkIG9mIHRoZSBtZXNzYWdlIGFsb25nIHdpdGggdmFyaW91cyBhdHRyaWJ1dGVzXG4gKiBhc3NvY2lhdGVkIHdpdGggaXRzIGRlbGl2ZXJ5LCBpbiBwYXJ0aWN1bGFyIHRoZSBkZXN0aW5hdGlvbiB0byB3aGljaCBpdCBoYXNcbiAqIGJlZW4gKG9yIGlzIGFib3V0IHRvIGJlKSBzZW50LjwvZGQ+XG4gKiA8L2RsPlxuICogPHA+XG4gKiBUaGUgcHJvZ3JhbW1pbmcgaW50ZXJmYWNlIHZhbGlkYXRlcyBwYXJhbWV0ZXJzIHBhc3NlZCB0byBpdCwgYW5kIHdpbGwgdGhyb3dcbiAqIGFuIEVycm9yIGNvbnRhaW5pbmcgYW4gZXJyb3IgbWVzc2FnZSBpbnRlbmRlZCBmb3IgZGV2ZWxvcGVyIHVzZSwgaWYgaXQgZGV0ZWN0c1xuICogYW4gZXJyb3Igd2l0aCBhbnkgcGFyYW1ldGVyLlxuICogPHA+XG4gKiBFeGFtcGxlOlxuICpcbiAqIDxjb2RlPjxwcmU+XG52YXIgY2xpZW50ID0gbmV3IFBhaG8uTVFUVC5DbGllbnQobG9jYXRpb24uaG9zdG5hbWUsIE51bWJlcihsb2NhdGlvbi5wb3J0KSwgXCJjbGllbnRJZFwiKTtcbmNsaWVudC5vbkNvbm5lY3Rpb25Mb3N0ID0gb25Db25uZWN0aW9uTG9zdDtcbmNsaWVudC5vbk1lc3NhZ2VBcnJpdmVkID0gb25NZXNzYWdlQXJyaXZlZDtcbmNsaWVudC5jb25uZWN0KHtvblN1Y2Nlc3M6b25Db25uZWN0fSk7XG5cbmZ1bmN0aW9uIG9uQ29ubmVjdCgpIHtcbiAgLy8gT25jZSBhIGNvbm5lY3Rpb24gaGFzIGJlZW4gbWFkZSwgbWFrZSBhIHN1YnNjcmlwdGlvbiBhbmQgc2VuZCBhIG1lc3NhZ2UuXG4gIGNvbnNvbGUubG9nKFwib25Db25uZWN0XCIpO1xuICBjbGllbnQuc3Vic2NyaWJlKFwiL1dvcmxkXCIpO1xuICB2YXIgbWVzc2FnZSA9IG5ldyBQYWhvLk1RVFQuTWVzc2FnZShcIkhlbGxvXCIpO1xuICBtZXNzYWdlLmRlc3RpbmF0aW9uTmFtZSA9IFwiL1dvcmxkXCI7XG4gIGNsaWVudC5zZW5kKG1lc3NhZ2UpO1xufTtcbmZ1bmN0aW9uIG9uQ29ubmVjdGlvbkxvc3QocmVzcG9uc2VPYmplY3QpIHtcbiAgaWYgKHJlc3BvbnNlT2JqZWN0LmVycm9yQ29kZSAhPT0gMClcblx0Y29uc29sZS5sb2coXCJvbkNvbm5lY3Rpb25Mb3N0OlwiK3Jlc3BvbnNlT2JqZWN0LmVycm9yTWVzc2FnZSk7XG59O1xuZnVuY3Rpb24gb25NZXNzYWdlQXJyaXZlZChtZXNzYWdlKSB7XG4gIGNvbnNvbGUubG9nKFwib25NZXNzYWdlQXJyaXZlZDpcIittZXNzYWdlLnBheWxvYWRTdHJpbmcpO1xuICBjbGllbnQuZGlzY29ubmVjdCgpO1xufTtcbiAqIDwvcHJlPjwvY29kZT5cbiAqIEBuYW1lc3BhY2UgUGFob1xuICovXG5cbi8qIGpzaGludCBzaGFkb3c6dHJ1ZSAqL1xuKGZ1bmN0aW9uIEV4cG9ydExpYnJhcnkocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgbW9kdWxlID09PSBcIm9iamVjdFwiKXtcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0fSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCl7XG5cdFx0ZGVmaW5lKGZhY3RvcnkpO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSBcIm9iamVjdFwiKXtcblx0XHRleHBvcnRzID0gZmFjdG9yeSgpO1xuXHR9IGVsc2Uge1xuXHRcdC8vaWYgKHR5cGVvZiByb290LlBhaG8gPT09IFwidW5kZWZpbmVkXCIpe1xuXHRcdC8vXHRyb290LlBhaG8gPSB7fTtcblx0XHQvL31cblx0XHRyb290LlBhaG8gPSBmYWN0b3J5KCk7XG5cdH1cbn0pKHRoaXMsIGZ1bmN0aW9uIExpYnJhcnlGYWN0b3J5KCl7XG5cblxuXHR2YXIgUGFob01RVFQgPSAoZnVuY3Rpb24gKGdsb2JhbCkge1xuXG5cdC8vIFByaXZhdGUgdmFyaWFibGVzIGJlbG93LCB0aGVzZSBhcmUgb25seSB2aXNpYmxlIGluc2lkZSB0aGUgZnVuY3Rpb24gY2xvc3VyZVxuXHQvLyB3aGljaCBpcyB1c2VkIHRvIGRlZmluZSB0aGUgbW9kdWxlLlxuXHR2YXIgdmVyc2lvbiA9IFwiQFZFUlNJT05ALUBCVUlMRExFVkVMQFwiO1xuXG5cdC8qKlxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0dmFyIGxvY2FsU3RvcmFnZSA9IGdsb2JhbC5sb2NhbFN0b3JhZ2UgfHwgKGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgZGF0YSA9IHt9O1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHNldEl0ZW06IGZ1bmN0aW9uIChrZXksIGl0ZW0pIHsgZGF0YVtrZXldID0gaXRlbTsgfSxcblx0XHRcdGdldEl0ZW06IGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIGRhdGFba2V5XTsgfSxcblx0XHRcdHJlbW92ZUl0ZW06IGZ1bmN0aW9uIChrZXkpIHsgZGVsZXRlIGRhdGFba2V5XTsgfSxcblx0XHR9O1xuXHR9KSgpO1xuXG5cdFx0LyoqXG5cdCAqIFVuaXF1ZSBtZXNzYWdlIHR5cGUgaWRlbnRpZmllcnMsIHdpdGggYXNzb2NpYXRlZFxuXHQgKiBhc3NvY2lhdGVkIGludGVnZXIgdmFsdWVzLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0XHR2YXIgTUVTU0FHRV9UWVBFID0ge1xuXHRcdFx0Q09OTkVDVDogMSxcblx0XHRcdENPTk5BQ0s6IDIsXG5cdFx0XHRQVUJMSVNIOiAzLFxuXHRcdFx0UFVCQUNLOiA0LFxuXHRcdFx0UFVCUkVDOiA1LFxuXHRcdFx0UFVCUkVMOiA2LFxuXHRcdFx0UFVCQ09NUDogNyxcblx0XHRcdFNVQlNDUklCRTogOCxcblx0XHRcdFNVQkFDSzogOSxcblx0XHRcdFVOU1VCU0NSSUJFOiAxMCxcblx0XHRcdFVOU1VCQUNLOiAxMSxcblx0XHRcdFBJTkdSRVE6IDEyLFxuXHRcdFx0UElOR1JFU1A6IDEzLFxuXHRcdFx0RElTQ09OTkVDVDogMTRcblx0XHR9O1xuXG5cdFx0Ly8gQ29sbGVjdGlvbiBvZiB1dGlsaXR5IG1ldGhvZHMgdXNlZCB0byBzaW1wbGlmeSBtb2R1bGUgY29kZVxuXHRcdC8vIGFuZCBwcm9tb3RlIHRoZSBEUlkgcGF0dGVybi5cblxuXHRcdC8qKlxuXHQgKiBWYWxpZGF0ZSBhbiBvYmplY3QncyBwYXJhbWV0ZXIgbmFtZXMgdG8gZW5zdXJlIHRoZXlcblx0ICogbWF0Y2ggYSBsaXN0IG9mIGV4cGVjdGVkIHZhcmlhYmxlcyBuYW1lIGZvciB0aGlzIG9wdGlvblxuXHQgKiB0eXBlLiBVc2VkIHRvIGVuc3VyZSBvcHRpb24gb2JqZWN0IHBhc3NlZCBpbnRvIHRoZSBBUEkgZG9uJ3Rcblx0ICogY29udGFpbiBlcnJvbmVvdXMgcGFyYW1ldGVycy5cblx0ICogQHBhcmFtIHtPYmplY3R9IG9iaiAtIFVzZXIgb3B0aW9ucyBvYmplY3Rcblx0ICogQHBhcmFtIHtPYmplY3R9IGtleXMgLSB2YWxpZCBrZXlzIGFuZCB0eXBlcyB0aGF0IG1heSBleGlzdCBpbiBvYmouXG5cdCAqIEB0aHJvd3Mge0Vycm9yfSBJbnZhbGlkIG9wdGlvbiBwYXJhbWV0ZXIgZm91bmQuXG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRcdHZhciB2YWxpZGF0ZSA9IGZ1bmN0aW9uKG9iaiwga2V5cykge1xuXHRcdFx0Zm9yICh2YXIga2V5IGluIG9iaikge1xuXHRcdFx0XHRpZiAob2JqLmhhc093blByb3BlcnR5KGtleSkpIHtcblx0XHRcdFx0XHRpZiAoa2V5cy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG5cdFx0XHRcdFx0XHRpZiAodHlwZW9mIG9ialtrZXldICE9PSBrZXlzW2tleV0pXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihmb3JtYXQoRVJST1IuSU5WQUxJRF9UWVBFLCBbdHlwZW9mIG9ialtrZXldLCBrZXldKSk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHZhciBlcnJvclN0ciA9IFwiVW5rbm93biBwcm9wZXJ0eSwgXCIgKyBrZXkgKyBcIi4gVmFsaWQgcHJvcGVydGllcyBhcmU6XCI7XG5cdFx0XHRcdFx0XHRmb3IgKHZhciB2YWxpZEtleSBpbiBrZXlzKVxuXHRcdFx0XHRcdFx0XHRpZiAoa2V5cy5oYXNPd25Qcm9wZXJ0eSh2YWxpZEtleSkpXG5cdFx0XHRcdFx0XHRcdFx0ZXJyb3JTdHIgPSBlcnJvclN0citcIiBcIit2YWxpZEtleTtcblx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihlcnJvclN0cik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdC8qKlxuXHQgKiBSZXR1cm4gYSBuZXcgZnVuY3Rpb24gd2hpY2ggcnVucyB0aGUgdXNlciBmdW5jdGlvbiBib3VuZFxuXHQgKiB0byBhIGZpeGVkIHNjb3BlLlxuXHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBVc2VyIGZ1bmN0aW9uXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSBGdW5jdGlvbiBzY29wZVxuXHQgKiBAcmV0dXJuIHtmdW5jdGlvbn0gVXNlciBmdW5jdGlvbiBib3VuZCB0byBhbm90aGVyIHNjb3BlXG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRcdHZhciBzY29wZSA9IGZ1bmN0aW9uIChmLCBzY29wZSkge1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0cmV0dXJuIGYuYXBwbHkoc2NvcGUsIGFyZ3VtZW50cyk7XG5cdFx0XHR9O1xuXHRcdH07XG5cblx0XHQvKipcblx0ICogVW5pcXVlIG1lc3NhZ2UgdHlwZSBpZGVudGlmaWVycywgd2l0aCBhc3NvY2lhdGVkXG5cdCAqIGFzc29jaWF0ZWQgaW50ZWdlciB2YWx1ZXMuXG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRcdHZhciBFUlJPUiA9IHtcblx0XHRcdE9LOiB7Y29kZTowLCB0ZXh0OlwiQU1RSlNDMDAwMEkgT0suXCJ9LFxuXHRcdFx0Q09OTkVDVF9USU1FT1VUOiB7Y29kZToxLCB0ZXh0OlwiQU1RSlNDMDAwMUUgQ29ubmVjdCB0aW1lZCBvdXQuXCJ9LFxuXHRcdFx0U1VCU0NSSUJFX1RJTUVPVVQ6IHtjb2RlOjIsIHRleHQ6XCJBTVFKUzAwMDJFIFN1YnNjcmliZSB0aW1lZCBvdXQuXCJ9LFxuXHRcdFx0VU5TVUJTQ1JJQkVfVElNRU9VVDoge2NvZGU6MywgdGV4dDpcIkFNUUpTMDAwM0UgVW5zdWJzY3JpYmUgdGltZWQgb3V0LlwifSxcblx0XHRcdFBJTkdfVElNRU9VVDoge2NvZGU6NCwgdGV4dDpcIkFNUUpTMDAwNEUgUGluZyB0aW1lZCBvdXQuXCJ9LFxuXHRcdFx0SU5URVJOQUxfRVJST1I6IHtjb2RlOjUsIHRleHQ6XCJBTVFKUzAwMDVFIEludGVybmFsIGVycm9yLiBFcnJvciBNZXNzYWdlOiB7MH0sIFN0YWNrIHRyYWNlOiB7MX1cIn0sXG5cdFx0XHRDT05OQUNLX1JFVFVSTkNPREU6IHtjb2RlOjYsIHRleHQ6XCJBTVFKUzAwMDZFIEJhZCBDb25uYWNrIHJldHVybiBjb2RlOnswfSB7MX0uXCJ9LFxuXHRcdFx0U09DS0VUX0VSUk9SOiB7Y29kZTo3LCB0ZXh0OlwiQU1RSlMwMDA3RSBTb2NrZXQgZXJyb3I6ezB9LlwifSxcblx0XHRcdFNPQ0tFVF9DTE9TRToge2NvZGU6OCwgdGV4dDpcIkFNUUpTMDAwOEkgU29ja2V0IGNsb3NlZC5cIn0sXG5cdFx0XHRNQUxGT1JNRURfVVRGOiB7Y29kZTo5LCB0ZXh0OlwiQU1RSlMwMDA5RSBNYWxmb3JtZWQgVVRGIGRhdGE6ezB9IHsxfSB7Mn0uXCJ9LFxuXHRcdFx0VU5TVVBQT1JURUQ6IHtjb2RlOjEwLCB0ZXh0OlwiQU1RSlMwMDEwRSB7MH0gaXMgbm90IHN1cHBvcnRlZCBieSB0aGlzIGJyb3dzZXIuXCJ9LFxuXHRcdFx0SU5WQUxJRF9TVEFURToge2NvZGU6MTEsIHRleHQ6XCJBTVFKUzAwMTFFIEludmFsaWQgc3RhdGUgezB9LlwifSxcblx0XHRcdElOVkFMSURfVFlQRToge2NvZGU6MTIsIHRleHQ6XCJBTVFKUzAwMTJFIEludmFsaWQgdHlwZSB7MH0gZm9yIHsxfS5cIn0sXG5cdFx0XHRJTlZBTElEX0FSR1VNRU5UOiB7Y29kZToxMywgdGV4dDpcIkFNUUpTMDAxM0UgSW52YWxpZCBhcmd1bWVudCB7MH0gZm9yIHsxfS5cIn0sXG5cdFx0XHRVTlNVUFBPUlRFRF9PUEVSQVRJT046IHtjb2RlOjE0LCB0ZXh0OlwiQU1RSlMwMDE0RSBVbnN1cHBvcnRlZCBvcGVyYXRpb24uXCJ9LFxuXHRcdFx0SU5WQUxJRF9TVE9SRURfREFUQToge2NvZGU6MTUsIHRleHQ6XCJBTVFKUzAwMTVFIEludmFsaWQgZGF0YSBpbiBsb2NhbCBzdG9yYWdlIGtleT17MH0gdmFsdWU9ezF9LlwifSxcblx0XHRcdElOVkFMSURfTVFUVF9NRVNTQUdFX1RZUEU6IHtjb2RlOjE2LCB0ZXh0OlwiQU1RSlMwMDE2RSBJbnZhbGlkIE1RVFQgbWVzc2FnZSB0eXBlIHswfS5cIn0sXG5cdFx0XHRNQUxGT1JNRURfVU5JQ09ERToge2NvZGU6MTcsIHRleHQ6XCJBTVFKUzAwMTdFIE1hbGZvcm1lZCBVbmljb2RlIHN0cmluZzp7MH0gezF9LlwifSxcblx0XHRcdEJVRkZFUl9GVUxMOiB7Y29kZToxOCwgdGV4dDpcIkFNUUpTMDAxOEUgTWVzc2FnZSBidWZmZXIgaXMgZnVsbCwgbWF4aW11bSBidWZmZXIgc2l6ZTogezB9LlwifSxcblx0XHR9O1xuXG5cdFx0LyoqIENPTk5BQ0sgUkMgTWVhbmluZy4gKi9cblx0XHR2YXIgQ09OTkFDS19SQyA9IHtcblx0XHRcdDA6XCJDb25uZWN0aW9uIEFjY2VwdGVkXCIsXG5cdFx0XHQxOlwiQ29ubmVjdGlvbiBSZWZ1c2VkOiB1bmFjY2VwdGFibGUgcHJvdG9jb2wgdmVyc2lvblwiLFxuXHRcdFx0MjpcIkNvbm5lY3Rpb24gUmVmdXNlZDogaWRlbnRpZmllciByZWplY3RlZFwiLFxuXHRcdFx0MzpcIkNvbm5lY3Rpb24gUmVmdXNlZDogc2VydmVyIHVuYXZhaWxhYmxlXCIsXG5cdFx0XHQ0OlwiQ29ubmVjdGlvbiBSZWZ1c2VkOiBiYWQgdXNlciBuYW1lIG9yIHBhc3N3b3JkXCIsXG5cdFx0XHQ1OlwiQ29ubmVjdGlvbiBSZWZ1c2VkOiBub3QgYXV0aG9yaXplZFwiXG5cdFx0fTtcblxuXHQvKipcblx0ICogRm9ybWF0IGFuIGVycm9yIG1lc3NhZ2UgdGV4dC5cblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtlcnJvcn0gRVJST1IgdmFsdWUgYWJvdmUuXG5cdCAqIEBwYXJhbSB7c3Vic3RpdHV0aW9uc30gW2FycmF5XSBzdWJzdGl0dXRlZCBpbnRvIHRoZSB0ZXh0LlxuXHQgKiBAcmV0dXJuIHRoZSB0ZXh0IHdpdGggdGhlIHN1YnN0aXR1dGlvbnMgbWFkZS5cblx0ICovXG5cdFx0dmFyIGZvcm1hdCA9IGZ1bmN0aW9uKGVycm9yLCBzdWJzdGl0dXRpb25zKSB7XG5cdFx0XHR2YXIgdGV4dCA9IGVycm9yLnRleHQ7XG5cdFx0XHRpZiAoc3Vic3RpdHV0aW9ucykge1xuXHRcdFx0XHR2YXIgZmllbGQsc3RhcnQ7XG5cdFx0XHRcdGZvciAodmFyIGk9MDsgaTxzdWJzdGl0dXRpb25zLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0ZmllbGQgPSBcIntcIitpK1wifVwiO1xuXHRcdFx0XHRcdHN0YXJ0ID0gdGV4dC5pbmRleE9mKGZpZWxkKTtcblx0XHRcdFx0XHRpZihzdGFydCA+IDApIHtcblx0XHRcdFx0XHRcdHZhciBwYXJ0MSA9IHRleHQuc3Vic3RyaW5nKDAsc3RhcnQpO1xuXHRcdFx0XHRcdFx0dmFyIHBhcnQyID0gdGV4dC5zdWJzdHJpbmcoc3RhcnQrZmllbGQubGVuZ3RoKTtcblx0XHRcdFx0XHRcdHRleHQgPSBwYXJ0MStzdWJzdGl0dXRpb25zW2ldK3BhcnQyO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRleHQ7XG5cdFx0fTtcblxuXHRcdC8vTVFUVCBwcm90b2NvbCBhbmQgdmVyc2lvbiAgICAgICAgICA2ICAgIE0gICAgUSAgICBJICAgIHMgICAgZCAgICBwICAgIDNcblx0XHR2YXIgTXF0dFByb3RvSWRlbnRpZmllcnYzID0gWzB4MDAsMHgwNiwweDRkLDB4NTEsMHg0OSwweDczLDB4NjQsMHg3MCwweDAzXTtcblx0XHQvL01RVFQgcHJvdG8vdmVyc2lvbiBmb3IgMzExICAgICAgICAgNCAgICBNICAgIFEgICAgVCAgICBUICAgIDRcblx0XHR2YXIgTXF0dFByb3RvSWRlbnRpZmllcnY0ID0gWzB4MDAsMHgwNCwweDRkLDB4NTEsMHg1NCwweDU0LDB4MDRdO1xuXG5cdFx0LyoqXG5cdCAqIENvbnN0cnVjdCBhbiBNUVRUIHdpcmUgcHJvdG9jb2wgbWVzc2FnZS5cblx0ICogQHBhcmFtIHR5cGUgTVFUVCBwYWNrZXQgdHlwZS5cblx0ICogQHBhcmFtIG9wdGlvbnMgb3B0aW9uYWwgd2lyZSBtZXNzYWdlIGF0dHJpYnV0ZXMuXG5cdCAqXG5cdCAqIE9wdGlvbmFsIHByb3BlcnRpZXNcblx0ICpcblx0ICogbWVzc2FnZUlkZW50aWZpZXI6IG1lc3NhZ2UgSUQgaW4gdGhlIHJhbmdlIFswLi42NTUzNV1cblx0ICogcGF5bG9hZE1lc3NhZ2U6XHRBcHBsaWNhdGlvbiBNZXNzYWdlIC0gUFVCTElTSCBvbmx5XG5cdCAqIGNvbm5lY3RTdHJpbmdzOlx0YXJyYXkgb2YgMCBvciBtb3JlIFN0cmluZ3MgdG8gYmUgcHV0IGludG8gdGhlIENPTk5FQ1QgcGF5bG9hZFxuXHQgKiB0b3BpY3M6XHRcdFx0YXJyYXkgb2Ygc3RyaW5ncyAoU1VCU0NSSUJFLCBVTlNVQlNDUklCRSlcblx0ICogcmVxdWVzdFFvUzpcdFx0YXJyYXkgb2YgUW9TIHZhbHVlcyBbMC4uMl1cblx0ICpcblx0ICogXCJGbGFnXCIgcHJvcGVydGllc1xuXHQgKiBjbGVhblNlc3Npb246XHR0cnVlIGlmIHByZXNlbnQgLyBmYWxzZSBpZiBhYnNlbnQgKENPTk5FQ1QpXG5cdCAqIHdpbGxNZXNzYWdlOiAgXHR0cnVlIGlmIHByZXNlbnQgLyBmYWxzZSBpZiBhYnNlbnQgKENPTk5FQ1QpXG5cdCAqIGlzUmV0YWluZWQ6XHRcdHRydWUgaWYgcHJlc2VudCAvIGZhbHNlIGlmIGFic2VudCAoQ09OTkVDVClcblx0ICogdXNlck5hbWU6XHRcdHRydWUgaWYgcHJlc2VudCAvIGZhbHNlIGlmIGFic2VudCAoQ09OTkVDVClcblx0ICogcGFzc3dvcmQ6XHRcdHRydWUgaWYgcHJlc2VudCAvIGZhbHNlIGlmIGFic2VudCAoQ09OTkVDVClcblx0ICoga2VlcEFsaXZlSW50ZXJ2YWw6XHRpbnRlZ2VyIFswLi42NTUzNV0gIChDT05ORUNUKVxuXHQgKlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAaWdub3JlXG5cdCAqL1xuXHRcdHZhciBXaXJlTWVzc2FnZSA9IGZ1bmN0aW9uICh0eXBlLCBvcHRpb25zKSB7XG5cdFx0XHR0aGlzLnR5cGUgPSB0eXBlO1xuXHRcdFx0Zm9yICh2YXIgbmFtZSBpbiBvcHRpb25zKSB7XG5cdFx0XHRcdGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG5cdFx0XHRcdFx0dGhpc1tuYW1lXSA9IG9wdGlvbnNbbmFtZV07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0V2lyZU1lc3NhZ2UucHJvdG90eXBlLmVuY29kZSA9IGZ1bmN0aW9uKCkge1xuXHRcdC8vIENvbXB1dGUgdGhlIGZpcnN0IGJ5dGUgb2YgdGhlIGZpeGVkIGhlYWRlclxuXHRcdFx0dmFyIGZpcnN0ID0gKCh0aGlzLnR5cGUgJiAweDBmKSA8PCA0KTtcblxuXHRcdFx0Lypcblx0XHQgKiBOb3cgY2FsY3VsYXRlIHRoZSBsZW5ndGggb2YgdGhlIHZhcmlhYmxlIGhlYWRlciArIHBheWxvYWQgYnkgYWRkaW5nIHVwIHRoZSBsZW5ndGhzXG5cdFx0ICogb2YgYWxsIHRoZSBjb21wb25lbnQgcGFydHNcblx0XHQgKi9cblxuXHRcdFx0dmFyIHJlbUxlbmd0aCA9IDA7XG5cdFx0XHR2YXIgdG9waWNTdHJMZW5ndGggPSBbXTtcblx0XHRcdHZhciBkZXN0aW5hdGlvbk5hbWVMZW5ndGggPSAwO1xuXHRcdFx0dmFyIHdpbGxNZXNzYWdlUGF5bG9hZEJ5dGVzO1xuXG5cdFx0XHQvLyBpZiB0aGUgbWVzc2FnZSBjb250YWlucyBhIG1lc3NhZ2VJZGVudGlmaWVyIHRoZW4gd2UgbmVlZCB0d28gYnl0ZXMgZm9yIHRoYXRcblx0XHRcdGlmICh0aGlzLm1lc3NhZ2VJZGVudGlmaWVyICE9PSB1bmRlZmluZWQpXG5cdFx0XHRcdHJlbUxlbmd0aCArPSAyO1xuXG5cdFx0XHRzd2l0Y2godGhpcy50eXBlKSB7XG5cdFx0XHQvLyBJZiB0aGlzIGEgQ29ubmVjdCB0aGVuIHdlIG5lZWQgdG8gaW5jbHVkZSAxMiBieXRlcyBmb3IgaXRzIGhlYWRlclxuXHRcdFx0Y2FzZSBNRVNTQUdFX1RZUEUuQ09OTkVDVDpcblx0XHRcdFx0c3dpdGNoKHRoaXMubXF0dFZlcnNpb24pIHtcblx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdHJlbUxlbmd0aCArPSBNcXR0UHJvdG9JZGVudGlmaWVydjMubGVuZ3RoICsgMztcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRcdHJlbUxlbmd0aCArPSBNcXR0UHJvdG9JZGVudGlmaWVydjQubGVuZ3RoICsgMztcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJlbUxlbmd0aCArPSBVVEY4TGVuZ3RoKHRoaXMuY2xpZW50SWQpICsgMjtcblx0XHRcdFx0aWYgKHRoaXMud2lsbE1lc3NhZ2UgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdHJlbUxlbmd0aCArPSBVVEY4TGVuZ3RoKHRoaXMud2lsbE1lc3NhZ2UuZGVzdGluYXRpb25OYW1lKSArIDI7XG5cdFx0XHRcdFx0Ly8gV2lsbCBtZXNzYWdlIGlzIGFsd2F5cyBhIHN0cmluZywgc2VudCBhcyBVVEYtOCBjaGFyYWN0ZXJzIHdpdGggYSBwcmVjZWRpbmcgbGVuZ3RoLlxuXHRcdFx0XHRcdHdpbGxNZXNzYWdlUGF5bG9hZEJ5dGVzID0gdGhpcy53aWxsTWVzc2FnZS5wYXlsb2FkQnl0ZXM7XG5cdFx0XHRcdFx0aWYgKCEod2lsbE1lc3NhZ2VQYXlsb2FkQnl0ZXMgaW5zdGFuY2VvZiBVaW50OEFycmF5KSlcblx0XHRcdFx0XHRcdHdpbGxNZXNzYWdlUGF5bG9hZEJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkocGF5bG9hZEJ5dGVzKTtcblx0XHRcdFx0XHRyZW1MZW5ndGggKz0gd2lsbE1lc3NhZ2VQYXlsb2FkQnl0ZXMuYnl0ZUxlbmd0aCArMjtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAodGhpcy51c2VyTmFtZSAhPT0gdW5kZWZpbmVkKVxuXHRcdFx0XHRcdHJlbUxlbmd0aCArPSBVVEY4TGVuZ3RoKHRoaXMudXNlck5hbWUpICsgMjtcblx0XHRcdFx0aWYgKHRoaXMucGFzc3dvcmQgIT09IHVuZGVmaW5lZClcblx0XHRcdFx0XHRyZW1MZW5ndGggKz0gVVRGOExlbmd0aCh0aGlzLnBhc3N3b3JkKSArIDI7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHQvLyBTdWJzY3JpYmUsIFVuc3Vic2NyaWJlIGNhbiBib3RoIGNvbnRhaW4gdG9waWMgc3RyaW5nc1xuXHRcdFx0Y2FzZSBNRVNTQUdFX1RZUEUuU1VCU0NSSUJFOlxuXHRcdFx0XHRmaXJzdCB8PSAweDAyOyAvLyBRb3MgPSAxO1xuXHRcdFx0XHRmb3IgKCB2YXIgaSA9IDA7IGkgPCB0aGlzLnRvcGljcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdHRvcGljU3RyTGVuZ3RoW2ldID0gVVRGOExlbmd0aCh0aGlzLnRvcGljc1tpXSk7XG5cdFx0XHRcdFx0cmVtTGVuZ3RoICs9IHRvcGljU3RyTGVuZ3RoW2ldICsgMjtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZW1MZW5ndGggKz0gdGhpcy5yZXF1ZXN0ZWRRb3MubGVuZ3RoOyAvLyAxIGJ5dGUgZm9yIGVhY2ggdG9waWMncyBRb3Ncblx0XHRcdFx0Ly8gUW9TIG9uIFN1YnNjcmliZSBvbmx5XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIE1FU1NBR0VfVFlQRS5VTlNVQlNDUklCRTpcblx0XHRcdFx0Zmlyc3QgfD0gMHgwMjsgLy8gUW9zID0gMTtcblx0XHRcdFx0Zm9yICggdmFyIGkgPSAwOyBpIDwgdGhpcy50b3BpY3MubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHR0b3BpY1N0ckxlbmd0aFtpXSA9IFVURjhMZW5ndGgodGhpcy50b3BpY3NbaV0pO1xuXHRcdFx0XHRcdHJlbUxlbmd0aCArPSB0b3BpY1N0ckxlbmd0aFtpXSArIDI7XG5cdFx0XHRcdH1cblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgTUVTU0FHRV9UWVBFLlBVQlJFTDpcblx0XHRcdFx0Zmlyc3QgfD0gMHgwMjsgLy8gUW9zID0gMTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgTUVTU0FHRV9UWVBFLlBVQkxJU0g6XG5cdFx0XHRcdGlmICh0aGlzLnBheWxvYWRNZXNzYWdlLmR1cGxpY2F0ZSkgZmlyc3QgfD0gMHgwODtcblx0XHRcdFx0Zmlyc3QgID0gZmlyc3QgfD0gKHRoaXMucGF5bG9hZE1lc3NhZ2UucW9zIDw8IDEpO1xuXHRcdFx0XHRpZiAodGhpcy5wYXlsb2FkTWVzc2FnZS5yZXRhaW5lZCkgZmlyc3QgfD0gMHgwMTtcblx0XHRcdFx0ZGVzdGluYXRpb25OYW1lTGVuZ3RoID0gVVRGOExlbmd0aCh0aGlzLnBheWxvYWRNZXNzYWdlLmRlc3RpbmF0aW9uTmFtZSk7XG5cdFx0XHRcdHJlbUxlbmd0aCArPSBkZXN0aW5hdGlvbk5hbWVMZW5ndGggKyAyO1xuXHRcdFx0XHR2YXIgcGF5bG9hZEJ5dGVzID0gdGhpcy5wYXlsb2FkTWVzc2FnZS5wYXlsb2FkQnl0ZXM7XG5cdFx0XHRcdHJlbUxlbmd0aCArPSBwYXlsb2FkQnl0ZXMuYnl0ZUxlbmd0aDtcblx0XHRcdFx0aWYgKHBheWxvYWRCeXRlcyBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKVxuXHRcdFx0XHRcdHBheWxvYWRCeXRlcyA9IG5ldyBVaW50OEFycmF5KHBheWxvYWRCeXRlcyk7XG5cdFx0XHRcdGVsc2UgaWYgKCEocGF5bG9hZEJ5dGVzIGluc3RhbmNlb2YgVWludDhBcnJheSkpXG5cdFx0XHRcdFx0cGF5bG9hZEJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkocGF5bG9hZEJ5dGVzLmJ1ZmZlcik7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIE1FU1NBR0VfVFlQRS5ESVNDT05ORUNUOlxuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE5vdyB3ZSBjYW4gYWxsb2NhdGUgYSBidWZmZXIgZm9yIHRoZSBtZXNzYWdlXG5cblx0XHRcdHZhciBtYmkgPSBlbmNvZGVNQkkocmVtTGVuZ3RoKTsgIC8vIENvbnZlcnQgdGhlIGxlbmd0aCB0byBNUVRUIE1CSSBmb3JtYXRcblx0XHRcdHZhciBwb3MgPSBtYmkubGVuZ3RoICsgMTsgICAgICAgIC8vIE9mZnNldCBvZiBzdGFydCBvZiB2YXJpYWJsZSBoZWFkZXJcblx0XHRcdHZhciBidWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIocmVtTGVuZ3RoICsgcG9zKTtcblx0XHRcdHZhciBieXRlU3RyZWFtID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTsgICAgLy8gdmlldyBpdCBhcyBhIHNlcXVlbmNlIG9mIGJ5dGVzXG5cblx0XHRcdC8vV3JpdGUgdGhlIGZpeGVkIGhlYWRlciBpbnRvIHRoZSBidWZmZXJcblx0XHRcdGJ5dGVTdHJlYW1bMF0gPSBmaXJzdDtcblx0XHRcdGJ5dGVTdHJlYW0uc2V0KG1iaSwxKTtcblxuXHRcdFx0Ly8gSWYgdGhpcyBpcyBhIFBVQkxJU0ggdGhlbiB0aGUgdmFyaWFibGUgaGVhZGVyIHN0YXJ0cyB3aXRoIGEgdG9waWNcblx0XHRcdGlmICh0aGlzLnR5cGUgPT0gTUVTU0FHRV9UWVBFLlBVQkxJU0gpXG5cdFx0XHRcdHBvcyA9IHdyaXRlU3RyaW5nKHRoaXMucGF5bG9hZE1lc3NhZ2UuZGVzdGluYXRpb25OYW1lLCBkZXN0aW5hdGlvbk5hbWVMZW5ndGgsIGJ5dGVTdHJlYW0sIHBvcyk7XG5cdFx0XHQvLyBJZiB0aGlzIGlzIGEgQ09OTkVDVCB0aGVuIHRoZSB2YXJpYWJsZSBoZWFkZXIgY29udGFpbnMgdGhlIHByb3RvY29sIG5hbWUvdmVyc2lvbiwgZmxhZ3MgYW5kIGtlZXBhbGl2ZSB0aW1lXG5cblx0XHRcdGVsc2UgaWYgKHRoaXMudHlwZSA9PSBNRVNTQUdFX1RZUEUuQ09OTkVDVCkge1xuXHRcdFx0XHRzd2l0Y2ggKHRoaXMubXF0dFZlcnNpb24pIHtcblx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdGJ5dGVTdHJlYW0uc2V0KE1xdHRQcm90b0lkZW50aWZpZXJ2MywgcG9zKTtcblx0XHRcdFx0XHRwb3MgKz0gTXF0dFByb3RvSWRlbnRpZmllcnYzLmxlbmd0aDtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRcdGJ5dGVTdHJlYW0uc2V0KE1xdHRQcm90b0lkZW50aWZpZXJ2NCwgcG9zKTtcblx0XHRcdFx0XHRwb3MgKz0gTXF0dFByb3RvSWRlbnRpZmllcnY0Lmxlbmd0aDtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0XHR2YXIgY29ubmVjdEZsYWdzID0gMDtcblx0XHRcdFx0aWYgKHRoaXMuY2xlYW5TZXNzaW9uKVxuXHRcdFx0XHRcdGNvbm5lY3RGbGFncyA9IDB4MDI7XG5cdFx0XHRcdGlmICh0aGlzLndpbGxNZXNzYWdlICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0Y29ubmVjdEZsYWdzIHw9IDB4MDQ7XG5cdFx0XHRcdFx0Y29ubmVjdEZsYWdzIHw9ICh0aGlzLndpbGxNZXNzYWdlLnFvczw8Myk7XG5cdFx0XHRcdFx0aWYgKHRoaXMud2lsbE1lc3NhZ2UucmV0YWluZWQpIHtcblx0XHRcdFx0XHRcdGNvbm5lY3RGbGFncyB8PSAweDIwO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAodGhpcy51c2VyTmFtZSAhPT0gdW5kZWZpbmVkKVxuXHRcdFx0XHRcdGNvbm5lY3RGbGFncyB8PSAweDgwO1xuXHRcdFx0XHRpZiAodGhpcy5wYXNzd29yZCAhPT0gdW5kZWZpbmVkKVxuXHRcdFx0XHRcdGNvbm5lY3RGbGFncyB8PSAweDQwO1xuXHRcdFx0XHRieXRlU3RyZWFtW3BvcysrXSA9IGNvbm5lY3RGbGFncztcblx0XHRcdFx0cG9zID0gd3JpdGVVaW50MTYgKHRoaXMua2VlcEFsaXZlSW50ZXJ2YWwsIGJ5dGVTdHJlYW0sIHBvcyk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE91dHB1dCB0aGUgbWVzc2FnZUlkZW50aWZpZXIgLSBpZiB0aGVyZSBpcyBvbmVcblx0XHRcdGlmICh0aGlzLm1lc3NhZ2VJZGVudGlmaWVyICE9PSB1bmRlZmluZWQpXG5cdFx0XHRcdHBvcyA9IHdyaXRlVWludDE2ICh0aGlzLm1lc3NhZ2VJZGVudGlmaWVyLCBieXRlU3RyZWFtLCBwb3MpO1xuXG5cdFx0XHRzd2l0Y2godGhpcy50eXBlKSB7XG5cdFx0XHRjYXNlIE1FU1NBR0VfVFlQRS5DT05ORUNUOlxuXHRcdFx0XHRwb3MgPSB3cml0ZVN0cmluZyh0aGlzLmNsaWVudElkLCBVVEY4TGVuZ3RoKHRoaXMuY2xpZW50SWQpLCBieXRlU3RyZWFtLCBwb3MpO1xuXHRcdFx0XHRpZiAodGhpcy53aWxsTWVzc2FnZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0cG9zID0gd3JpdGVTdHJpbmcodGhpcy53aWxsTWVzc2FnZS5kZXN0aW5hdGlvbk5hbWUsIFVURjhMZW5ndGgodGhpcy53aWxsTWVzc2FnZS5kZXN0aW5hdGlvbk5hbWUpLCBieXRlU3RyZWFtLCBwb3MpO1xuXHRcdFx0XHRcdHBvcyA9IHdyaXRlVWludDE2KHdpbGxNZXNzYWdlUGF5bG9hZEJ5dGVzLmJ5dGVMZW5ndGgsIGJ5dGVTdHJlYW0sIHBvcyk7XG5cdFx0XHRcdFx0Ynl0ZVN0cmVhbS5zZXQod2lsbE1lc3NhZ2VQYXlsb2FkQnl0ZXMsIHBvcyk7XG5cdFx0XHRcdFx0cG9zICs9IHdpbGxNZXNzYWdlUGF5bG9hZEJ5dGVzLmJ5dGVMZW5ndGg7XG5cblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAodGhpcy51c2VyTmFtZSAhPT0gdW5kZWZpbmVkKVxuXHRcdFx0XHRcdHBvcyA9IHdyaXRlU3RyaW5nKHRoaXMudXNlck5hbWUsIFVURjhMZW5ndGgodGhpcy51c2VyTmFtZSksIGJ5dGVTdHJlYW0sIHBvcyk7XG5cdFx0XHRcdGlmICh0aGlzLnBhc3N3b3JkICE9PSB1bmRlZmluZWQpXG5cdFx0XHRcdFx0cG9zID0gd3JpdGVTdHJpbmcodGhpcy5wYXNzd29yZCwgVVRGOExlbmd0aCh0aGlzLnBhc3N3b3JkKSwgYnl0ZVN0cmVhbSwgcG9zKTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgTUVTU0FHRV9UWVBFLlBVQkxJU0g6XG5cdFx0XHRcdC8vIFBVQkxJU0ggaGFzIGEgdGV4dCBvciBiaW5hcnkgcGF5bG9hZCwgaWYgdGV4dCBkbyBub3QgYWRkIGEgMiBieXRlIGxlbmd0aCBmaWVsZCwganVzdCB0aGUgVVRGIGNoYXJhY3RlcnMuXG5cdFx0XHRcdGJ5dGVTdHJlYW0uc2V0KHBheWxvYWRCeXRlcywgcG9zKTtcblxuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHQvLyAgICBcdCAgICBjYXNlIE1FU1NBR0VfVFlQRS5QVUJSRUM6XG5cdFx0XHRcdC8vICAgIFx0ICAgIGNhc2UgTUVTU0FHRV9UWVBFLlBVQlJFTDpcblx0XHRcdFx0Ly8gICAgXHQgICAgY2FzZSBNRVNTQUdFX1RZUEUuUFVCQ09NUDpcblx0XHRcdFx0Ly8gICAgXHQgICAgXHRicmVhaztcblxuXHRcdFx0Y2FzZSBNRVNTQUdFX1RZUEUuU1VCU0NSSUJFOlxuXHRcdFx0XHQvLyBTVUJTQ1JJQkUgaGFzIGEgbGlzdCBvZiB0b3BpYyBzdHJpbmdzIGFuZCByZXF1ZXN0IFFvU1xuXHRcdFx0XHRmb3IgKHZhciBpPTA7IGk8dGhpcy50b3BpY3MubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRwb3MgPSB3cml0ZVN0cmluZyh0aGlzLnRvcGljc1tpXSwgdG9waWNTdHJMZW5ndGhbaV0sIGJ5dGVTdHJlYW0sIHBvcyk7XG5cdFx0XHRcdFx0Ynl0ZVN0cmVhbVtwb3MrK10gPSB0aGlzLnJlcXVlc3RlZFFvc1tpXTtcblx0XHRcdFx0fVxuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSBNRVNTQUdFX1RZUEUuVU5TVUJTQ1JJQkU6XG5cdFx0XHRcdC8vIFVOU1VCU0NSSUJFIGhhcyBhIGxpc3Qgb2YgdG9waWMgc3RyaW5nc1xuXHRcdFx0XHRmb3IgKHZhciBpPTA7IGk8dGhpcy50b3BpY3MubGVuZ3RoOyBpKyspXG5cdFx0XHRcdFx0cG9zID0gd3JpdGVTdHJpbmcodGhpcy50b3BpY3NbaV0sIHRvcGljU3RyTGVuZ3RoW2ldLCBieXRlU3RyZWFtLCBwb3MpO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0Ly8gRG8gbm90aGluZy5cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGJ1ZmZlcjtcblx0XHR9O1xuXG5cdFx0ZnVuY3Rpb24gZGVjb2RlTWVzc2FnZShpbnB1dCxwb3MpIHtcblx0XHRcdHZhciBzdGFydGluZ1BvcyA9IHBvcztcblx0XHRcdHZhciBmaXJzdCA9IGlucHV0W3Bvc107XG5cdFx0XHR2YXIgdHlwZSA9IGZpcnN0ID4+IDQ7XG5cdFx0XHR2YXIgbWVzc2FnZUluZm8gPSBmaXJzdCAmPSAweDBmO1xuXHRcdFx0cG9zICs9IDE7XG5cblxuXHRcdFx0Ly8gRGVjb2RlIHRoZSByZW1haW5pbmcgbGVuZ3RoIChNQkkgZm9ybWF0KVxuXG5cdFx0XHR2YXIgZGlnaXQ7XG5cdFx0XHR2YXIgcmVtTGVuZ3RoID0gMDtcblx0XHRcdHZhciBtdWx0aXBsaWVyID0gMTtcblx0XHRcdGRvIHtcblx0XHRcdFx0aWYgKHBvcyA9PSBpbnB1dC5sZW5ndGgpIHtcblx0XHRcdFx0XHRyZXR1cm4gW251bGwsc3RhcnRpbmdQb3NdO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGRpZ2l0ID0gaW5wdXRbcG9zKytdO1xuXHRcdFx0XHRyZW1MZW5ndGggKz0gKChkaWdpdCAmIDB4N0YpICogbXVsdGlwbGllcik7XG5cdFx0XHRcdG11bHRpcGxpZXIgKj0gMTI4O1xuXHRcdFx0fSB3aGlsZSAoKGRpZ2l0ICYgMHg4MCkgIT09IDApO1xuXG5cdFx0XHR2YXIgZW5kUG9zID0gcG9zK3JlbUxlbmd0aDtcblx0XHRcdGlmIChlbmRQb3MgPiBpbnB1dC5sZW5ndGgpIHtcblx0XHRcdFx0cmV0dXJuIFtudWxsLHN0YXJ0aW5nUG9zXTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIHdpcmVNZXNzYWdlID0gbmV3IFdpcmVNZXNzYWdlKHR5cGUpO1xuXHRcdFx0c3dpdGNoKHR5cGUpIHtcblx0XHRcdGNhc2UgTUVTU0FHRV9UWVBFLkNPTk5BQ0s6XG5cdFx0XHRcdHZhciBjb25uZWN0QWNrbm93bGVkZ2VGbGFncyA9IGlucHV0W3BvcysrXTtcblx0XHRcdFx0aWYgKGNvbm5lY3RBY2tub3dsZWRnZUZsYWdzICYgMHgwMSlcblx0XHRcdFx0XHR3aXJlTWVzc2FnZS5zZXNzaW9uUHJlc2VudCA9IHRydWU7XG5cdFx0XHRcdHdpcmVNZXNzYWdlLnJldHVybkNvZGUgPSBpbnB1dFtwb3MrK107XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIE1FU1NBR0VfVFlQRS5QVUJMSVNIOlxuXHRcdFx0XHR2YXIgcW9zID0gKG1lc3NhZ2VJbmZvID4+IDEpICYgMHgwMztcblxuXHRcdFx0XHR2YXIgbGVuID0gcmVhZFVpbnQxNihpbnB1dCwgcG9zKTtcblx0XHRcdFx0cG9zICs9IDI7XG5cdFx0XHRcdHZhciB0b3BpY05hbWUgPSBwYXJzZVVURjgoaW5wdXQsIHBvcywgbGVuKTtcblx0XHRcdFx0cG9zICs9IGxlbjtcblx0XHRcdFx0Ly8gSWYgUW9TIDEgb3IgMiB0aGVyZSB3aWxsIGJlIGEgbWVzc2FnZUlkZW50aWZpZXJcblx0XHRcdFx0aWYgKHFvcyA+IDApIHtcblx0XHRcdFx0XHR3aXJlTWVzc2FnZS5tZXNzYWdlSWRlbnRpZmllciA9IHJlYWRVaW50MTYoaW5wdXQsIHBvcyk7XG5cdFx0XHRcdFx0cG9zICs9IDI7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR2YXIgbWVzc2FnZSA9IG5ldyBNZXNzYWdlKGlucHV0LnN1YmFycmF5KHBvcywgZW5kUG9zKSk7XG5cdFx0XHRcdGlmICgobWVzc2FnZUluZm8gJiAweDAxKSA9PSAweDAxKVxuXHRcdFx0XHRcdG1lc3NhZ2UucmV0YWluZWQgPSB0cnVlO1xuXHRcdFx0XHRpZiAoKG1lc3NhZ2VJbmZvICYgMHgwOCkgPT0gMHgwOClcblx0XHRcdFx0XHRtZXNzYWdlLmR1cGxpY2F0ZSA9ICB0cnVlO1xuXHRcdFx0XHRtZXNzYWdlLnFvcyA9IHFvcztcblx0XHRcdFx0bWVzc2FnZS5kZXN0aW5hdGlvbk5hbWUgPSB0b3BpY05hbWU7XG5cdFx0XHRcdHdpcmVNZXNzYWdlLnBheWxvYWRNZXNzYWdlID0gbWVzc2FnZTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgIE1FU1NBR0VfVFlQRS5QVUJBQ0s6XG5cdFx0XHRjYXNlICBNRVNTQUdFX1RZUEUuUFVCUkVDOlxuXHRcdFx0Y2FzZSAgTUVTU0FHRV9UWVBFLlBVQlJFTDpcblx0XHRcdGNhc2UgIE1FU1NBR0VfVFlQRS5QVUJDT01QOlxuXHRcdFx0Y2FzZSAgTUVTU0FHRV9UWVBFLlVOU1VCQUNLOlxuXHRcdFx0XHR3aXJlTWVzc2FnZS5tZXNzYWdlSWRlbnRpZmllciA9IHJlYWRVaW50MTYoaW5wdXQsIHBvcyk7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlICBNRVNTQUdFX1RZUEUuU1VCQUNLOlxuXHRcdFx0XHR3aXJlTWVzc2FnZS5tZXNzYWdlSWRlbnRpZmllciA9IHJlYWRVaW50MTYoaW5wdXQsIHBvcyk7XG5cdFx0XHRcdHBvcyArPSAyO1xuXHRcdFx0XHR3aXJlTWVzc2FnZS5yZXR1cm5Db2RlID0gaW5wdXQuc3ViYXJyYXkocG9zLCBlbmRQb3MpO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBbd2lyZU1lc3NhZ2UsZW5kUG9zXTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiB3cml0ZVVpbnQxNihpbnB1dCwgYnVmZmVyLCBvZmZzZXQpIHtcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSBpbnB1dCA+PiA4OyAgICAgIC8vTVNCXG5cdFx0XHRidWZmZXJbb2Zmc2V0KytdID0gaW5wdXQgJSAyNTY7ICAgICAvL0xTQlxuXHRcdFx0cmV0dXJuIG9mZnNldDtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiB3cml0ZVN0cmluZyhpbnB1dCwgdXRmOExlbmd0aCwgYnVmZmVyLCBvZmZzZXQpIHtcblx0XHRcdG9mZnNldCA9IHdyaXRlVWludDE2KHV0ZjhMZW5ndGgsIGJ1ZmZlciwgb2Zmc2V0KTtcblx0XHRcdHN0cmluZ1RvVVRGOChpbnB1dCwgYnVmZmVyLCBvZmZzZXQpO1xuXHRcdFx0cmV0dXJuIG9mZnNldCArIHV0ZjhMZW5ndGg7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gcmVhZFVpbnQxNihidWZmZXIsIG9mZnNldCkge1xuXHRcdFx0cmV0dXJuIDI1NipidWZmZXJbb2Zmc2V0XSArIGJ1ZmZlcltvZmZzZXQrMV07XG5cdFx0fVxuXG5cdFx0LyoqXG5cdCAqIEVuY29kZXMgYW4gTVFUVCBNdWx0aS1CeXRlIEludGVnZXJcblx0ICogQHByaXZhdGVcblx0ICovXG5cdFx0ZnVuY3Rpb24gZW5jb2RlTUJJKG51bWJlcikge1xuXHRcdFx0dmFyIG91dHB1dCA9IG5ldyBBcnJheSgxKTtcblx0XHRcdHZhciBudW1CeXRlcyA9IDA7XG5cblx0XHRcdGRvIHtcblx0XHRcdFx0dmFyIGRpZ2l0ID0gbnVtYmVyICUgMTI4O1xuXHRcdFx0XHRudW1iZXIgPSBudW1iZXIgPj4gNztcblx0XHRcdFx0aWYgKG51bWJlciA+IDApIHtcblx0XHRcdFx0XHRkaWdpdCB8PSAweDgwO1xuXHRcdFx0XHR9XG5cdFx0XHRcdG91dHB1dFtudW1CeXRlcysrXSA9IGRpZ2l0O1xuXHRcdFx0fSB3aGlsZSAoIChudW1iZXIgPiAwKSAmJiAobnVtQnl0ZXM8NCkgKTtcblxuXHRcdFx0cmV0dXJuIG91dHB1dDtcblx0XHR9XG5cblx0XHQvKipcblx0ICogVGFrZXMgYSBTdHJpbmcgYW5kIGNhbGN1bGF0ZXMgaXRzIGxlbmd0aCBpbiBieXRlcyB3aGVuIGVuY29kZWQgaW4gVVRGOC5cblx0ICogQHByaXZhdGVcblx0ICovXG5cdFx0ZnVuY3Rpb24gVVRGOExlbmd0aChpbnB1dCkge1xuXHRcdFx0dmFyIG91dHB1dCA9IDA7XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaTxpbnB1dC5sZW5ndGg7IGkrKylcblx0XHRcdHtcblx0XHRcdFx0dmFyIGNoYXJDb2RlID0gaW5wdXQuY2hhckNvZGVBdChpKTtcblx0XHRcdFx0aWYgKGNoYXJDb2RlID4gMHg3RkYpXG5cdFx0XHRcdHtcblx0XHRcdFx0XHQvLyBTdXJyb2dhdGUgcGFpciBtZWFucyBpdHMgYSA0IGJ5dGUgY2hhcmFjdGVyXG5cdFx0XHRcdFx0aWYgKDB4RDgwMCA8PSBjaGFyQ29kZSAmJiBjaGFyQ29kZSA8PSAweERCRkYpXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0aSsrO1xuXHRcdFx0XHRcdFx0b3V0cHV0Kys7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdG91dHB1dCArPTM7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZSBpZiAoY2hhckNvZGUgPiAweDdGKVxuXHRcdFx0XHRcdG91dHB1dCArPTI7XG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRvdXRwdXQrKztcblx0XHRcdH1cblx0XHRcdHJldHVybiBvdXRwdXQ7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdCAqIFRha2VzIGEgU3RyaW5nIGFuZCB3cml0ZXMgaXQgaW50byBhbiBhcnJheSBhcyBVVEY4IGVuY29kZWQgYnl0ZXMuXG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRcdGZ1bmN0aW9uIHN0cmluZ1RvVVRGOChpbnB1dCwgb3V0cHV0LCBzdGFydCkge1xuXHRcdFx0dmFyIHBvcyA9IHN0YXJ0O1xuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGk8aW5wdXQubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0dmFyIGNoYXJDb2RlID0gaW5wdXQuY2hhckNvZGVBdChpKTtcblxuXHRcdFx0XHQvLyBDaGVjayBmb3IgYSBzdXJyb2dhdGUgcGFpci5cblx0XHRcdFx0aWYgKDB4RDgwMCA8PSBjaGFyQ29kZSAmJiBjaGFyQ29kZSA8PSAweERCRkYpIHtcblx0XHRcdFx0XHR2YXIgbG93Q2hhckNvZGUgPSBpbnB1dC5jaGFyQ29kZUF0KCsraSk7XG5cdFx0XHRcdFx0aWYgKGlzTmFOKGxvd0NoYXJDb2RlKSkge1xuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGZvcm1hdChFUlJPUi5NQUxGT1JNRURfVU5JQ09ERSwgW2NoYXJDb2RlLCBsb3dDaGFyQ29kZV0pKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Y2hhckNvZGUgPSAoKGNoYXJDb2RlIC0gMHhEODAwKTw8MTApICsgKGxvd0NoYXJDb2RlIC0gMHhEQzAwKSArIDB4MTAwMDA7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChjaGFyQ29kZSA8PSAweDdGKSB7XG5cdFx0XHRcdFx0b3V0cHV0W3BvcysrXSA9IGNoYXJDb2RlO1xuXHRcdFx0XHR9IGVsc2UgaWYgKGNoYXJDb2RlIDw9IDB4N0ZGKSB7XG5cdFx0XHRcdFx0b3V0cHV0W3BvcysrXSA9IGNoYXJDb2RlPj42ICAmIDB4MUYgfCAweEMwO1xuXHRcdFx0XHRcdG91dHB1dFtwb3MrK10gPSBjaGFyQ29kZSAgICAgJiAweDNGIHwgMHg4MDtcblx0XHRcdFx0fSBlbHNlIGlmIChjaGFyQ29kZSA8PSAweEZGRkYpIHtcblx0XHRcdFx0XHRvdXRwdXRbcG9zKytdID0gY2hhckNvZGU+PjEyICYgMHgwRiB8IDB4RTA7XG5cdFx0XHRcdFx0b3V0cHV0W3BvcysrXSA9IGNoYXJDb2RlPj42ICAmIDB4M0YgfCAweDgwO1xuXHRcdFx0XHRcdG91dHB1dFtwb3MrK10gPSBjaGFyQ29kZSAgICAgJiAweDNGIHwgMHg4MDtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRvdXRwdXRbcG9zKytdID0gY2hhckNvZGU+PjE4ICYgMHgwNyB8IDB4RjA7XG5cdFx0XHRcdFx0b3V0cHV0W3BvcysrXSA9IGNoYXJDb2RlPj4xMiAmIDB4M0YgfCAweDgwO1xuXHRcdFx0XHRcdG91dHB1dFtwb3MrK10gPSBjaGFyQ29kZT4+NiAgJiAweDNGIHwgMHg4MDtcblx0XHRcdFx0XHRvdXRwdXRbcG9zKytdID0gY2hhckNvZGUgICAgICYgMHgzRiB8IDB4ODA7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBvdXRwdXQ7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gcGFyc2VVVEY4KGlucHV0LCBvZmZzZXQsIGxlbmd0aCkge1xuXHRcdFx0dmFyIG91dHB1dCA9IFwiXCI7XG5cdFx0XHR2YXIgdXRmMTY7XG5cdFx0XHR2YXIgcG9zID0gb2Zmc2V0O1xuXG5cdFx0XHR3aGlsZSAocG9zIDwgb2Zmc2V0K2xlbmd0aClcblx0XHRcdHtcblx0XHRcdFx0dmFyIGJ5dGUxID0gaW5wdXRbcG9zKytdO1xuXHRcdFx0XHRpZiAoYnl0ZTEgPCAxMjgpXG5cdFx0XHRcdFx0dXRmMTYgPSBieXRlMTtcblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0dmFyIGJ5dGUyID0gaW5wdXRbcG9zKytdLTEyODtcblx0XHRcdFx0XHRpZiAoYnl0ZTIgPCAwKVxuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGZvcm1hdChFUlJPUi5NQUxGT1JNRURfVVRGLCBbYnl0ZTEudG9TdHJpbmcoMTYpLCBieXRlMi50b1N0cmluZygxNiksXCJcIl0pKTtcblx0XHRcdFx0XHRpZiAoYnl0ZTEgPCAweEUwKSAgICAgICAgICAgICAvLyAyIGJ5dGUgY2hhcmFjdGVyXG5cdFx0XHRcdFx0XHR1dGYxNiA9IDY0KihieXRlMS0weEMwKSArIGJ5dGUyO1xuXHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHR2YXIgYnl0ZTMgPSBpbnB1dFtwb3MrK10tMTI4O1xuXHRcdFx0XHRcdFx0aWYgKGJ5dGUzIDwgMClcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGZvcm1hdChFUlJPUi5NQUxGT1JNRURfVVRGLCBbYnl0ZTEudG9TdHJpbmcoMTYpLCBieXRlMi50b1N0cmluZygxNiksIGJ5dGUzLnRvU3RyaW5nKDE2KV0pKTtcblx0XHRcdFx0XHRcdGlmIChieXRlMSA8IDB4RjApICAgICAgICAvLyAzIGJ5dGUgY2hhcmFjdGVyXG5cdFx0XHRcdFx0XHRcdHV0ZjE2ID0gNDA5NiooYnl0ZTEtMHhFMCkgKyA2NCpieXRlMiArIGJ5dGUzO1xuXHRcdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHR2YXIgYnl0ZTQgPSBpbnB1dFtwb3MrK10tMTI4O1xuXHRcdFx0XHRcdFx0XHRpZiAoYnl0ZTQgPCAwKVxuXHRcdFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihmb3JtYXQoRVJST1IuTUFMRk9STUVEX1VURiwgW2J5dGUxLnRvU3RyaW5nKDE2KSwgYnl0ZTIudG9TdHJpbmcoMTYpLCBieXRlMy50b1N0cmluZygxNiksIGJ5dGU0LnRvU3RyaW5nKDE2KV0pKTtcblx0XHRcdFx0XHRcdFx0aWYgKGJ5dGUxIDwgMHhGOCkgICAgICAgIC8vIDQgYnl0ZSBjaGFyYWN0ZXJcblx0XHRcdFx0XHRcdFx0XHR1dGYxNiA9IDI2MjE0NCooYnl0ZTEtMHhGMCkgKyA0MDk2KmJ5dGUyICsgNjQqYnl0ZTMgKyBieXRlNDtcblx0XHRcdFx0XHRcdFx0ZWxzZSAgICAgICAgICAgICAgICAgICAgIC8vIGxvbmdlciBlbmNvZGluZ3MgYXJlIG5vdCBzdXBwb3J0ZWRcblx0XHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLk1BTEZPUk1FRF9VVEYsIFtieXRlMS50b1N0cmluZygxNiksIGJ5dGUyLnRvU3RyaW5nKDE2KSwgYnl0ZTMudG9TdHJpbmcoMTYpLCBieXRlNC50b1N0cmluZygxNildKSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKHV0ZjE2ID4gMHhGRkZGKSAgIC8vIDQgYnl0ZSBjaGFyYWN0ZXIgLSBleHByZXNzIGFzIGEgc3Vycm9nYXRlIHBhaXJcblx0XHRcdFx0e1xuXHRcdFx0XHRcdHV0ZjE2IC09IDB4MTAwMDA7XG5cdFx0XHRcdFx0b3V0cHV0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoMHhEODAwICsgKHV0ZjE2ID4+IDEwKSk7IC8vIGxlYWQgY2hhcmFjdGVyXG5cdFx0XHRcdFx0dXRmMTYgPSAweERDMDAgKyAodXRmMTYgJiAweDNGRik7ICAvLyB0cmFpbCBjaGFyYWN0ZXJcblx0XHRcdFx0fVxuXHRcdFx0XHRvdXRwdXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSh1dGYxNik7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gb3V0cHV0O1xuXHRcdH1cblxuXHRcdC8qKlxuXHQgKiBSZXBlYXQga2VlcGFsaXZlIHJlcXVlc3RzLCBtb25pdG9yIHJlc3BvbnNlcy5cblx0ICogQGlnbm9yZVxuXHQgKi9cblx0XHR2YXIgUGluZ2VyID0gZnVuY3Rpb24oY2xpZW50LCBrZWVwQWxpdmVJbnRlcnZhbCkge1xuXHRcdFx0dGhpcy5fY2xpZW50ID0gY2xpZW50O1xuXHRcdFx0dGhpcy5fa2VlcEFsaXZlSW50ZXJ2YWwgPSBrZWVwQWxpdmVJbnRlcnZhbCoxMDAwO1xuXHRcdFx0dGhpcy5pc1Jlc2V0ID0gZmFsc2U7XG5cblx0XHRcdHZhciBwaW5nUmVxID0gbmV3IFdpcmVNZXNzYWdlKE1FU1NBR0VfVFlQRS5QSU5HUkVRKS5lbmNvZGUoKTtcblxuXHRcdFx0dmFyIGRvVGltZW91dCA9IGZ1bmN0aW9uIChwaW5nZXIpIHtcblx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRyZXR1cm4gZG9QaW5nLmFwcGx5KHBpbmdlcik7XG5cdFx0XHRcdH07XG5cdFx0XHR9O1xuXG5cdFx0XHQvKiogQGlnbm9yZSAqL1xuXHRcdFx0dmFyIGRvUGluZyA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoIXRoaXMuaXNSZXNldCkge1xuXHRcdFx0XHRcdHRoaXMuX2NsaWVudC5fdHJhY2UoXCJQaW5nZXIuZG9QaW5nXCIsIFwiVGltZWQgb3V0XCIpO1xuXHRcdFx0XHRcdHRoaXMuX2NsaWVudC5fZGlzY29ubmVjdGVkKCBFUlJPUi5QSU5HX1RJTUVPVVQuY29kZSAsIGZvcm1hdChFUlJPUi5QSU5HX1RJTUVPVVQpKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0aGlzLmlzUmVzZXQgPSBmYWxzZTtcblx0XHRcdFx0XHR0aGlzLl9jbGllbnQuX3RyYWNlKFwiUGluZ2VyLmRvUGluZ1wiLCBcInNlbmQgUElOR1JFUVwiKTtcblx0XHRcdFx0XHR0aGlzLl9jbGllbnQuc29ja2V0LnNlbmQocGluZ1JlcSk7XG5cdFx0XHRcdFx0dGhpcy50aW1lb3V0ID0gc2V0VGltZW91dChkb1RpbWVvdXQodGhpcyksIHRoaXMuX2tlZXBBbGl2ZUludGVydmFsKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblxuXHRcdFx0dGhpcy5yZXNldCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR0aGlzLmlzUmVzZXQgPSB0cnVlO1xuXHRcdFx0XHRjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KTtcblx0XHRcdFx0aWYgKHRoaXMuX2tlZXBBbGl2ZUludGVydmFsID4gMClcblx0XHRcdFx0XHR0aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGRvVGltZW91dCh0aGlzKSwgdGhpcy5fa2VlcEFsaXZlSW50ZXJ2YWwpO1xuXHRcdFx0fTtcblxuXHRcdFx0dGhpcy5jYW5jZWwgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0Y2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCk7XG5cdFx0XHR9O1xuXHRcdH07XG5cblx0XHQvKipcblx0ICogTW9uaXRvciByZXF1ZXN0IGNvbXBsZXRpb24uXG5cdCAqIEBpZ25vcmVcblx0ICovXG5cdFx0dmFyIFRpbWVvdXQgPSBmdW5jdGlvbihjbGllbnQsIHRpbWVvdXRTZWNvbmRzLCBhY3Rpb24sIGFyZ3MpIHtcblx0XHRcdGlmICghdGltZW91dFNlY29uZHMpXG5cdFx0XHRcdHRpbWVvdXRTZWNvbmRzID0gMzA7XG5cblx0XHRcdHZhciBkb1RpbWVvdXQgPSBmdW5jdGlvbiAoYWN0aW9uLCBjbGllbnQsIGFyZ3MpIHtcblx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRyZXR1cm4gYWN0aW9uLmFwcGx5KGNsaWVudCwgYXJncyk7XG5cdFx0XHRcdH07XG5cdFx0XHR9O1xuXHRcdFx0dGhpcy50aW1lb3V0ID0gc2V0VGltZW91dChkb1RpbWVvdXQoYWN0aW9uLCBjbGllbnQsIGFyZ3MpLCB0aW1lb3V0U2Vjb25kcyAqIDEwMDApO1xuXG5cdFx0XHR0aGlzLmNhbmNlbCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KTtcblx0XHRcdH07XG5cdFx0fTtcblxuXHQvKipcblx0ICogSW50ZXJuYWwgaW1wbGVtZW50YXRpb24gb2YgdGhlIFdlYnNvY2tldHMgTVFUVCBWMy4xIGNsaWVudC5cblx0ICpcblx0ICogQG5hbWUgUGFoby5DbGllbnRJbXBsIEBjb25zdHJ1Y3RvclxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaG9zdCB0aGUgRE5TIG5hbWVvZiB0aGUgd2ViU29ja2V0IGhvc3QuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBwb3J0IHRoZSBwb3J0IG51bWJlciBmb3IgdGhhdCBob3N0LlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gY2xpZW50SWQgdGhlIE1RIGNsaWVudCBpZGVudGlmaWVyLlxuXHQgKi9cblx0XHR2YXIgQ2xpZW50SW1wbCA9IGZ1bmN0aW9uICh1cmksIGhvc3QsIHBvcnQsIHBhdGgsIGNsaWVudElkKSB7XG5cdFx0Ly8gQ2hlY2sgZGVwZW5kZW5jaWVzIGFyZSBzYXRpc2ZpZWQgaW4gdGhpcyBicm93c2VyLlxuXHRcdFx0aWYgKCEoXCJXZWJTb2NrZXRcIiBpbiBnbG9iYWwgJiYgZ2xvYmFsLldlYlNvY2tldCAhPT0gbnVsbCkpIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGZvcm1hdChFUlJPUi5VTlNVUFBPUlRFRCwgW1wiV2ViU29ja2V0XCJdKSk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIShcIkFycmF5QnVmZmVyXCIgaW4gZ2xvYmFsICYmIGdsb2JhbC5BcnJheUJ1ZmZlciAhPT0gbnVsbCkpIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGZvcm1hdChFUlJPUi5VTlNVUFBPUlRFRCwgW1wiQXJyYXlCdWZmZXJcIl0pKTtcblx0XHRcdH1cblx0XHRcdHRoaXMuX3RyYWNlKFwiUGFoby5DbGllbnRcIiwgdXJpLCBob3N0LCBwb3J0LCBwYXRoLCBjbGllbnRJZCk7XG5cblx0XHRcdHRoaXMuaG9zdCA9IGhvc3Q7XG5cdFx0XHR0aGlzLnBvcnQgPSBwb3J0O1xuXHRcdFx0dGhpcy5wYXRoID0gcGF0aDtcblx0XHRcdHRoaXMudXJpID0gdXJpO1xuXHRcdFx0dGhpcy5jbGllbnRJZCA9IGNsaWVudElkO1xuXHRcdFx0dGhpcy5fd3N1cmkgPSBudWxsO1xuXG5cdFx0XHQvLyBMb2NhbCBzdG9yYWdla2V5cyBhcmUgcXVhbGlmaWVkIHdpdGggdGhlIGZvbGxvd2luZyBzdHJpbmcuXG5cdFx0XHQvLyBUaGUgY29uZGl0aW9uYWwgaW5jbHVzaW9uIG9mIHBhdGggaW4gdGhlIGtleSBpcyBmb3IgYmFja3dhcmRcblx0XHRcdC8vIGNvbXBhdGliaWxpdHkgdG8gd2hlbiB0aGUgcGF0aCB3YXMgbm90IGNvbmZpZ3VyYWJsZSBhbmQgYXNzdW1lZCB0b1xuXHRcdFx0Ly8gYmUgL21xdHRcblx0XHRcdHRoaXMuX2xvY2FsS2V5PWhvc3QrXCI6XCIrcG9ydCsocGF0aCE9XCIvbXF0dFwiP1wiOlwiK3BhdGg6XCJcIikrXCI6XCIrY2xpZW50SWQrXCI6XCI7XG5cblx0XHRcdC8vIENyZWF0ZSBwcml2YXRlIGluc3RhbmNlLW9ubHkgbWVzc2FnZSBxdWV1ZVxuXHRcdFx0Ly8gSW50ZXJuYWwgcXVldWUgb2YgbWVzc2FnZXMgdG8gYmUgc2VudCwgaW4gc2VuZGluZyBvcmRlci5cblx0XHRcdHRoaXMuX21zZ19xdWV1ZSA9IFtdO1xuXHRcdFx0dGhpcy5fYnVmZmVyZWRfbXNnX3F1ZXVlID0gW107XG5cblx0XHRcdC8vIE1lc3NhZ2VzIHdlIGhhdmUgc2VudCBhbmQgYXJlIGV4cGVjdGluZyBhIHJlc3BvbnNlIGZvciwgaW5kZXhlZCBieSB0aGVpciByZXNwZWN0aXZlIG1lc3NhZ2UgaWRzLlxuXHRcdFx0dGhpcy5fc2VudE1lc3NhZ2VzID0ge307XG5cblx0XHRcdC8vIE1lc3NhZ2VzIHdlIGhhdmUgcmVjZWl2ZWQgYW5kIGFja25vd2xlZ2VkIGFuZCBhcmUgZXhwZWN0aW5nIGEgY29uZmlybSBtZXNzYWdlIGZvclxuXHRcdFx0Ly8gaW5kZXhlZCBieSB0aGVpciByZXNwZWN0aXZlIG1lc3NhZ2UgaWRzLlxuXHRcdFx0dGhpcy5fcmVjZWl2ZWRNZXNzYWdlcyA9IHt9O1xuXG5cdFx0XHQvLyBJbnRlcm5hbCBsaXN0IG9mIGNhbGxiYWNrcyB0byBiZSBleGVjdXRlZCB3aGVuIG1lc3NhZ2VzXG5cdFx0XHQvLyBoYXZlIGJlZW4gc3VjY2Vzc2Z1bGx5IHNlbnQgb3ZlciB3ZWIgc29ja2V0LCBlLmcuIGRpc2Nvbm5lY3Rcblx0XHRcdC8vIHdoZW4gaXQgZG9lc24ndCBoYXZlIHRvIHdhaXQgZm9yIEFDSywganVzdCBtZXNzYWdlIGlzIGRpc3BhdGNoZWQuXG5cdFx0XHR0aGlzLl9ub3RpZnlfbXNnX3NlbnQgPSB7fTtcblxuXHRcdFx0Ly8gVW5pcXVlIGlkZW50aWZpZXIgZm9yIFNFTkQgbWVzc2FnZXMsIGluY3JlbWVudGluZ1xuXHRcdFx0Ly8gY291bnRlciBhcyBtZXNzYWdlcyBhcmUgc2VudC5cblx0XHRcdHRoaXMuX21lc3NhZ2VfaWRlbnRpZmllciA9IDE7XG5cblx0XHRcdC8vIFVzZWQgdG8gZGV0ZXJtaW5lIHRoZSB0cmFuc21pc3Npb24gc2VxdWVuY2Ugb2Ygc3RvcmVkIHNlbnQgbWVzc2FnZXMuXG5cdFx0XHR0aGlzLl9zZXF1ZW5jZSA9IDA7XG5cblxuXHRcdFx0Ly8gTG9hZCB0aGUgbG9jYWwgc3RhdGUsIGlmIGFueSwgZnJvbSB0aGUgc2F2ZWQgdmVyc2lvbiwgb25seSByZXN0b3JlIHN0YXRlIHJlbGV2YW50IHRvIHRoaXMgY2xpZW50LlxuXHRcdFx0Zm9yICh2YXIga2V5IGluIGxvY2FsU3RvcmFnZSlcblx0XHRcdFx0aWYgKCAgIGtleS5pbmRleE9mKFwiU2VudDpcIit0aGlzLl9sb2NhbEtleSkgPT09IDAgfHwga2V5LmluZGV4T2YoXCJSZWNlaXZlZDpcIit0aGlzLl9sb2NhbEtleSkgPT09IDApXG5cdFx0XHRcdFx0dGhpcy5yZXN0b3JlKGtleSk7XG5cdFx0fTtcblxuXHRcdC8vIE1lc3NhZ2luZyBDbGllbnQgcHVibGljIGluc3RhbmNlIG1lbWJlcnMuXG5cdFx0Q2xpZW50SW1wbC5wcm90b3R5cGUuaG9zdCA9IG51bGw7XG5cdFx0Q2xpZW50SW1wbC5wcm90b3R5cGUucG9ydCA9IG51bGw7XG5cdFx0Q2xpZW50SW1wbC5wcm90b3R5cGUucGF0aCA9IG51bGw7XG5cdFx0Q2xpZW50SW1wbC5wcm90b3R5cGUudXJpID0gbnVsbDtcblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5jbGllbnRJZCA9IG51bGw7XG5cblx0XHQvLyBNZXNzYWdpbmcgQ2xpZW50IHByaXZhdGUgaW5zdGFuY2UgbWVtYmVycy5cblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5zb2NrZXQgPSBudWxsO1xuXHRcdC8qIHRydWUgb25jZSB3ZSBoYXZlIHJlY2VpdmVkIGFuIGFja25vd2xlZGdlbWVudCB0byBhIENPTk5FQ1QgcGFja2V0LiAqL1xuXHRcdENsaWVudEltcGwucHJvdG90eXBlLmNvbm5lY3RlZCA9IGZhbHNlO1xuXHRcdC8qIFRoZSBsYXJnZXN0IG1lc3NhZ2UgaWRlbnRpZmllciBhbGxvd2VkLCBtYXkgbm90IGJlIGxhcmdlciB0aGFuIDIqKjE2IGJ1dFxuXHRcdCAqIGlmIHNldCBzbWFsbGVyIHJlZHVjZXMgdGhlIG1heGltdW0gbnVtYmVyIG9mIG91dGJvdW5kIG1lc3NhZ2VzIGFsbG93ZWQuXG5cdFx0ICovXG5cdFx0Q2xpZW50SW1wbC5wcm90b3R5cGUubWF4TWVzc2FnZUlkZW50aWZpZXIgPSA2NTUzNjtcblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5jb25uZWN0T3B0aW9ucyA9IG51bGw7XG5cdFx0Q2xpZW50SW1wbC5wcm90b3R5cGUuaG9zdEluZGV4ID0gbnVsbDtcblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5vbkNvbm5lY3RlZCA9IG51bGw7XG5cdFx0Q2xpZW50SW1wbC5wcm90b3R5cGUub25Db25uZWN0aW9uTG9zdCA9IG51bGw7XG5cdFx0Q2xpZW50SW1wbC5wcm90b3R5cGUub25NZXNzYWdlRGVsaXZlcmVkID0gbnVsbDtcblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5vbk1lc3NhZ2VBcnJpdmVkID0gbnVsbDtcblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS50cmFjZUZ1bmN0aW9uID0gbnVsbDtcblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5fbXNnX3F1ZXVlID0gbnVsbDtcblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5fYnVmZmVyZWRfbXNnX3F1ZXVlID0gbnVsbDtcblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5fY29ubmVjdFRpbWVvdXQgPSBudWxsO1xuXHRcdC8qIFRoZSBzZW5kUGluZ2VyIG1vbml0b3JzIGhvdyBsb25nIHdlIGFsbG93IGJlZm9yZSB3ZSBzZW5kIGRhdGEgdG8gcHJvdmUgdG8gdGhlIHNlcnZlciB0aGF0IHdlIGFyZSBhbGl2ZS4gKi9cblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5zZW5kUGluZ2VyID0gbnVsbDtcblx0XHQvKiBUaGUgcmVjZWl2ZVBpbmdlciBtb25pdG9ycyBob3cgbG9uZyB3ZSBhbGxvdyBiZWZvcmUgd2UgcmVxdWlyZSBldmlkZW5jZSB0aGF0IHRoZSBzZXJ2ZXIgaXMgYWxpdmUuICovXG5cdFx0Q2xpZW50SW1wbC5wcm90b3R5cGUucmVjZWl2ZVBpbmdlciA9IG51bGw7XG5cdFx0Q2xpZW50SW1wbC5wcm90b3R5cGUuX3JlY29ubmVjdEludGVydmFsID0gMTsgLy8gUmVjb25uZWN0IERlbGF5LCBzdGFydHMgYXQgMSBzZWNvbmRcblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5fcmVjb25uZWN0aW5nID0gZmFsc2U7XG5cdFx0Q2xpZW50SW1wbC5wcm90b3R5cGUuX3JlY29ubmVjdFRpbWVvdXQgPSBudWxsO1xuXHRcdENsaWVudEltcGwucHJvdG90eXBlLmRpc2Nvbm5lY3RlZFB1Ymxpc2hpbmcgPSBmYWxzZTtcblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5kaXNjb25uZWN0ZWRCdWZmZXJTaXplID0gNTAwMDtcblxuXHRcdENsaWVudEltcGwucHJvdG90eXBlLnJlY2VpdmVCdWZmZXIgPSBudWxsO1xuXG5cdFx0Q2xpZW50SW1wbC5wcm90b3R5cGUuX3RyYWNlQnVmZmVyID0gbnVsbDtcblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5fTUFYX1RSQUNFX0VOVFJJRVMgPSAxMDA7XG5cblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24gKGNvbm5lY3RPcHRpb25zKSB7XG5cdFx0XHR2YXIgY29ubmVjdE9wdGlvbnNNYXNrZWQgPSB0aGlzLl90cmFjZU1hc2soY29ubmVjdE9wdGlvbnMsIFwicGFzc3dvcmRcIik7XG5cdFx0XHR0aGlzLl90cmFjZShcIkNsaWVudC5jb25uZWN0XCIsIGNvbm5lY3RPcHRpb25zTWFza2VkLCB0aGlzLnNvY2tldCwgdGhpcy5jb25uZWN0ZWQpO1xuXG5cdFx0XHRpZiAodGhpcy5jb25uZWN0ZWQpXG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihmb3JtYXQoRVJST1IuSU5WQUxJRF9TVEFURSwgW1wiYWxyZWFkeSBjb25uZWN0ZWRcIl0pKTtcblx0XHRcdGlmICh0aGlzLnNvY2tldClcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGZvcm1hdChFUlJPUi5JTlZBTElEX1NUQVRFLCBbXCJhbHJlYWR5IGNvbm5lY3RlZFwiXSkpO1xuXG5cdFx0XHRpZiAodGhpcy5fcmVjb25uZWN0aW5nKSB7XG5cdFx0XHQvLyBjb25uZWN0KCkgZnVuY3Rpb24gaXMgY2FsbGVkIHdoaWxlIHJlY29ubmVjdCBpcyBpbiBwcm9ncmVzcy5cblx0XHRcdC8vIFRlcm1pbmF0ZSB0aGUgYXV0byByZWNvbm5lY3QgcHJvY2VzcyB0byB1c2UgbmV3IGNvbm5lY3Qgb3B0aW9ucy5cblx0XHRcdFx0dGhpcy5fcmVjb25uZWN0VGltZW91dC5jYW5jZWwoKTtcblx0XHRcdFx0dGhpcy5fcmVjb25uZWN0VGltZW91dCA9IG51bGw7XG5cdFx0XHRcdHRoaXMuX3JlY29ubmVjdGluZyA9IGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLmNvbm5lY3RPcHRpb25zID0gY29ubmVjdE9wdGlvbnM7XG5cdFx0XHR0aGlzLl9yZWNvbm5lY3RJbnRlcnZhbCA9IDE7XG5cdFx0XHR0aGlzLl9yZWNvbm5lY3RpbmcgPSBmYWxzZTtcblx0XHRcdGlmIChjb25uZWN0T3B0aW9ucy51cmlzKSB7XG5cdFx0XHRcdHRoaXMuaG9zdEluZGV4ID0gMDtcblx0XHRcdFx0dGhpcy5fZG9Db25uZWN0KGNvbm5lY3RPcHRpb25zLnVyaXNbMF0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5fZG9Db25uZWN0KHRoaXMudXJpKTtcblx0XHRcdH1cblxuXHRcdH07XG5cblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoZmlsdGVyLCBzdWJzY3JpYmVPcHRpb25zKSB7XG5cdFx0XHR0aGlzLl90cmFjZShcIkNsaWVudC5zdWJzY3JpYmVcIiwgZmlsdGVyLCBzdWJzY3JpYmVPcHRpb25zKTtcblxuXHRcdFx0aWYgKCF0aGlzLmNvbm5lY3RlZClcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGZvcm1hdChFUlJPUi5JTlZBTElEX1NUQVRFLCBbXCJub3QgY29ubmVjdGVkXCJdKSk7XG5cbiAgICAgICAgICAgIHZhciB3aXJlTWVzc2FnZSA9IG5ldyBXaXJlTWVzc2FnZShNRVNTQUdFX1RZUEUuU1VCU0NSSUJFKTtcbiAgICAgICAgICAgIHdpcmVNZXNzYWdlLnRvcGljcyA9IGZpbHRlci5jb25zdHJ1Y3RvciA9PT0gQXJyYXkgPyBmaWx0ZXIgOiBbZmlsdGVyXTtcbiAgICAgICAgICAgIGlmIChzdWJzY3JpYmVPcHRpb25zLnFvcyA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIHN1YnNjcmliZU9wdGlvbnMucW9zID0gMDtcbiAgICAgICAgICAgIHdpcmVNZXNzYWdlLnJlcXVlc3RlZFFvcyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3aXJlTWVzc2FnZS50b3BpY3MubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICAgICAgd2lyZU1lc3NhZ2UucmVxdWVzdGVkUW9zW2ldID0gc3Vic2NyaWJlT3B0aW9ucy5xb3M7XG5cblx0XHRcdGlmIChzdWJzY3JpYmVPcHRpb25zLm9uU3VjY2Vzcykge1xuXHRcdFx0XHR3aXJlTWVzc2FnZS5vblN1Y2Nlc3MgPSBmdW5jdGlvbihncmFudGVkUW9zKSB7c3Vic2NyaWJlT3B0aW9ucy5vblN1Y2Nlc3Moe2ludm9jYXRpb25Db250ZXh0OnN1YnNjcmliZU9wdGlvbnMuaW52b2NhdGlvbkNvbnRleHQsZ3JhbnRlZFFvczpncmFudGVkUW9zfSk7fTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHN1YnNjcmliZU9wdGlvbnMub25GYWlsdXJlKSB7XG5cdFx0XHRcdHdpcmVNZXNzYWdlLm9uRmFpbHVyZSA9IGZ1bmN0aW9uKGVycm9yQ29kZSkge3N1YnNjcmliZU9wdGlvbnMub25GYWlsdXJlKHtpbnZvY2F0aW9uQ29udGV4dDpzdWJzY3JpYmVPcHRpb25zLmludm9jYXRpb25Db250ZXh0LGVycm9yQ29kZTplcnJvckNvZGUsIGVycm9yTWVzc2FnZTpmb3JtYXQoZXJyb3JDb2RlKX0pO307XG5cdFx0XHR9XG5cblx0XHRcdGlmIChzdWJzY3JpYmVPcHRpb25zLnRpbWVvdXQpIHtcblx0XHRcdFx0d2lyZU1lc3NhZ2UudGltZU91dCA9IG5ldyBUaW1lb3V0KHRoaXMsIHN1YnNjcmliZU9wdGlvbnMudGltZW91dCwgc3Vic2NyaWJlT3B0aW9ucy5vbkZhaWx1cmUsXG5cdFx0XHRcdFx0W3tpbnZvY2F0aW9uQ29udGV4dDpzdWJzY3JpYmVPcHRpb25zLmludm9jYXRpb25Db250ZXh0LFxuXHRcdFx0XHRcdFx0ZXJyb3JDb2RlOkVSUk9SLlNVQlNDUklCRV9USU1FT1VULmNvZGUsXG5cdFx0XHRcdFx0XHRlcnJvck1lc3NhZ2U6Zm9ybWF0KEVSUk9SLlNVQlNDUklCRV9USU1FT1VUKX1dKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQWxsIHN1YnNjcmlwdGlvbnMgcmV0dXJuIGEgU1VCQUNLLlxuXHRcdFx0dGhpcy5fcmVxdWlyZXNfYWNrKHdpcmVNZXNzYWdlKTtcblx0XHRcdHRoaXMuX3NjaGVkdWxlX21lc3NhZ2Uod2lyZU1lc3NhZ2UpO1xuXHRcdH07XG5cblx0XHQvKiogQGlnbm9yZSAqL1xuXHRcdENsaWVudEltcGwucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24oZmlsdGVyLCB1bnN1YnNjcmliZU9wdGlvbnMpIHtcblx0XHRcdHRoaXMuX3RyYWNlKFwiQ2xpZW50LnVuc3Vic2NyaWJlXCIsIGZpbHRlciwgdW5zdWJzY3JpYmVPcHRpb25zKTtcblxuXHRcdFx0aWYgKCF0aGlzLmNvbm5lY3RlZClcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGZvcm1hdChFUlJPUi5JTlZBTElEX1NUQVRFLCBbXCJub3QgY29ubmVjdGVkXCJdKSk7XG5cbiAgICAgICAgICAgIHZhciB3aXJlTWVzc2FnZSA9IG5ldyBXaXJlTWVzc2FnZShNRVNTQUdFX1RZUEUuVU5TVUJTQ1JJQkUpO1xuICAgICAgICAgICAgd2lyZU1lc3NhZ2UudG9waWNzID0gZmlsdGVyLmNvbnN0cnVjdG9yID09PSBBcnJheSA/IGZpbHRlciA6IFtmaWx0ZXJdO1xuXG5cdFx0XHRpZiAodW5zdWJzY3JpYmVPcHRpb25zLm9uU3VjY2Vzcykge1xuXHRcdFx0XHR3aXJlTWVzc2FnZS5jYWxsYmFjayA9IGZ1bmN0aW9uKCkge3Vuc3Vic2NyaWJlT3B0aW9ucy5vblN1Y2Nlc3Moe2ludm9jYXRpb25Db250ZXh0OnVuc3Vic2NyaWJlT3B0aW9ucy5pbnZvY2F0aW9uQ29udGV4dH0pO307XG5cdFx0XHR9XG5cdFx0XHRpZiAodW5zdWJzY3JpYmVPcHRpb25zLnRpbWVvdXQpIHtcblx0XHRcdFx0d2lyZU1lc3NhZ2UudGltZU91dCA9IG5ldyBUaW1lb3V0KHRoaXMsIHVuc3Vic2NyaWJlT3B0aW9ucy50aW1lb3V0LCB1bnN1YnNjcmliZU9wdGlvbnMub25GYWlsdXJlLFxuXHRcdFx0XHRcdFt7aW52b2NhdGlvbkNvbnRleHQ6dW5zdWJzY3JpYmVPcHRpb25zLmludm9jYXRpb25Db250ZXh0LFxuXHRcdFx0XHRcdFx0ZXJyb3JDb2RlOkVSUk9SLlVOU1VCU0NSSUJFX1RJTUVPVVQuY29kZSxcblx0XHRcdFx0XHRcdGVycm9yTWVzc2FnZTpmb3JtYXQoRVJST1IuVU5TVUJTQ1JJQkVfVElNRU9VVCl9XSk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFsbCB1bnN1YnNjcmliZXMgcmV0dXJuIGEgU1VCQUNLLlxuXHRcdFx0dGhpcy5fcmVxdWlyZXNfYWNrKHdpcmVNZXNzYWdlKTtcblx0XHRcdHRoaXMuX3NjaGVkdWxlX21lc3NhZ2Uod2lyZU1lc3NhZ2UpO1xuXHRcdH07XG5cblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5zZW5kID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcblx0XHRcdHRoaXMuX3RyYWNlKFwiQ2xpZW50LnNlbmRcIiwgbWVzc2FnZSk7XG5cblx0XHRcdHZhciB3aXJlTWVzc2FnZSA9IG5ldyBXaXJlTWVzc2FnZShNRVNTQUdFX1RZUEUuUFVCTElTSCk7XG5cdFx0XHR3aXJlTWVzc2FnZS5wYXlsb2FkTWVzc2FnZSA9IG1lc3NhZ2U7XG5cblx0XHRcdGlmICh0aGlzLmNvbm5lY3RlZCkge1xuXHRcdFx0Ly8gTWFyayBxb3MgMSAmIDIgbWVzc2FnZSBhcyBcIkFDSyByZXF1aXJlZFwiXG5cdFx0XHQvLyBGb3IgcW9zIDAgbWVzc2FnZSwgaW52b2tlIG9uTWVzc2FnZURlbGl2ZXJlZCBjYWxsYmFjayBpZiB0aGVyZSBpcyBvbmUuXG5cdFx0XHQvLyBUaGVuIHNjaGVkdWxlIHRoZSBtZXNzYWdlLlxuXHRcdFx0XHRpZiAobWVzc2FnZS5xb3MgPiAwKSB7XG5cdFx0XHRcdFx0dGhpcy5fcmVxdWlyZXNfYWNrKHdpcmVNZXNzYWdlKTtcblx0XHRcdFx0fSBlbHNlIGlmICh0aGlzLm9uTWVzc2FnZURlbGl2ZXJlZCkge1xuXHRcdFx0XHRcdHRoaXMuX25vdGlmeV9tc2dfc2VudFt3aXJlTWVzc2FnZV0gPSB0aGlzLm9uTWVzc2FnZURlbGl2ZXJlZCh3aXJlTWVzc2FnZS5wYXlsb2FkTWVzc2FnZSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0dGhpcy5fc2NoZWR1bGVfbWVzc2FnZSh3aXJlTWVzc2FnZSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gQ3VycmVudGx5IGRpc2Nvbm5lY3RlZCwgd2lsbCBub3Qgc2NoZWR1bGUgdGhpcyBtZXNzYWdlXG5cdFx0XHQvLyBDaGVjayBpZiByZWNvbm5lY3RpbmcgaXMgaW4gcHJvZ3Jlc3MgYW5kIGRpc2Nvbm5lY3RlZCBwdWJsaXNoIGlzIGVuYWJsZWQuXG5cdFx0XHRcdGlmICh0aGlzLl9yZWNvbm5lY3RpbmcgJiYgdGhpcy5kaXNjb25uZWN0ZWRQdWJsaXNoaW5nKSB7XG5cdFx0XHRcdC8vIENoZWNrIHRoZSBsaW1pdCB3aGljaCBpbmNsdWRlIHRoZSBcInJlcXVpcmVkIEFDS1wiIG1lc3NhZ2VzXG5cdFx0XHRcdFx0dmFyIG1lc3NhZ2VDb3VudCA9IE9iamVjdC5rZXlzKHRoaXMuX3NlbnRNZXNzYWdlcykubGVuZ3RoICsgdGhpcy5fYnVmZmVyZWRfbXNnX3F1ZXVlLmxlbmd0aDtcblx0XHRcdFx0XHRpZiAobWVzc2FnZUNvdW50ID4gdGhpcy5kaXNjb25uZWN0ZWRCdWZmZXJTaXplKSB7XG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLkJVRkZFUl9GVUxMLCBbdGhpcy5kaXNjb25uZWN0ZWRCdWZmZXJTaXplXSkpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRpZiAobWVzc2FnZS5xb3MgPiAwKSB7XG5cdFx0XHRcdFx0XHQvLyBNYXJrIHRoaXMgbWVzc2FnZSBhcyBcIkFDSyByZXF1aXJlZFwiXG5cdFx0XHRcdFx0XHRcdHRoaXMuX3JlcXVpcmVzX2Fjayh3aXJlTWVzc2FnZSk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHR3aXJlTWVzc2FnZS5zZXF1ZW5jZSA9ICsrdGhpcy5fc2VxdWVuY2U7XG5cdFx0XHRcdFx0XHRcdC8vIEFkZCBtZXNzYWdlcyBpbiBmaWZvIG9yZGVyIHRvIGFycmF5LCBieSBhZGRpbmcgdG8gc3RhcnRcblx0XHRcdFx0XHRcdFx0dGhpcy5fYnVmZmVyZWRfbXNnX3F1ZXVlLnVuc2hpZnQod2lyZU1lc3NhZ2UpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLklOVkFMSURfU1RBVEUsIFtcIm5vdCBjb25uZWN0ZWRcIl0pKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5kaXNjb25uZWN0ID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0dGhpcy5fdHJhY2UoXCJDbGllbnQuZGlzY29ubmVjdFwiKTtcblxuXHRcdFx0aWYgKHRoaXMuX3JlY29ubmVjdGluZykge1xuXHRcdFx0Ly8gZGlzY29ubmVjdCgpIGZ1bmN0aW9uIGlzIGNhbGxlZCB3aGlsZSByZWNvbm5lY3QgaXMgaW4gcHJvZ3Jlc3MuXG5cdFx0XHQvLyBUZXJtaW5hdGUgdGhlIGF1dG8gcmVjb25uZWN0IHByb2Nlc3MuXG5cdFx0XHRcdHRoaXMuX3JlY29ubmVjdFRpbWVvdXQuY2FuY2VsKCk7XG5cdFx0XHRcdHRoaXMuX3JlY29ubmVjdFRpbWVvdXQgPSBudWxsO1xuXHRcdFx0XHR0aGlzLl9yZWNvbm5lY3RpbmcgPSBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCF0aGlzLnNvY2tldClcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGZvcm1hdChFUlJPUi5JTlZBTElEX1NUQVRFLCBbXCJub3QgY29ubmVjdGluZyBvciBjb25uZWN0ZWRcIl0pKTtcblxuXHRcdFx0dmFyIHdpcmVNZXNzYWdlID0gbmV3IFdpcmVNZXNzYWdlKE1FU1NBR0VfVFlQRS5ESVNDT05ORUNUKTtcblxuXHRcdFx0Ly8gUnVuIHRoZSBkaXNjb25uZWN0ZWQgY2FsbCBiYWNrIGFzIHNvb24gYXMgdGhlIG1lc3NhZ2UgaGFzIGJlZW4gc2VudCxcblx0XHRcdC8vIGluIGNhc2Ugb2YgYSBmYWlsdXJlIGxhdGVyIG9uIGluIHRoZSBkaXNjb25uZWN0IHByb2Nlc3NpbmcuXG5cdFx0XHQvLyBhcyBhIGNvbnNlcXVlbmNlLCB0aGUgX2Rpc2NvbmVjdGVkIGNhbGwgYmFjayBtYXkgYmUgcnVuIHNldmVyYWwgdGltZXMuXG5cdFx0XHR0aGlzLl9ub3RpZnlfbXNnX3NlbnRbd2lyZU1lc3NhZ2VdID0gc2NvcGUodGhpcy5fZGlzY29ubmVjdGVkLCB0aGlzKTtcblxuXHRcdFx0dGhpcy5fc2NoZWR1bGVfbWVzc2FnZSh3aXJlTWVzc2FnZSk7XG5cdFx0fTtcblxuXHRcdENsaWVudEltcGwucHJvdG90eXBlLmdldFRyYWNlTG9nID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0aWYgKCB0aGlzLl90cmFjZUJ1ZmZlciAhPT0gbnVsbCApIHtcblx0XHRcdFx0dGhpcy5fdHJhY2UoXCJDbGllbnQuZ2V0VHJhY2VMb2dcIiwgbmV3IERhdGUoKSk7XG5cdFx0XHRcdHRoaXMuX3RyYWNlKFwiQ2xpZW50LmdldFRyYWNlTG9nIGluIGZsaWdodCBtZXNzYWdlc1wiLCB0aGlzLl9zZW50TWVzc2FnZXMubGVuZ3RoKTtcblx0XHRcdFx0Zm9yICh2YXIga2V5IGluIHRoaXMuX3NlbnRNZXNzYWdlcylcblx0XHRcdFx0XHR0aGlzLl90cmFjZShcIl9zZW50TWVzc2FnZXMgXCIsa2V5LCB0aGlzLl9zZW50TWVzc2FnZXNba2V5XSk7XG5cdFx0XHRcdGZvciAodmFyIGtleSBpbiB0aGlzLl9yZWNlaXZlZE1lc3NhZ2VzKVxuXHRcdFx0XHRcdHRoaXMuX3RyYWNlKFwiX3JlY2VpdmVkTWVzc2FnZXMgXCIsa2V5LCB0aGlzLl9yZWNlaXZlZE1lc3NhZ2VzW2tleV0pO1xuXG5cdFx0XHRcdHJldHVybiB0aGlzLl90cmFjZUJ1ZmZlcjtcblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0Q2xpZW50SW1wbC5wcm90b3R5cGUuc3RhcnRUcmFjZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdGlmICggdGhpcy5fdHJhY2VCdWZmZXIgPT09IG51bGwgKSB7XG5cdFx0XHRcdHRoaXMuX3RyYWNlQnVmZmVyID0gW107XG5cdFx0XHR9XG5cdFx0XHR0aGlzLl90cmFjZShcIkNsaWVudC5zdGFydFRyYWNlXCIsIG5ldyBEYXRlKCksIHZlcnNpb24pO1xuXHRcdH07XG5cblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5zdG9wVHJhY2UgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRkZWxldGUgdGhpcy5fdHJhY2VCdWZmZXI7XG5cdFx0fTtcblxuXHRcdENsaWVudEltcGwucHJvdG90eXBlLl9kb0Nvbm5lY3QgPSBmdW5jdGlvbiAod3N1cmwpIHtcblx0XHQvLyBXaGVuIHRoZSBzb2NrZXQgaXMgb3BlbiwgdGhpcyBjbGllbnQgd2lsbCBzZW5kIHRoZSBDT05ORUNUIFdpcmVNZXNzYWdlIHVzaW5nIHRoZSBzYXZlZCBwYXJhbWV0ZXJzLlxuXHRcdFx0aWYgKHRoaXMuY29ubmVjdE9wdGlvbnMudXNlU1NMKSB7XG5cdFx0XHRcdHZhciB1cmlQYXJ0cyA9IHdzdXJsLnNwbGl0KFwiOlwiKTtcblx0XHRcdFx0dXJpUGFydHNbMF0gPSBcIndzc1wiO1xuXHRcdFx0XHR3c3VybCA9IHVyaVBhcnRzLmpvaW4oXCI6XCIpO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5fd3N1cmkgPSB3c3VybDtcblx0XHRcdHRoaXMuY29ubmVjdGVkID0gZmFsc2U7XG5cblxuXG5cdFx0XHRpZiAodGhpcy5jb25uZWN0T3B0aW9ucy5tcXR0VmVyc2lvbiA8IDQpIHtcblx0XHRcdFx0dGhpcy5zb2NrZXQgPSBuZXcgV2ViU29ja2V0KHdzdXJsLCBbXCJtcXR0djMuMVwiXSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLnNvY2tldCA9IG5ldyBXZWJTb2NrZXQod3N1cmwsIFtcIm1xdHRcIl0pO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5zb2NrZXQuYmluYXJ5VHlwZSA9IFwiYXJyYXlidWZmZXJcIjtcblx0XHRcdHRoaXMuc29ja2V0Lm9ub3BlbiA9IHNjb3BlKHRoaXMuX29uX3NvY2tldF9vcGVuLCB0aGlzKTtcblx0XHRcdHRoaXMuc29ja2V0Lm9ubWVzc2FnZSA9IHNjb3BlKHRoaXMuX29uX3NvY2tldF9tZXNzYWdlLCB0aGlzKTtcblx0XHRcdHRoaXMuc29ja2V0Lm9uZXJyb3IgPSBzY29wZSh0aGlzLl9vbl9zb2NrZXRfZXJyb3IsIHRoaXMpO1xuXHRcdFx0dGhpcy5zb2NrZXQub25jbG9zZSA9IHNjb3BlKHRoaXMuX29uX3NvY2tldF9jbG9zZSwgdGhpcyk7XG5cblx0XHRcdHRoaXMuc2VuZFBpbmdlciA9IG5ldyBQaW5nZXIodGhpcywgdGhpcy5jb25uZWN0T3B0aW9ucy5rZWVwQWxpdmVJbnRlcnZhbCk7XG5cdFx0XHR0aGlzLnJlY2VpdmVQaW5nZXIgPSBuZXcgUGluZ2VyKHRoaXMsIHRoaXMuY29ubmVjdE9wdGlvbnMua2VlcEFsaXZlSW50ZXJ2YWwpO1xuXHRcdFx0aWYgKHRoaXMuX2Nvbm5lY3RUaW1lb3V0KSB7XG5cdFx0XHRcdHRoaXMuX2Nvbm5lY3RUaW1lb3V0LmNhbmNlbCgpO1xuXHRcdFx0XHR0aGlzLl9jb25uZWN0VGltZW91dCA9IG51bGw7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLl9jb25uZWN0VGltZW91dCA9IG5ldyBUaW1lb3V0KHRoaXMsIHRoaXMuY29ubmVjdE9wdGlvbnMudGltZW91dCwgdGhpcy5fZGlzY29ubmVjdGVkLCAgW0VSUk9SLkNPTk5FQ1RfVElNRU9VVC5jb2RlLCBmb3JtYXQoRVJST1IuQ09OTkVDVF9USU1FT1VUKV0pO1xuXHRcdH07XG5cblxuXHRcdC8vIFNjaGVkdWxlIGEgbmV3IG1lc3NhZ2UgdG8gYmUgc2VudCBvdmVyIHRoZSBXZWJTb2NrZXRzXG5cdFx0Ly8gY29ubmVjdGlvbi4gQ09OTkVDVCBtZXNzYWdlcyBjYXVzZSBXZWJTb2NrZXQgY29ubmVjdGlvblxuXHRcdC8vIHRvIGJlIHN0YXJ0ZWQuIEFsbCBvdGhlciBtZXNzYWdlcyBhcmUgcXVldWVkIGludGVybmFsbHlcblx0XHQvLyB1bnRpbCB0aGlzIGhhcyBoYXBwZW5lZC4gV2hlbiBXUyBjb25uZWN0aW9uIHN0YXJ0cywgcHJvY2Vzc1xuXHRcdC8vIGFsbCBvdXRzdGFuZGluZyBtZXNzYWdlcy5cblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5fc2NoZWR1bGVfbWVzc2FnZSA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG5cdFx0XHQvLyBBZGQgbWVzc2FnZXMgaW4gZmlmbyBvcmRlciB0byBhcnJheSwgYnkgYWRkaW5nIHRvIHN0YXJ0XG5cdFx0XHR0aGlzLl9tc2dfcXVldWUudW5zaGlmdChtZXNzYWdlKTtcblx0XHRcdC8vIFByb2Nlc3Mgb3V0c3RhbmRpbmcgbWVzc2FnZXMgaW4gdGhlIHF1ZXVlIGlmIHdlIGhhdmUgYW4gIG9wZW4gc29ja2V0LCBhbmQgaGF2ZSByZWNlaXZlZCBDT05OQUNLLlxuXHRcdFx0aWYgKHRoaXMuY29ubmVjdGVkKSB7XG5cdFx0XHRcdHRoaXMuX3Byb2Nlc3NfcXVldWUoKTtcblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0Q2xpZW50SW1wbC5wcm90b3R5cGUuc3RvcmUgPSBmdW5jdGlvbihwcmVmaXgsIHdpcmVNZXNzYWdlKSB7XG5cdFx0XHR2YXIgc3RvcmVkTWVzc2FnZSA9IHt0eXBlOndpcmVNZXNzYWdlLnR5cGUsIG1lc3NhZ2VJZGVudGlmaWVyOndpcmVNZXNzYWdlLm1lc3NhZ2VJZGVudGlmaWVyLCB2ZXJzaW9uOjF9O1xuXG5cdFx0XHRzd2l0Y2god2lyZU1lc3NhZ2UudHlwZSkge1xuXHRcdFx0Y2FzZSBNRVNTQUdFX1RZUEUuUFVCTElTSDpcblx0XHRcdFx0aWYod2lyZU1lc3NhZ2UucHViUmVjUmVjZWl2ZWQpXG5cdFx0XHRcdFx0c3RvcmVkTWVzc2FnZS5wdWJSZWNSZWNlaXZlZCA9IHRydWU7XG5cblx0XHRcdFx0Ly8gQ29udmVydCB0aGUgcGF5bG9hZCB0byBhIGhleCBzdHJpbmcuXG5cdFx0XHRcdHN0b3JlZE1lc3NhZ2UucGF5bG9hZE1lc3NhZ2UgPSB7fTtcblx0XHRcdFx0dmFyIGhleCA9IFwiXCI7XG5cdFx0XHRcdHZhciBtZXNzYWdlQnl0ZXMgPSB3aXJlTWVzc2FnZS5wYXlsb2FkTWVzc2FnZS5wYXlsb2FkQnl0ZXM7XG5cdFx0XHRcdGZvciAodmFyIGk9MDsgaTxtZXNzYWdlQnl0ZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRpZiAobWVzc2FnZUJ5dGVzW2ldIDw9IDB4Rilcblx0XHRcdFx0XHRcdGhleCA9IGhleCtcIjBcIittZXNzYWdlQnl0ZXNbaV0udG9TdHJpbmcoMTYpO1xuXHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdGhleCA9IGhleCttZXNzYWdlQnl0ZXNbaV0udG9TdHJpbmcoMTYpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHN0b3JlZE1lc3NhZ2UucGF5bG9hZE1lc3NhZ2UucGF5bG9hZEhleCA9IGhleDtcblxuXHRcdFx0XHRzdG9yZWRNZXNzYWdlLnBheWxvYWRNZXNzYWdlLnFvcyA9IHdpcmVNZXNzYWdlLnBheWxvYWRNZXNzYWdlLnFvcztcblx0XHRcdFx0c3RvcmVkTWVzc2FnZS5wYXlsb2FkTWVzc2FnZS5kZXN0aW5hdGlvbk5hbWUgPSB3aXJlTWVzc2FnZS5wYXlsb2FkTWVzc2FnZS5kZXN0aW5hdGlvbk5hbWU7XG5cdFx0XHRcdGlmICh3aXJlTWVzc2FnZS5wYXlsb2FkTWVzc2FnZS5kdXBsaWNhdGUpXG5cdFx0XHRcdFx0c3RvcmVkTWVzc2FnZS5wYXlsb2FkTWVzc2FnZS5kdXBsaWNhdGUgPSB0cnVlO1xuXHRcdFx0XHRpZiAod2lyZU1lc3NhZ2UucGF5bG9hZE1lc3NhZ2UucmV0YWluZWQpXG5cdFx0XHRcdFx0c3RvcmVkTWVzc2FnZS5wYXlsb2FkTWVzc2FnZS5yZXRhaW5lZCA9IHRydWU7XG5cblx0XHRcdFx0Ly8gQWRkIGEgc2VxdWVuY2UgbnVtYmVyIHRvIHNlbnQgbWVzc2FnZXMuXG5cdFx0XHRcdGlmICggcHJlZml4LmluZGV4T2YoXCJTZW50OlwiKSA9PT0gMCApIHtcblx0XHRcdFx0XHRpZiAoIHdpcmVNZXNzYWdlLnNlcXVlbmNlID09PSB1bmRlZmluZWQgKVxuXHRcdFx0XHRcdFx0d2lyZU1lc3NhZ2Uuc2VxdWVuY2UgPSArK3RoaXMuX3NlcXVlbmNlO1xuXHRcdFx0XHRcdHN0b3JlZE1lc3NhZ2Uuc2VxdWVuY2UgPSB3aXJlTWVzc2FnZS5zZXF1ZW5jZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0dGhyb3cgRXJyb3IoZm9ybWF0KEVSUk9SLklOVkFMSURfU1RPUkVEX0RBVEEsIFtwcmVmaXgrdGhpcy5fbG9jYWxLZXkrd2lyZU1lc3NhZ2UubWVzc2FnZUlkZW50aWZpZXIsIHN0b3JlZE1lc3NhZ2VdKSk7XG5cdFx0XHR9XG5cdFx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShwcmVmaXgrdGhpcy5fbG9jYWxLZXkrd2lyZU1lc3NhZ2UubWVzc2FnZUlkZW50aWZpZXIsIEpTT04uc3RyaW5naWZ5KHN0b3JlZE1lc3NhZ2UpKTtcblx0XHR9O1xuXG5cdFx0Q2xpZW50SW1wbC5wcm90b3R5cGUucmVzdG9yZSA9IGZ1bmN0aW9uKGtleSkge1xuXHRcdFx0dmFyIHZhbHVlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTtcblx0XHRcdHZhciBzdG9yZWRNZXNzYWdlID0gSlNPTi5wYXJzZSh2YWx1ZSk7XG5cblx0XHRcdHZhciB3aXJlTWVzc2FnZSA9IG5ldyBXaXJlTWVzc2FnZShzdG9yZWRNZXNzYWdlLnR5cGUsIHN0b3JlZE1lc3NhZ2UpO1xuXG5cdFx0XHRzd2l0Y2goc3RvcmVkTWVzc2FnZS50eXBlKSB7XG5cdFx0XHRjYXNlIE1FU1NBR0VfVFlQRS5QVUJMSVNIOlxuXHRcdFx0XHQvLyBSZXBsYWNlIHRoZSBwYXlsb2FkIG1lc3NhZ2Ugd2l0aCBhIE1lc3NhZ2Ugb2JqZWN0LlxuXHRcdFx0XHR2YXIgaGV4ID0gc3RvcmVkTWVzc2FnZS5wYXlsb2FkTWVzc2FnZS5wYXlsb2FkSGV4O1xuXHRcdFx0XHR2YXIgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKChoZXgubGVuZ3RoKS8yKTtcblx0XHRcdFx0dmFyIGJ5dGVTdHJlYW0gPSBuZXcgVWludDhBcnJheShidWZmZXIpO1xuXHRcdFx0XHR2YXIgaSA9IDA7XG5cdFx0XHRcdHdoaWxlIChoZXgubGVuZ3RoID49IDIpIHtcblx0XHRcdFx0XHR2YXIgeCA9IHBhcnNlSW50KGhleC5zdWJzdHJpbmcoMCwgMiksIDE2KTtcblx0XHRcdFx0XHRoZXggPSBoZXguc3Vic3RyaW5nKDIsIGhleC5sZW5ndGgpO1xuXHRcdFx0XHRcdGJ5dGVTdHJlYW1baSsrXSA9IHg7XG5cdFx0XHRcdH1cblx0XHRcdFx0dmFyIHBheWxvYWRNZXNzYWdlID0gbmV3IE1lc3NhZ2UoYnl0ZVN0cmVhbSk7XG5cblx0XHRcdFx0cGF5bG9hZE1lc3NhZ2UucW9zID0gc3RvcmVkTWVzc2FnZS5wYXlsb2FkTWVzc2FnZS5xb3M7XG5cdFx0XHRcdHBheWxvYWRNZXNzYWdlLmRlc3RpbmF0aW9uTmFtZSA9IHN0b3JlZE1lc3NhZ2UucGF5bG9hZE1lc3NhZ2UuZGVzdGluYXRpb25OYW1lO1xuXHRcdFx0XHRpZiAoc3RvcmVkTWVzc2FnZS5wYXlsb2FkTWVzc2FnZS5kdXBsaWNhdGUpXG5cdFx0XHRcdFx0cGF5bG9hZE1lc3NhZ2UuZHVwbGljYXRlID0gdHJ1ZTtcblx0XHRcdFx0aWYgKHN0b3JlZE1lc3NhZ2UucGF5bG9hZE1lc3NhZ2UucmV0YWluZWQpXG5cdFx0XHRcdFx0cGF5bG9hZE1lc3NhZ2UucmV0YWluZWQgPSB0cnVlO1xuXHRcdFx0XHR3aXJlTWVzc2FnZS5wYXlsb2FkTWVzc2FnZSA9IHBheWxvYWRNZXNzYWdlO1xuXG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHR0aHJvdyBFcnJvcihmb3JtYXQoRVJST1IuSU5WQUxJRF9TVE9SRURfREFUQSwgW2tleSwgdmFsdWVdKSk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChrZXkuaW5kZXhPZihcIlNlbnQ6XCIrdGhpcy5fbG9jYWxLZXkpID09PSAwKSB7XG5cdFx0XHRcdHdpcmVNZXNzYWdlLnBheWxvYWRNZXNzYWdlLmR1cGxpY2F0ZSA9IHRydWU7XG5cdFx0XHRcdHRoaXMuX3NlbnRNZXNzYWdlc1t3aXJlTWVzc2FnZS5tZXNzYWdlSWRlbnRpZmllcl0gPSB3aXJlTWVzc2FnZTtcblx0XHRcdH0gZWxzZSBpZiAoa2V5LmluZGV4T2YoXCJSZWNlaXZlZDpcIit0aGlzLl9sb2NhbEtleSkgPT09IDApIHtcblx0XHRcdFx0dGhpcy5fcmVjZWl2ZWRNZXNzYWdlc1t3aXJlTWVzc2FnZS5tZXNzYWdlSWRlbnRpZmllcl0gPSB3aXJlTWVzc2FnZTtcblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0Q2xpZW50SW1wbC5wcm90b3R5cGUuX3Byb2Nlc3NfcXVldWUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHR2YXIgbWVzc2FnZSA9IG51bGw7XG5cblx0XHRcdC8vIFNlbmQgYWxsIHF1ZXVlZCBtZXNzYWdlcyBkb3duIHNvY2tldCBjb25uZWN0aW9uXG5cdFx0XHR3aGlsZSAoKG1lc3NhZ2UgPSB0aGlzLl9tc2dfcXVldWUucG9wKCkpKSB7XG5cdFx0XHRcdHRoaXMuX3NvY2tldF9zZW5kKG1lc3NhZ2UpO1xuXHRcdFx0XHQvLyBOb3RpZnkgbGlzdGVuZXJzIHRoYXQgbWVzc2FnZSB3YXMgc3VjY2Vzc2Z1bGx5IHNlbnRcblx0XHRcdFx0aWYgKHRoaXMuX25vdGlmeV9tc2dfc2VudFttZXNzYWdlXSkge1xuXHRcdFx0XHRcdHRoaXMuX25vdGlmeV9tc2dfc2VudFttZXNzYWdlXSgpO1xuXHRcdFx0XHRcdGRlbGV0ZSB0aGlzLl9ub3RpZnlfbXNnX3NlbnRbbWVzc2FnZV07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0LyoqXG5cdCAqIEV4cGVjdCBhbiBBQ0sgcmVzcG9uc2UgZm9yIHRoaXMgbWVzc2FnZS4gQWRkIG1lc3NhZ2UgdG8gdGhlIHNldCBvZiBpbiBwcm9ncmVzc1xuXHQgKiBtZXNzYWdlcyBhbmQgc2V0IGFuIHVudXNlZCBpZGVudGlmaWVyIGluIHRoaXMgbWVzc2FnZS5cblx0ICogQGlnbm9yZVxuXHQgKi9cblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5fcmVxdWlyZXNfYWNrID0gZnVuY3Rpb24gKHdpcmVNZXNzYWdlKSB7XG5cdFx0XHR2YXIgbWVzc2FnZUNvdW50ID0gT2JqZWN0LmtleXModGhpcy5fc2VudE1lc3NhZ2VzKS5sZW5ndGg7XG5cdFx0XHRpZiAobWVzc2FnZUNvdW50ID4gdGhpcy5tYXhNZXNzYWdlSWRlbnRpZmllcilcblx0XHRcdFx0dGhyb3cgRXJyb3IgKFwiVG9vIG1hbnkgbWVzc2FnZXM6XCIrbWVzc2FnZUNvdW50KTtcblxuXHRcdFx0d2hpbGUodGhpcy5fc2VudE1lc3NhZ2VzW3RoaXMuX21lc3NhZ2VfaWRlbnRpZmllcl0gIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHR0aGlzLl9tZXNzYWdlX2lkZW50aWZpZXIrKztcblx0XHRcdH1cblx0XHRcdHdpcmVNZXNzYWdlLm1lc3NhZ2VJZGVudGlmaWVyID0gdGhpcy5fbWVzc2FnZV9pZGVudGlmaWVyO1xuXHRcdFx0dGhpcy5fc2VudE1lc3NhZ2VzW3dpcmVNZXNzYWdlLm1lc3NhZ2VJZGVudGlmaWVyXSA9IHdpcmVNZXNzYWdlO1xuXHRcdFx0aWYgKHdpcmVNZXNzYWdlLnR5cGUgPT09IE1FU1NBR0VfVFlQRS5QVUJMSVNIKSB7XG5cdFx0XHRcdHRoaXMuc3RvcmUoXCJTZW50OlwiLCB3aXJlTWVzc2FnZSk7XG5cdFx0XHR9XG5cdFx0XHRpZiAodGhpcy5fbWVzc2FnZV9pZGVudGlmaWVyID09PSB0aGlzLm1heE1lc3NhZ2VJZGVudGlmaWVyKSB7XG5cdFx0XHRcdHRoaXMuX21lc3NhZ2VfaWRlbnRpZmllciA9IDE7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdC8qKlxuXHQgKiBDYWxsZWQgd2hlbiB0aGUgdW5kZXJseWluZyB3ZWJzb2NrZXQgaGFzIGJlZW4gb3BlbmVkLlxuXHQgKiBAaWdub3JlXG5cdCAqL1xuXHRcdENsaWVudEltcGwucHJvdG90eXBlLl9vbl9zb2NrZXRfb3BlbiA9IGZ1bmN0aW9uICgpIHtcblx0XHQvLyBDcmVhdGUgdGhlIENPTk5FQ1QgbWVzc2FnZSBvYmplY3QuXG5cdFx0XHR2YXIgd2lyZU1lc3NhZ2UgPSBuZXcgV2lyZU1lc3NhZ2UoTUVTU0FHRV9UWVBFLkNPTk5FQ1QsIHRoaXMuY29ubmVjdE9wdGlvbnMpO1xuXHRcdFx0d2lyZU1lc3NhZ2UuY2xpZW50SWQgPSB0aGlzLmNsaWVudElkO1xuXHRcdFx0dGhpcy5fc29ja2V0X3NlbmQod2lyZU1lc3NhZ2UpO1xuXHRcdH07XG5cblx0XHQvKipcblx0ICogQ2FsbGVkIHdoZW4gdGhlIHVuZGVybHlpbmcgd2Vic29ja2V0IGhhcyByZWNlaXZlZCBhIGNvbXBsZXRlIHBhY2tldC5cblx0ICogQGlnbm9yZVxuXHQgKi9cblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5fb25fc29ja2V0X21lc3NhZ2UgPSBmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHRcdHRoaXMuX3RyYWNlKFwiQ2xpZW50Ll9vbl9zb2NrZXRfbWVzc2FnZVwiLCBldmVudC5kYXRhKTtcblx0XHRcdHZhciBtZXNzYWdlcyA9IHRoaXMuX2RlZnJhbWVNZXNzYWdlcyhldmVudC5kYXRhKTtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbWVzc2FnZXMubGVuZ3RoOyBpKz0xKSB7XG5cdFx0XHRcdHRoaXMuX2hhbmRsZU1lc3NhZ2UobWVzc2FnZXNbaV0pO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5fZGVmcmFtZU1lc3NhZ2VzID0gZnVuY3Rpb24oZGF0YSkge1xuXHRcdFx0dmFyIGJ5dGVBcnJheSA9IG5ldyBVaW50OEFycmF5KGRhdGEpO1xuXHRcdFx0dmFyIG1lc3NhZ2VzID0gW107XG5cdFx0XHRpZiAodGhpcy5yZWNlaXZlQnVmZmVyKSB7XG5cdFx0XHRcdHZhciBuZXdEYXRhID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5yZWNlaXZlQnVmZmVyLmxlbmd0aCtieXRlQXJyYXkubGVuZ3RoKTtcblx0XHRcdFx0bmV3RGF0YS5zZXQodGhpcy5yZWNlaXZlQnVmZmVyKTtcblx0XHRcdFx0bmV3RGF0YS5zZXQoYnl0ZUFycmF5LHRoaXMucmVjZWl2ZUJ1ZmZlci5sZW5ndGgpO1xuXHRcdFx0XHRieXRlQXJyYXkgPSBuZXdEYXRhO1xuXHRcdFx0XHRkZWxldGUgdGhpcy5yZWNlaXZlQnVmZmVyO1xuXHRcdFx0fVxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0dmFyIG9mZnNldCA9IDA7XG5cdFx0XHRcdHdoaWxlKG9mZnNldCA8IGJ5dGVBcnJheS5sZW5ndGgpIHtcblx0XHRcdFx0XHR2YXIgcmVzdWx0ID0gZGVjb2RlTWVzc2FnZShieXRlQXJyYXksb2Zmc2V0KTtcblx0XHRcdFx0XHR2YXIgd2lyZU1lc3NhZ2UgPSByZXN1bHRbMF07XG5cdFx0XHRcdFx0b2Zmc2V0ID0gcmVzdWx0WzFdO1xuXHRcdFx0XHRcdGlmICh3aXJlTWVzc2FnZSAhPT0gbnVsbCkge1xuXHRcdFx0XHRcdFx0bWVzc2FnZXMucHVzaCh3aXJlTWVzc2FnZSk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAob2Zmc2V0IDwgYnl0ZUFycmF5Lmxlbmd0aCkge1xuXHRcdFx0XHRcdHRoaXMucmVjZWl2ZUJ1ZmZlciA9IGJ5dGVBcnJheS5zdWJhcnJheShvZmZzZXQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHR2YXIgZXJyb3JTdGFjayA9ICgoZXJyb3IuaGFzT3duUHJvcGVydHkoXCJzdGFja1wiKSA9PSBcInVuZGVmaW5lZFwiKSA/IGVycm9yLnN0YWNrLnRvU3RyaW5nKCkgOiBcIk5vIEVycm9yIFN0YWNrIEF2YWlsYWJsZVwiKTtcblx0XHRcdFx0dGhpcy5fZGlzY29ubmVjdGVkKEVSUk9SLklOVEVSTkFMX0VSUk9SLmNvZGUgLCBmb3JtYXQoRVJST1IuSU5URVJOQUxfRVJST1IsIFtlcnJvci5tZXNzYWdlLGVycm9yU3RhY2tdKSk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdHJldHVybiBtZXNzYWdlcztcblx0XHR9O1xuXG5cdFx0Q2xpZW50SW1wbC5wcm90b3R5cGUuX2hhbmRsZU1lc3NhZ2UgPSBmdW5jdGlvbih3aXJlTWVzc2FnZSkge1xuXG5cdFx0XHR0aGlzLl90cmFjZShcIkNsaWVudC5faGFuZGxlTWVzc2FnZVwiLCB3aXJlTWVzc2FnZSk7XG5cblx0XHRcdHRyeSB7XG5cdFx0XHRcdHN3aXRjaCh3aXJlTWVzc2FnZS50eXBlKSB7XG5cdFx0XHRcdGNhc2UgTUVTU0FHRV9UWVBFLkNPTk5BQ0s6XG5cdFx0XHRcdFx0dGhpcy5fY29ubmVjdFRpbWVvdXQuY2FuY2VsKCk7XG5cdFx0XHRcdFx0aWYgKHRoaXMuX3JlY29ubmVjdFRpbWVvdXQpXG5cdFx0XHRcdFx0XHR0aGlzLl9yZWNvbm5lY3RUaW1lb3V0LmNhbmNlbCgpO1xuXG5cdFx0XHRcdFx0Ly8gSWYgd2UgaGF2ZSBzdGFydGVkIHVzaW5nIGNsZWFuIHNlc3Npb24gdGhlbiBjbGVhciB1cCB0aGUgbG9jYWwgc3RhdGUuXG5cdFx0XHRcdFx0aWYgKHRoaXMuY29ubmVjdE9wdGlvbnMuY2xlYW5TZXNzaW9uKSB7XG5cdFx0XHRcdFx0XHRmb3IgKHZhciBrZXkgaW4gdGhpcy5fc2VudE1lc3NhZ2VzKSB7XG5cdFx0XHRcdFx0XHRcdHZhciBzZW50TWVzc2FnZSA9IHRoaXMuX3NlbnRNZXNzYWdlc1trZXldO1xuXHRcdFx0XHRcdFx0XHRsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcIlNlbnQ6XCIrdGhpcy5fbG9jYWxLZXkrc2VudE1lc3NhZ2UubWVzc2FnZUlkZW50aWZpZXIpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0dGhpcy5fc2VudE1lc3NhZ2VzID0ge307XG5cblx0XHRcdFx0XHRcdGZvciAodmFyIGtleSBpbiB0aGlzLl9yZWNlaXZlZE1lc3NhZ2VzKSB7XG5cdFx0XHRcdFx0XHRcdHZhciByZWNlaXZlZE1lc3NhZ2UgPSB0aGlzLl9yZWNlaXZlZE1lc3NhZ2VzW2tleV07XG5cdFx0XHRcdFx0XHRcdGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwiUmVjZWl2ZWQ6XCIrdGhpcy5fbG9jYWxLZXkrcmVjZWl2ZWRNZXNzYWdlLm1lc3NhZ2VJZGVudGlmaWVyKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHRoaXMuX3JlY2VpdmVkTWVzc2FnZXMgPSB7fTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Ly8gQ2xpZW50IGNvbm5lY3RlZCBhbmQgcmVhZHkgZm9yIGJ1c2luZXNzLlxuXHRcdFx0XHRcdGlmICh3aXJlTWVzc2FnZS5yZXR1cm5Db2RlID09PSAwKSB7XG5cblx0XHRcdFx0XHRcdHRoaXMuY29ubmVjdGVkID0gdHJ1ZTtcblx0XHRcdFx0XHRcdC8vIEp1bXAgdG8gdGhlIGVuZCBvZiB0aGUgbGlzdCBvZiB1cmlzIGFuZCBzdG9wIGxvb2tpbmcgZm9yIGEgZ29vZCBob3N0LlxuXG5cdFx0XHRcdFx0XHRpZiAodGhpcy5jb25uZWN0T3B0aW9ucy51cmlzKVxuXHRcdFx0XHRcdFx0XHR0aGlzLmhvc3RJbmRleCA9IHRoaXMuY29ubmVjdE9wdGlvbnMudXJpcy5sZW5ndGg7XG5cblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0dGhpcy5fZGlzY29ubmVjdGVkKEVSUk9SLkNPTk5BQ0tfUkVUVVJOQ09ERS5jb2RlICwgZm9ybWF0KEVSUk9SLkNPTk5BQ0tfUkVUVVJOQ09ERSwgW3dpcmVNZXNzYWdlLnJldHVybkNvZGUsIENPTk5BQ0tfUkNbd2lyZU1lc3NhZ2UucmV0dXJuQ29kZV1dKSk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBSZXNlbmQgbWVzc2FnZXMuXG5cdFx0XHRcdFx0dmFyIHNlcXVlbmNlZE1lc3NhZ2VzID0gW107XG5cdFx0XHRcdFx0Zm9yICh2YXIgbXNnSWQgaW4gdGhpcy5fc2VudE1lc3NhZ2VzKSB7XG5cdFx0XHRcdFx0XHRpZiAodGhpcy5fc2VudE1lc3NhZ2VzLmhhc093blByb3BlcnR5KG1zZ0lkKSlcblx0XHRcdFx0XHRcdFx0c2VxdWVuY2VkTWVzc2FnZXMucHVzaCh0aGlzLl9zZW50TWVzc2FnZXNbbXNnSWRdKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBBbHNvIHNjaGVkdWxlIHFvcyAwIGJ1ZmZlcmVkIG1lc3NhZ2VzIGlmIGFueVxuXHRcdFx0XHRcdGlmICh0aGlzLl9idWZmZXJlZF9tc2dfcXVldWUubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdFx0dmFyIG1zZyA9IG51bGw7XG5cdFx0XHRcdFx0XHR3aGlsZSAoKG1zZyA9IHRoaXMuX2J1ZmZlcmVkX21zZ19xdWV1ZS5wb3AoKSkpIHtcblx0XHRcdFx0XHRcdFx0c2VxdWVuY2VkTWVzc2FnZXMucHVzaChtc2cpO1xuXHRcdFx0XHRcdFx0XHRpZiAodGhpcy5vbk1lc3NhZ2VEZWxpdmVyZWQpXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5fbm90aWZ5X21zZ19zZW50W21zZ10gPSB0aGlzLm9uTWVzc2FnZURlbGl2ZXJlZChtc2cucGF5bG9hZE1lc3NhZ2UpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIFNvcnQgc2VudE1lc3NhZ2VzIGludG8gdGhlIG9yaWdpbmFsIHNlbnQgb3JkZXIuXG5cdFx0XHRcdFx0dmFyIHNlcXVlbmNlZE1lc3NhZ2VzID0gc2VxdWVuY2VkTWVzc2FnZXMuc29ydChmdW5jdGlvbihhLGIpIHtyZXR1cm4gYS5zZXF1ZW5jZSAtIGIuc2VxdWVuY2U7fSApO1xuXHRcdFx0XHRcdGZvciAodmFyIGk9MCwgbGVuPXNlcXVlbmNlZE1lc3NhZ2VzLmxlbmd0aDsgaTxsZW47IGkrKykge1xuXHRcdFx0XHRcdFx0dmFyIHNlbnRNZXNzYWdlID0gc2VxdWVuY2VkTWVzc2FnZXNbaV07XG5cdFx0XHRcdFx0XHRpZiAoc2VudE1lc3NhZ2UudHlwZSA9PSBNRVNTQUdFX1RZUEUuUFVCTElTSCAmJiBzZW50TWVzc2FnZS5wdWJSZWNSZWNlaXZlZCkge1xuXHRcdFx0XHRcdFx0XHR2YXIgcHViUmVsTWVzc2FnZSA9IG5ldyBXaXJlTWVzc2FnZShNRVNTQUdFX1RZUEUuUFVCUkVMLCB7bWVzc2FnZUlkZW50aWZpZXI6c2VudE1lc3NhZ2UubWVzc2FnZUlkZW50aWZpZXJ9KTtcblx0XHRcdFx0XHRcdFx0dGhpcy5fc2NoZWR1bGVfbWVzc2FnZShwdWJSZWxNZXNzYWdlKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHRoaXMuX3NjaGVkdWxlX21lc3NhZ2Uoc2VudE1lc3NhZ2UpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIEV4ZWN1dGUgdGhlIGNvbm5lY3RPcHRpb25zLm9uU3VjY2VzcyBjYWxsYmFjayBpZiB0aGVyZSBpcyBvbmUuXG5cdFx0XHRcdFx0Ly8gV2lsbCBhbHNvIG5vdyByZXR1cm4gaWYgdGhpcyBjb25uZWN0aW9uIHdhcyB0aGUgcmVzdWx0IG9mIGFuIGF1dG9tYXRpY1xuXHRcdFx0XHRcdC8vIHJlY29ubmVjdCBhbmQgd2hpY2ggVVJJIHdhcyBzdWNjZXNzZnVsbHkgY29ubmVjdGVkIHRvLlxuXHRcdFx0XHRcdGlmICh0aGlzLmNvbm5lY3RPcHRpb25zLm9uU3VjY2Vzcykge1xuXHRcdFx0XHRcdFx0dGhpcy5jb25uZWN0T3B0aW9ucy5vblN1Y2Nlc3Moe2ludm9jYXRpb25Db250ZXh0OnRoaXMuY29ubmVjdE9wdGlvbnMuaW52b2NhdGlvbkNvbnRleHR9KTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR2YXIgcmVjb25uZWN0ZWQgPSBmYWxzZTtcblx0XHRcdFx0XHRpZiAodGhpcy5fcmVjb25uZWN0aW5nKSB7XG5cdFx0XHRcdFx0XHRyZWNvbm5lY3RlZCA9IHRydWU7XG5cdFx0XHRcdFx0XHR0aGlzLl9yZWNvbm5lY3RJbnRlcnZhbCA9IDE7XG5cdFx0XHRcdFx0XHR0aGlzLl9yZWNvbm5lY3RpbmcgPSBmYWxzZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBFeGVjdXRlIHRoZSBvbkNvbm5lY3RlZCBjYWxsYmFjayBpZiB0aGVyZSBpcyBvbmUuXG5cdFx0XHRcdFx0dGhpcy5fY29ubmVjdGVkKHJlY29ubmVjdGVkLCB0aGlzLl93c3VyaSk7XG5cblx0XHRcdFx0XHQvLyBQcm9jZXNzIGFsbCBxdWV1ZWQgbWVzc2FnZXMgbm93IHRoYXQgdGhlIGNvbm5lY3Rpb24gaXMgZXN0YWJsaXNoZWQuXG5cdFx0XHRcdFx0dGhpcy5fcHJvY2Vzc19xdWV1ZSgpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgTUVTU0FHRV9UWVBFLlBVQkxJU0g6XG5cdFx0XHRcdFx0dGhpcy5fcmVjZWl2ZVB1Ymxpc2god2lyZU1lc3NhZ2UpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgTUVTU0FHRV9UWVBFLlBVQkFDSzpcblx0XHRcdFx0XHR2YXIgc2VudE1lc3NhZ2UgPSB0aGlzLl9zZW50TWVzc2FnZXNbd2lyZU1lc3NhZ2UubWVzc2FnZUlkZW50aWZpZXJdO1xuXHRcdFx0XHRcdC8vIElmIHRoaXMgaXMgYSByZSBmbG93IG9mIGEgUFVCQUNLIGFmdGVyIHdlIGhhdmUgcmVzdGFydGVkIHJlY2VpdmVkTWVzc2FnZSB3aWxsIG5vdCBleGlzdC5cblx0XHRcdFx0XHRpZiAoc2VudE1lc3NhZ2UpIHtcblx0XHRcdFx0XHRcdGRlbGV0ZSB0aGlzLl9zZW50TWVzc2FnZXNbd2lyZU1lc3NhZ2UubWVzc2FnZUlkZW50aWZpZXJdO1xuXHRcdFx0XHRcdFx0bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJTZW50OlwiK3RoaXMuX2xvY2FsS2V5K3dpcmVNZXNzYWdlLm1lc3NhZ2VJZGVudGlmaWVyKTtcblx0XHRcdFx0XHRcdGlmICh0aGlzLm9uTWVzc2FnZURlbGl2ZXJlZClcblx0XHRcdFx0XHRcdFx0dGhpcy5vbk1lc3NhZ2VEZWxpdmVyZWQoc2VudE1lc3NhZ2UucGF5bG9hZE1lc3NhZ2UpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIE1FU1NBR0VfVFlQRS5QVUJSRUM6XG5cdFx0XHRcdFx0dmFyIHNlbnRNZXNzYWdlID0gdGhpcy5fc2VudE1lc3NhZ2VzW3dpcmVNZXNzYWdlLm1lc3NhZ2VJZGVudGlmaWVyXTtcblx0XHRcdFx0XHQvLyBJZiB0aGlzIGlzIGEgcmUgZmxvdyBvZiBhIFBVQlJFQyBhZnRlciB3ZSBoYXZlIHJlc3RhcnRlZCByZWNlaXZlZE1lc3NhZ2Ugd2lsbCBub3QgZXhpc3QuXG5cdFx0XHRcdFx0aWYgKHNlbnRNZXNzYWdlKSB7XG5cdFx0XHRcdFx0XHRzZW50TWVzc2FnZS5wdWJSZWNSZWNlaXZlZCA9IHRydWU7XG5cdFx0XHRcdFx0XHR2YXIgcHViUmVsTWVzc2FnZSA9IG5ldyBXaXJlTWVzc2FnZShNRVNTQUdFX1RZUEUuUFVCUkVMLCB7bWVzc2FnZUlkZW50aWZpZXI6d2lyZU1lc3NhZ2UubWVzc2FnZUlkZW50aWZpZXJ9KTtcblx0XHRcdFx0XHRcdHRoaXMuc3RvcmUoXCJTZW50OlwiLCBzZW50TWVzc2FnZSk7XG5cdFx0XHRcdFx0XHR0aGlzLl9zY2hlZHVsZV9tZXNzYWdlKHB1YlJlbE1lc3NhZ2UpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIE1FU1NBR0VfVFlQRS5QVUJSRUw6XG5cdFx0XHRcdFx0dmFyIHJlY2VpdmVkTWVzc2FnZSA9IHRoaXMuX3JlY2VpdmVkTWVzc2FnZXNbd2lyZU1lc3NhZ2UubWVzc2FnZUlkZW50aWZpZXJdO1xuXHRcdFx0XHRcdGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwiUmVjZWl2ZWQ6XCIrdGhpcy5fbG9jYWxLZXkrd2lyZU1lc3NhZ2UubWVzc2FnZUlkZW50aWZpZXIpO1xuXHRcdFx0XHRcdC8vIElmIHRoaXMgaXMgYSByZSBmbG93IG9mIGEgUFVCUkVMIGFmdGVyIHdlIGhhdmUgcmVzdGFydGVkIHJlY2VpdmVkTWVzc2FnZSB3aWxsIG5vdCBleGlzdC5cblx0XHRcdFx0XHRpZiAocmVjZWl2ZWRNZXNzYWdlKSB7XG5cdFx0XHRcdFx0XHR0aGlzLl9yZWNlaXZlTWVzc2FnZShyZWNlaXZlZE1lc3NhZ2UpO1xuXHRcdFx0XHRcdFx0ZGVsZXRlIHRoaXMuX3JlY2VpdmVkTWVzc2FnZXNbd2lyZU1lc3NhZ2UubWVzc2FnZUlkZW50aWZpZXJdO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQvLyBBbHdheXMgZmxvdyBQdWJDb21wLCB3ZSBtYXkgaGF2ZSBwcmV2aW91c2x5IGZsb3dlZCBQdWJDb21wIGJ1dCB0aGUgc2VydmVyIGxvc3QgaXQgYW5kIHJlc3RhcnRlZC5cblx0XHRcdFx0XHR2YXIgcHViQ29tcE1lc3NhZ2UgPSBuZXcgV2lyZU1lc3NhZ2UoTUVTU0FHRV9UWVBFLlBVQkNPTVAsIHttZXNzYWdlSWRlbnRpZmllcjp3aXJlTWVzc2FnZS5tZXNzYWdlSWRlbnRpZmllcn0pO1xuXHRcdFx0XHRcdHRoaXMuX3NjaGVkdWxlX21lc3NhZ2UocHViQ29tcE1lc3NhZ2UpO1xuXG5cblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIE1FU1NBR0VfVFlQRS5QVUJDT01QOlxuXHRcdFx0XHRcdHZhciBzZW50TWVzc2FnZSA9IHRoaXMuX3NlbnRNZXNzYWdlc1t3aXJlTWVzc2FnZS5tZXNzYWdlSWRlbnRpZmllcl07XG5cdFx0XHRcdFx0ZGVsZXRlIHRoaXMuX3NlbnRNZXNzYWdlc1t3aXJlTWVzc2FnZS5tZXNzYWdlSWRlbnRpZmllcl07XG5cdFx0XHRcdFx0bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJTZW50OlwiK3RoaXMuX2xvY2FsS2V5K3dpcmVNZXNzYWdlLm1lc3NhZ2VJZGVudGlmaWVyKTtcblx0XHRcdFx0XHRpZiAodGhpcy5vbk1lc3NhZ2VEZWxpdmVyZWQpXG5cdFx0XHRcdFx0XHR0aGlzLm9uTWVzc2FnZURlbGl2ZXJlZChzZW50TWVzc2FnZS5wYXlsb2FkTWVzc2FnZSk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSBNRVNTQUdFX1RZUEUuU1VCQUNLOlxuXHRcdFx0XHRcdHZhciBzZW50TWVzc2FnZSA9IHRoaXMuX3NlbnRNZXNzYWdlc1t3aXJlTWVzc2FnZS5tZXNzYWdlSWRlbnRpZmllcl07XG5cdFx0XHRcdFx0aWYgKHNlbnRNZXNzYWdlKSB7XG5cdFx0XHRcdFx0XHRpZihzZW50TWVzc2FnZS50aW1lT3V0KVxuXHRcdFx0XHRcdFx0XHRzZW50TWVzc2FnZS50aW1lT3V0LmNhbmNlbCgpO1xuXHRcdFx0XHRcdFx0Ly8gVGhpcyB3aWxsIG5lZWQgdG8gYmUgZml4ZWQgd2hlbiB3ZSBhZGQgbXVsdGlwbGUgdG9waWMgc3VwcG9ydFxuXHRcdFx0XHRcdFx0aWYgKHdpcmVNZXNzYWdlLnJldHVybkNvZGVbMF0gPT09IDB4ODApIHtcblx0XHRcdFx0XHRcdFx0aWYgKHNlbnRNZXNzYWdlLm9uRmFpbHVyZSkge1xuXHRcdFx0XHRcdFx0XHRcdHNlbnRNZXNzYWdlLm9uRmFpbHVyZSh3aXJlTWVzc2FnZS5yZXR1cm5Db2RlKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSBlbHNlIGlmIChzZW50TWVzc2FnZS5vblN1Y2Nlc3MpIHtcblx0XHRcdFx0XHRcdFx0c2VudE1lc3NhZ2Uub25TdWNjZXNzKHdpcmVNZXNzYWdlLnJldHVybkNvZGUpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0ZGVsZXRlIHRoaXMuX3NlbnRNZXNzYWdlc1t3aXJlTWVzc2FnZS5tZXNzYWdlSWRlbnRpZmllcl07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgTUVTU0FHRV9UWVBFLlVOU1VCQUNLOlxuXHRcdFx0XHRcdHZhciBzZW50TWVzc2FnZSA9IHRoaXMuX3NlbnRNZXNzYWdlc1t3aXJlTWVzc2FnZS5tZXNzYWdlSWRlbnRpZmllcl07XG5cdFx0XHRcdFx0aWYgKHNlbnRNZXNzYWdlKSB7XG5cdFx0XHRcdFx0XHRpZiAoc2VudE1lc3NhZ2UudGltZU91dClcblx0XHRcdFx0XHRcdFx0c2VudE1lc3NhZ2UudGltZU91dC5jYW5jZWwoKTtcblx0XHRcdFx0XHRcdGlmIChzZW50TWVzc2FnZS5jYWxsYmFjaykge1xuXHRcdFx0XHRcdFx0XHRzZW50TWVzc2FnZS5jYWxsYmFjaygpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0ZGVsZXRlIHRoaXMuX3NlbnRNZXNzYWdlc1t3aXJlTWVzc2FnZS5tZXNzYWdlSWRlbnRpZmllcl07XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSBNRVNTQUdFX1RZUEUuUElOR1JFU1A6XG5cdFx0XHRcdC8qIFRoZSBzZW5kUGluZ2VyIG9yIHJlY2VpdmVQaW5nZXIgbWF5IGhhdmUgc2VudCBhIHBpbmcsIHRoZSByZWNlaXZlUGluZ2VyIGhhcyBhbHJlYWR5IGJlZW4gcmVzZXQuICovXG5cdFx0XHRcdFx0dGhpcy5zZW5kUGluZ2VyLnJlc2V0KCk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSBNRVNTQUdFX1RZUEUuRElTQ09OTkVDVDpcblx0XHRcdFx0Ly8gQ2xpZW50cyBkbyBub3QgZXhwZWN0IHRvIHJlY2VpdmUgZGlzY29ubmVjdCBwYWNrZXRzLlxuXHRcdFx0XHRcdHRoaXMuX2Rpc2Nvbm5lY3RlZChFUlJPUi5JTlZBTElEX01RVFRfTUVTU0FHRV9UWVBFLmNvZGUgLCBmb3JtYXQoRVJST1IuSU5WQUxJRF9NUVRUX01FU1NBR0VfVFlQRSwgW3dpcmVNZXNzYWdlLnR5cGVdKSk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHR0aGlzLl9kaXNjb25uZWN0ZWQoRVJST1IuSU5WQUxJRF9NUVRUX01FU1NBR0VfVFlQRS5jb2RlICwgZm9ybWF0KEVSUk9SLklOVkFMSURfTVFUVF9NRVNTQUdFX1RZUEUsIFt3aXJlTWVzc2FnZS50eXBlXSkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHR2YXIgZXJyb3JTdGFjayA9ICgoZXJyb3IuaGFzT3duUHJvcGVydHkoXCJzdGFja1wiKSA9PSBcInVuZGVmaW5lZFwiKSA/IGVycm9yLnN0YWNrLnRvU3RyaW5nKCkgOiBcIk5vIEVycm9yIFN0YWNrIEF2YWlsYWJsZVwiKTtcblx0XHRcdFx0dGhpcy5fZGlzY29ubmVjdGVkKEVSUk9SLklOVEVSTkFMX0VSUk9SLmNvZGUgLCBmb3JtYXQoRVJST1IuSU5URVJOQUxfRVJST1IsIFtlcnJvci5tZXNzYWdlLGVycm9yU3RhY2tdKSk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0LyoqIEBpZ25vcmUgKi9cblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5fb25fc29ja2V0X2Vycm9yID0gZnVuY3Rpb24gKGVycm9yKSB7XG5cdFx0XHRpZiAoIXRoaXMuX3JlY29ubmVjdGluZykge1xuXHRcdFx0XHR0aGlzLl9kaXNjb25uZWN0ZWQoRVJST1IuU09DS0VUX0VSUk9SLmNvZGUgLCBmb3JtYXQoRVJST1IuU09DS0VUX0VSUk9SLCBbZXJyb3IuZGF0YV0pKTtcblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0LyoqIEBpZ25vcmUgKi9cblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5fb25fc29ja2V0X2Nsb3NlID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0aWYgKCF0aGlzLl9yZWNvbm5lY3RpbmcpIHtcblx0XHRcdFx0dGhpcy5fZGlzY29ubmVjdGVkKEVSUk9SLlNPQ0tFVF9DTE9TRS5jb2RlICwgZm9ybWF0KEVSUk9SLlNPQ0tFVF9DTE9TRSkpO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHQvKiogQGlnbm9yZSAqL1xuXHRcdENsaWVudEltcGwucHJvdG90eXBlLl9zb2NrZXRfc2VuZCA9IGZ1bmN0aW9uICh3aXJlTWVzc2FnZSkge1xuXG5cdFx0XHRpZiAod2lyZU1lc3NhZ2UudHlwZSA9PSAxKSB7XG5cdFx0XHRcdHZhciB3aXJlTWVzc2FnZU1hc2tlZCA9IHRoaXMuX3RyYWNlTWFzayh3aXJlTWVzc2FnZSwgXCJwYXNzd29yZFwiKTtcblx0XHRcdFx0dGhpcy5fdHJhY2UoXCJDbGllbnQuX3NvY2tldF9zZW5kXCIsIHdpcmVNZXNzYWdlTWFza2VkKTtcblx0XHRcdH1cblx0XHRcdGVsc2UgdGhpcy5fdHJhY2UoXCJDbGllbnQuX3NvY2tldF9zZW5kXCIsIHdpcmVNZXNzYWdlKTtcblxuXHRcdFx0dGhpcy5zb2NrZXQuc2VuZCh3aXJlTWVzc2FnZS5lbmNvZGUoKSk7XG5cdFx0XHQvKiBXZSBoYXZlIHByb3ZlZCB0byB0aGUgc2VydmVyIHdlIGFyZSBhbGl2ZS4gKi9cblx0XHRcdHRoaXMuc2VuZFBpbmdlci5yZXNldCgpO1xuXHRcdH07XG5cblx0XHQvKiogQGlnbm9yZSAqL1xuXHRcdENsaWVudEltcGwucHJvdG90eXBlLl9yZWNlaXZlUHVibGlzaCA9IGZ1bmN0aW9uICh3aXJlTWVzc2FnZSkge1xuXHRcdFx0c3dpdGNoKHdpcmVNZXNzYWdlLnBheWxvYWRNZXNzYWdlLnFvcykge1xuXHRcdFx0Y2FzZSBcInVuZGVmaW5lZFwiOlxuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHR0aGlzLl9yZWNlaXZlTWVzc2FnZSh3aXJlTWVzc2FnZSk7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDE6XG5cdFx0XHRcdHZhciBwdWJBY2tNZXNzYWdlID0gbmV3IFdpcmVNZXNzYWdlKE1FU1NBR0VfVFlQRS5QVUJBQ0ssIHttZXNzYWdlSWRlbnRpZmllcjp3aXJlTWVzc2FnZS5tZXNzYWdlSWRlbnRpZmllcn0pO1xuXHRcdFx0XHR0aGlzLl9zY2hlZHVsZV9tZXNzYWdlKHB1YkFja01lc3NhZ2UpO1xuXHRcdFx0XHR0aGlzLl9yZWNlaXZlTWVzc2FnZSh3aXJlTWVzc2FnZSk7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdHRoaXMuX3JlY2VpdmVkTWVzc2FnZXNbd2lyZU1lc3NhZ2UubWVzc2FnZUlkZW50aWZpZXJdID0gd2lyZU1lc3NhZ2U7XG5cdFx0XHRcdHRoaXMuc3RvcmUoXCJSZWNlaXZlZDpcIiwgd2lyZU1lc3NhZ2UpO1xuXHRcdFx0XHR2YXIgcHViUmVjTWVzc2FnZSA9IG5ldyBXaXJlTWVzc2FnZShNRVNTQUdFX1RZUEUuUFVCUkVDLCB7bWVzc2FnZUlkZW50aWZpZXI6d2lyZU1lc3NhZ2UubWVzc2FnZUlkZW50aWZpZXJ9KTtcblx0XHRcdFx0dGhpcy5fc2NoZWR1bGVfbWVzc2FnZShwdWJSZWNNZXNzYWdlKTtcblxuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0dGhyb3cgRXJyb3IoXCJJbnZhaWxkIHFvcz1cIiArIHdpcmVNZXNzYWdlLnBheWxvYWRNZXNzYWdlLnFvcyk7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdC8qKiBAaWdub3JlICovXG5cdFx0Q2xpZW50SW1wbC5wcm90b3R5cGUuX3JlY2VpdmVNZXNzYWdlID0gZnVuY3Rpb24gKHdpcmVNZXNzYWdlKSB7XG5cdFx0XHRpZiAodGhpcy5vbk1lc3NhZ2VBcnJpdmVkKSB7XG5cdFx0XHRcdHRoaXMub25NZXNzYWdlQXJyaXZlZCh3aXJlTWVzc2FnZS5wYXlsb2FkTWVzc2FnZSk7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdC8qKlxuXHQgKiBDbGllbnQgaGFzIGNvbm5lY3RlZC5cblx0ICogQHBhcmFtIHtyZWNvbm5lY3R9IFtib29sZWFuXSBpbmRpY2F0ZSBpZiB0aGlzIHdhcyBhIHJlc3VsdCBvZiByZWNvbm5lY3Qgb3BlcmF0aW9uLlxuXHQgKiBAcGFyYW0ge3VyaX0gW3N0cmluZ10gZnVsbHkgcXVhbGlmaWVkIFdlYlNvY2tldCBVUkkgb2YgdGhlIHNlcnZlci5cblx0ICovXG5cdFx0Q2xpZW50SW1wbC5wcm90b3R5cGUuX2Nvbm5lY3RlZCA9IGZ1bmN0aW9uIChyZWNvbm5lY3QsIHVyaSkge1xuXHRcdC8vIEV4ZWN1dGUgdGhlIG9uQ29ubmVjdGVkIGNhbGxiYWNrIGlmIHRoZXJlIGlzIG9uZS5cblx0XHRcdGlmICh0aGlzLm9uQ29ubmVjdGVkKVxuXHRcdFx0XHR0aGlzLm9uQ29ubmVjdGVkKHJlY29ubmVjdCwgdXJpKTtcblx0XHR9O1xuXG5cdFx0LyoqXG5cdCAqIEF0dGVtcHRzIHRvIHJlY29ubmVjdCB0aGUgY2xpZW50IHRvIHRoZSBzZXJ2ZXIuXG4gICAqIEZvciBlYWNoIHJlY29ubmVjdCBhdHRlbXB0LCB3aWxsIGRvdWJsZSB0aGUgcmVjb25uZWN0IGludGVydmFsXG4gICAqIHVwIHRvIDEyOCBzZWNvbmRzLlxuXHQgKi9cblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5fcmVjb25uZWN0ID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0dGhpcy5fdHJhY2UoXCJDbGllbnQuX3JlY29ubmVjdFwiKTtcblx0XHRcdGlmICghdGhpcy5jb25uZWN0ZWQpIHtcblx0XHRcdFx0dGhpcy5fcmVjb25uZWN0aW5nID0gdHJ1ZTtcblx0XHRcdFx0dGhpcy5zZW5kUGluZ2VyLmNhbmNlbCgpO1xuXHRcdFx0XHR0aGlzLnJlY2VpdmVQaW5nZXIuY2FuY2VsKCk7XG5cdFx0XHRcdGlmICh0aGlzLl9yZWNvbm5lY3RJbnRlcnZhbCA8IDEyOClcblx0XHRcdFx0XHR0aGlzLl9yZWNvbm5lY3RJbnRlcnZhbCA9IHRoaXMuX3JlY29ubmVjdEludGVydmFsICogMjtcblx0XHRcdFx0aWYgKHRoaXMuY29ubmVjdE9wdGlvbnMudXJpcykge1xuXHRcdFx0XHRcdHRoaXMuaG9zdEluZGV4ID0gMDtcblx0XHRcdFx0XHR0aGlzLl9kb0Nvbm5lY3QodGhpcy5jb25uZWN0T3B0aW9ucy51cmlzWzBdKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0aGlzLl9kb0Nvbm5lY3QodGhpcy51cmkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdC8qKlxuXHQgKiBDbGllbnQgaGFzIGRpc2Nvbm5lY3RlZCBlaXRoZXIgYXQgaXRzIG93biByZXF1ZXN0IG9yIGJlY2F1c2UgdGhlIHNlcnZlclxuXHQgKiBvciBuZXR3b3JrIGRpc2Nvbm5lY3RlZCBpdC4gUmVtb3ZlIGFsbCBub24tZHVyYWJsZSBzdGF0ZS5cblx0ICogQHBhcmFtIHtlcnJvckNvZGV9IFtudW1iZXJdIHRoZSBlcnJvciBudW1iZXIuXG5cdCAqIEBwYXJhbSB7ZXJyb3JUZXh0fSBbc3RyaW5nXSB0aGUgZXJyb3IgdGV4dC5cblx0ICogQGlnbm9yZVxuXHQgKi9cblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5fZGlzY29ubmVjdGVkID0gZnVuY3Rpb24gKGVycm9yQ29kZSwgZXJyb3JUZXh0KSB7XG5cdFx0XHR0aGlzLl90cmFjZShcIkNsaWVudC5fZGlzY29ubmVjdGVkXCIsIGVycm9yQ29kZSwgZXJyb3JUZXh0KTtcblxuXHRcdFx0aWYgKGVycm9yQ29kZSAhPT0gdW5kZWZpbmVkICYmIHRoaXMuX3JlY29ubmVjdGluZykge1xuXHRcdFx0XHQvL0NvbnRpbnVlIGF1dG9tYXRpYyByZWNvbm5lY3QgcHJvY2Vzc1xuXHRcdFx0XHR0aGlzLl9yZWNvbm5lY3RUaW1lb3V0ID0gbmV3IFRpbWVvdXQodGhpcywgdGhpcy5fcmVjb25uZWN0SW50ZXJ2YWwsIHRoaXMuX3JlY29ubmVjdCk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5zZW5kUGluZ2VyLmNhbmNlbCgpO1xuXHRcdFx0dGhpcy5yZWNlaXZlUGluZ2VyLmNhbmNlbCgpO1xuXHRcdFx0aWYgKHRoaXMuX2Nvbm5lY3RUaW1lb3V0KSB7XG5cdFx0XHRcdHRoaXMuX2Nvbm5lY3RUaW1lb3V0LmNhbmNlbCgpO1xuXHRcdFx0XHR0aGlzLl9jb25uZWN0VGltZW91dCA9IG51bGw7XG5cdFx0XHR9XG5cblx0XHRcdC8vIENsZWFyIG1lc3NhZ2UgYnVmZmVycy5cblx0XHRcdHRoaXMuX21zZ19xdWV1ZSA9IFtdO1xuXHRcdFx0dGhpcy5fYnVmZmVyZWRfbXNnX3F1ZXVlID0gW107XG5cdFx0XHR0aGlzLl9ub3RpZnlfbXNnX3NlbnQgPSB7fTtcblxuXHRcdFx0aWYgKHRoaXMuc29ja2V0KSB7XG5cdFx0XHQvLyBDYW5jZWwgYWxsIHNvY2tldCBjYWxsYmFja3Mgc28gdGhhdCB0aGV5IGNhbm5vdCBiZSBkcml2ZW4gYWdhaW4gYnkgdGhpcyBzb2NrZXQuXG5cdFx0XHRcdHRoaXMuc29ja2V0Lm9ub3BlbiA9IG51bGw7XG5cdFx0XHRcdHRoaXMuc29ja2V0Lm9ubWVzc2FnZSA9IG51bGw7XG5cdFx0XHRcdHRoaXMuc29ja2V0Lm9uZXJyb3IgPSBudWxsO1xuXHRcdFx0XHR0aGlzLnNvY2tldC5vbmNsb3NlID0gbnVsbDtcblx0XHRcdFx0aWYgKHRoaXMuc29ja2V0LnJlYWR5U3RhdGUgPT09IDEpXG5cdFx0XHRcdFx0dGhpcy5zb2NrZXQuY2xvc2UoKTtcblx0XHRcdFx0ZGVsZXRlIHRoaXMuc29ja2V0O1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAodGhpcy5jb25uZWN0T3B0aW9ucy51cmlzICYmIHRoaXMuaG9zdEluZGV4IDwgdGhpcy5jb25uZWN0T3B0aW9ucy51cmlzLmxlbmd0aC0xKSB7XG5cdFx0XHQvLyBUcnkgdGhlIG5leHQgaG9zdC5cblx0XHRcdFx0dGhpcy5ob3N0SW5kZXgrKztcblx0XHRcdFx0dGhpcy5fZG9Db25uZWN0KHRoaXMuY29ubmVjdE9wdGlvbnMudXJpc1t0aGlzLmhvc3RJbmRleF0pO1xuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRpZiAoZXJyb3JDb2RlID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRlcnJvckNvZGUgPSBFUlJPUi5PSy5jb2RlO1xuXHRcdFx0XHRcdGVycm9yVGV4dCA9IGZvcm1hdChFUlJPUi5PSyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBSdW4gYW55IGFwcGxpY2F0aW9uIGNhbGxiYWNrcyBsYXN0IGFzIHRoZXkgbWF5IGF0dGVtcHQgdG8gcmVjb25uZWN0IGFuZCBoZW5jZSBjcmVhdGUgYSBuZXcgc29ja2V0LlxuXHRcdFx0XHRpZiAodGhpcy5jb25uZWN0ZWQpIHtcblx0XHRcdFx0XHR0aGlzLmNvbm5lY3RlZCA9IGZhbHNlO1xuXHRcdFx0XHRcdC8vIEV4ZWN1dGUgdGhlIGNvbm5lY3Rpb25Mb3N0Q2FsbGJhY2sgaWYgdGhlcmUgaXMgb25lLCBhbmQgd2Ugd2VyZSBjb25uZWN0ZWQuXG5cdFx0XHRcdFx0aWYgKHRoaXMub25Db25uZWN0aW9uTG9zdCkge1xuXHRcdFx0XHRcdFx0dGhpcy5vbkNvbm5lY3Rpb25Mb3N0KHtlcnJvckNvZGU6ZXJyb3JDb2RlLCBlcnJvck1lc3NhZ2U6ZXJyb3JUZXh0LCByZWNvbm5lY3Q6dGhpcy5jb25uZWN0T3B0aW9ucy5yZWNvbm5lY3QsIHVyaTp0aGlzLl93c3VyaX0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoZXJyb3JDb2RlICE9PSBFUlJPUi5PSy5jb2RlICYmIHRoaXMuY29ubmVjdE9wdGlvbnMucmVjb25uZWN0KSB7XG5cdFx0XHRcdFx0Ly8gU3RhcnQgYXV0b21hdGljIHJlY29ubmVjdCBwcm9jZXNzIGZvciB0aGUgdmVyeSBmaXJzdCB0aW1lIHNpbmNlIGxhc3Qgc3VjY2Vzc2Z1bCBjb25uZWN0LlxuXHRcdFx0XHRcdFx0dGhpcy5fcmVjb25uZWN0SW50ZXJ2YWwgPSAxO1xuXHRcdFx0XHRcdFx0dGhpcy5fcmVjb25uZWN0KCk7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBPdGhlcndpc2Ugd2UgbmV2ZXIgaGFkIGEgY29ubmVjdGlvbiwgc28gaW5kaWNhdGUgdGhhdCB0aGUgY29ubmVjdCBoYXMgZmFpbGVkLlxuXHRcdFx0XHRcdGlmICh0aGlzLmNvbm5lY3RPcHRpb25zLm1xdHRWZXJzaW9uID09PSA0ICYmIHRoaXMuY29ubmVjdE9wdGlvbnMubXF0dFZlcnNpb25FeHBsaWNpdCA9PT0gZmFsc2UpIHtcblx0XHRcdFx0XHRcdHRoaXMuX3RyYWNlKFwiRmFpbGVkIHRvIGNvbm5lY3QgVjQsIGRyb3BwaW5nIGJhY2sgdG8gVjNcIik7XG5cdFx0XHRcdFx0XHR0aGlzLmNvbm5lY3RPcHRpb25zLm1xdHRWZXJzaW9uID0gMztcblx0XHRcdFx0XHRcdGlmICh0aGlzLmNvbm5lY3RPcHRpb25zLnVyaXMpIHtcblx0XHRcdFx0XHRcdFx0dGhpcy5ob3N0SW5kZXggPSAwO1xuXHRcdFx0XHRcdFx0XHR0aGlzLl9kb0Nvbm5lY3QodGhpcy5jb25uZWN0T3B0aW9ucy51cmlzWzBdKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHRoaXMuX2RvQ29ubmVjdCh0aGlzLnVyaSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBlbHNlIGlmKHRoaXMuY29ubmVjdE9wdGlvbnMub25GYWlsdXJlKSB7XG5cdFx0XHRcdFx0XHR0aGlzLmNvbm5lY3RPcHRpb25zLm9uRmFpbHVyZSh7aW52b2NhdGlvbkNvbnRleHQ6dGhpcy5jb25uZWN0T3B0aW9ucy5pbnZvY2F0aW9uQ29udGV4dCwgZXJyb3JDb2RlOmVycm9yQ29kZSwgZXJyb3JNZXNzYWdlOmVycm9yVGV4dH0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cblx0XHQvKiogQGlnbm9yZSAqL1xuXHRcdENsaWVudEltcGwucHJvdG90eXBlLl90cmFjZSA9IGZ1bmN0aW9uICgpIHtcblx0XHQvLyBQYXNzIHRyYWNlIG1lc3NhZ2UgYmFjayB0byBjbGllbnQncyBjYWxsYmFjayBmdW5jdGlvblxuXHRcdFx0aWYgKHRoaXMudHJhY2VGdW5jdGlvbikge1xuXHRcdFx0XHR2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG5cdFx0XHRcdGZvciAodmFyIGkgaW4gYXJncylcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGlmICh0eXBlb2YgYXJnc1tpXSAhPT0gXCJ1bmRlZmluZWRcIilcblx0XHRcdFx0XHRcdGFyZ3Muc3BsaWNlKGksIDEsIEpTT04uc3RyaW5naWZ5KGFyZ3NbaV0pKTtcblx0XHRcdFx0fVxuXHRcdFx0XHR2YXIgcmVjb3JkID0gYXJncy5qb2luKFwiXCIpO1xuXHRcdFx0XHR0aGlzLnRyYWNlRnVuY3Rpb24gKHtzZXZlcml0eTogXCJEZWJ1Z1wiLCBtZXNzYWdlOiByZWNvcmRcdH0pO1xuXHRcdFx0fVxuXG5cdFx0XHQvL2J1ZmZlciBzdHlsZSB0cmFjZVxuXHRcdFx0aWYgKCB0aGlzLl90cmFjZUJ1ZmZlciAhPT0gbnVsbCApIHtcblx0XHRcdFx0Zm9yICh2YXIgaSA9IDAsIG1heCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBtYXg7IGkrKykge1xuXHRcdFx0XHRcdGlmICggdGhpcy5fdHJhY2VCdWZmZXIubGVuZ3RoID09IHRoaXMuX01BWF9UUkFDRV9FTlRSSUVTICkge1xuXHRcdFx0XHRcdFx0dGhpcy5fdHJhY2VCdWZmZXIuc2hpZnQoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKGkgPT09IDApIHRoaXMuX3RyYWNlQnVmZmVyLnB1c2goYXJndW1lbnRzW2ldKTtcblx0XHRcdFx0XHRlbHNlIGlmICh0eXBlb2YgYXJndW1lbnRzW2ldID09PSBcInVuZGVmaW5lZFwiICkgdGhpcy5fdHJhY2VCdWZmZXIucHVzaChhcmd1bWVudHNbaV0pO1xuXHRcdFx0XHRcdGVsc2UgdGhpcy5fdHJhY2VCdWZmZXIucHVzaChcIiAgXCIrSlNPTi5zdHJpbmdpZnkoYXJndW1lbnRzW2ldKSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0LyoqIEBpZ25vcmUgKi9cblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5fdHJhY2VNYXNrID0gZnVuY3Rpb24gKHRyYWNlT2JqZWN0LCBtYXNrZWQpIHtcblx0XHRcdHZhciB0cmFjZU9iamVjdE1hc2tlZCA9IHt9O1xuXHRcdFx0Zm9yICh2YXIgYXR0ciBpbiB0cmFjZU9iamVjdCkge1xuXHRcdFx0XHRpZiAodHJhY2VPYmplY3QuaGFzT3duUHJvcGVydHkoYXR0cikpIHtcblx0XHRcdFx0XHRpZiAoYXR0ciA9PSBtYXNrZWQpXG5cdFx0XHRcdFx0XHR0cmFjZU9iamVjdE1hc2tlZFthdHRyXSA9IFwiKioqKioqXCI7XG5cdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0dHJhY2VPYmplY3RNYXNrZWRbYXR0cl0gPSB0cmFjZU9iamVjdFthdHRyXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRyYWNlT2JqZWN0TWFza2VkO1xuXHRcdH07XG5cblx0XHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblx0XHQvLyBQdWJsaWMgUHJvZ3JhbW1pbmcgaW50ZXJmYWNlLlxuXHRcdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5cdFx0LyoqXG5cdCAqIFRoZSBKYXZhU2NyaXB0IGFwcGxpY2F0aW9uIGNvbW11bmljYXRlcyB0byB0aGUgc2VydmVyIHVzaW5nIGEge0BsaW5rIFBhaG8uQ2xpZW50fSBvYmplY3QuXG5cdCAqIDxwPlxuXHQgKiBNb3N0IGFwcGxpY2F0aW9ucyB3aWxsIGNyZWF0ZSBqdXN0IG9uZSBDbGllbnQgb2JqZWN0IGFuZCB0aGVuIGNhbGwgaXRzIGNvbm5lY3QoKSBtZXRob2QsXG5cdCAqIGhvd2V2ZXIgYXBwbGljYXRpb25zIGNhbiBjcmVhdGUgbW9yZSB0aGFuIG9uZSBDbGllbnQgb2JqZWN0IGlmIHRoZXkgd2lzaC5cblx0ICogSW4gdGhpcyBjYXNlIHRoZSBjb21iaW5hdGlvbiBvZiBob3N0LCBwb3J0IGFuZCBjbGllbnRJZCBhdHRyaWJ1dGVzIG11c3QgYmUgZGlmZmVyZW50IGZvciBlYWNoIENsaWVudCBvYmplY3QuXG5cdCAqIDxwPlxuXHQgKiBUaGUgc2VuZCwgc3Vic2NyaWJlIGFuZCB1bnN1YnNjcmliZSBtZXRob2RzIGFyZSBpbXBsZW1lbnRlZCBhcyBhc3luY2hyb25vdXMgSmF2YVNjcmlwdCBtZXRob2RzXG5cdCAqIChldmVuIHRob3VnaCB0aGUgdW5kZXJseWluZyBwcm90b2NvbCBleGNoYW5nZSBtaWdodCBiZSBzeW5jaHJvbm91cyBpbiBuYXR1cmUpLlxuXHQgKiBUaGlzIG1lYW5zIHRoZXkgc2lnbmFsIHRoZWlyIGNvbXBsZXRpb24gYnkgY2FsbGluZyBiYWNrIHRvIHRoZSBhcHBsaWNhdGlvbixcblx0ICogdmlhIFN1Y2Nlc3Mgb3IgRmFpbHVyZSBjYWxsYmFjayBmdW5jdGlvbnMgcHJvdmlkZWQgYnkgdGhlIGFwcGxpY2F0aW9uIG9uIHRoZSBtZXRob2QgaW4gcXVlc3Rpb24uXG5cdCAqIFN1Y2ggY2FsbGJhY2tzIGFyZSBjYWxsZWQgYXQgbW9zdCBvbmNlIHBlciBtZXRob2QgaW52b2NhdGlvbiBhbmQgZG8gbm90IHBlcnNpc3QgYmV5b25kIHRoZSBsaWZldGltZVxuXHQgKiBvZiB0aGUgc2NyaXB0IHRoYXQgbWFkZSB0aGUgaW52b2NhdGlvbi5cblx0ICogPHA+XG5cdCAqIEluIGNvbnRyYXN0IHRoZXJlIGFyZSBzb21lIGNhbGxiYWNrIGZ1bmN0aW9ucywgbW9zdCBub3RhYmx5IDxpPm9uTWVzc2FnZUFycml2ZWQ8L2k+LFxuXHQgKiB0aGF0IGFyZSBkZWZpbmVkIG9uIHRoZSB7QGxpbmsgUGFoby5DbGllbnR9IG9iamVjdC5cblx0ICogVGhlc2UgbWF5IGdldCBjYWxsZWQgbXVsdGlwbGUgdGltZXMsIGFuZCBhcmVuJ3QgZGlyZWN0bHkgcmVsYXRlZCB0byBzcGVjaWZpYyBtZXRob2QgaW52b2NhdGlvbnMgbWFkZSBieSB0aGUgY2xpZW50LlxuXHQgKlxuXHQgKiBAbmFtZSBQYWhvLkNsaWVudFxuXHQgKlxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICpcblx0ICogQHBhcmFtIHtzdHJpbmd9IGhvc3QgLSB0aGUgYWRkcmVzcyBvZiB0aGUgbWVzc2FnaW5nIHNlcnZlciwgYXMgYSBmdWxseSBxdWFsaWZpZWQgV2ViU29ja2V0IFVSSSwgYXMgYSBETlMgbmFtZSBvciBkb3R0ZWQgZGVjaW1hbCBJUCBhZGRyZXNzLlxuXHQgKiBAcGFyYW0ge251bWJlcn0gcG9ydCAtIHRoZSBwb3J0IG51bWJlciB0byBjb25uZWN0IHRvIC0gb25seSByZXF1aXJlZCBpZiBob3N0IGlzIG5vdCBhIFVSSVxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIHRoZSBwYXRoIG9uIHRoZSBob3N0IHRvIGNvbm5lY3QgdG8gLSBvbmx5IHVzZWQgaWYgaG9zdCBpcyBub3QgYSBVUkkuIERlZmF1bHQ6ICcvbXF0dCcuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBjbGllbnRJZCAtIHRoZSBNZXNzYWdpbmcgY2xpZW50IGlkZW50aWZpZXIsIGJldHdlZW4gMSBhbmQgMjMgY2hhcmFjdGVycyBpbiBsZW5ndGguXG5cdCAqXG5cdCAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBob3N0IC0gPGk+cmVhZCBvbmx5PC9pPiB0aGUgc2VydmVyJ3MgRE5TIGhvc3RuYW1lIG9yIGRvdHRlZCBkZWNpbWFsIElQIGFkZHJlc3MuXG5cdCAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBwb3J0IC0gPGk+cmVhZCBvbmx5PC9pPiB0aGUgc2VydmVyJ3MgcG9ydC5cblx0ICogQHByb3BlcnR5IHtzdHJpbmd9IHBhdGggLSA8aT5yZWFkIG9ubHk8L2k+IHRoZSBzZXJ2ZXIncyBwYXRoLlxuXHQgKiBAcHJvcGVydHkge3N0cmluZ30gY2xpZW50SWQgLSA8aT5yZWFkIG9ubHk8L2k+IHVzZWQgd2hlbiBjb25uZWN0aW5nIHRvIHRoZSBzZXJ2ZXIuXG5cdCAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb259IG9uQ29ubmVjdGlvbkxvc3QgLSBjYWxsZWQgd2hlbiBhIGNvbm5lY3Rpb24gaGFzIGJlZW4gbG9zdC5cblx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWZ0ZXIgYSBjb25uZWN0KCkgbWV0aG9kIGhhcyBzdWNjZWVkZWQuXG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVzdGFibGlzaCB0aGUgY2FsbCBiYWNrIHVzZWQgd2hlbiBhIGNvbm5lY3Rpb24gaGFzIGJlZW4gbG9zdC4gVGhlIGNvbm5lY3Rpb24gbWF5IGJlXG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvc3QgYmVjYXVzZSB0aGUgY2xpZW50IGluaXRpYXRlcyBhIGRpc2Nvbm5lY3Qgb3IgYmVjYXVzZSB0aGUgc2VydmVyIG9yIG5ldHdvcmtcblx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F1c2UgdGhlIGNsaWVudCB0byBiZSBkaXNjb25uZWN0ZWQuIFRoZSBkaXNjb25uZWN0IGNhbGwgYmFjayBtYXkgYmUgY2FsbGVkIHdpdGhvdXRcblx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlIGNvbm5lY3Rpb25Db21wbGV0ZSBjYWxsIGJhY2sgYmVpbmcgaW52b2tlZCBpZiwgZm9yIGV4YW1wbGUgdGhlIGNsaWVudCBmYWlscyB0b1xuXHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25uZWN0LlxuXHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBIHNpbmdsZSByZXNwb25zZSBvYmplY3QgcGFyYW1ldGVyIGlzIHBhc3NlZCB0byB0aGUgb25Db25uZWN0aW9uTG9zdCBjYWxsYmFjayBjb250YWluaW5nIHRoZSBmb2xsb3dpbmcgZmllbGRzOlxuXHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b2w+XG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT5lcnJvckNvZGVcblx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPmVycm9yTWVzc2FnZVxuXHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L29sPlxuXHQgKiBAcHJvcGVydHkge2Z1bmN0aW9ufSBvbk1lc3NhZ2VEZWxpdmVyZWQgLSBjYWxsZWQgd2hlbiBhIG1lc3NhZ2UgaGFzIGJlZW4gZGVsaXZlcmVkLlxuXHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGwgcHJvY2Vzc2luZyB0aGF0IHRoaXMgQ2xpZW50IHdpbGwgZXZlciBkbyBoYXMgYmVlbiBjb21wbGV0ZWQuIFNvLCBmb3IgZXhhbXBsZSxcblx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW4gdGhlIGNhc2Ugb2YgYSBRb3M9MiBtZXNzYWdlIHNlbnQgYnkgdGhpcyBjbGllbnQsIHRoZSBQdWJDb21wIGZsb3cgaGFzIGJlZW4gcmVjZWl2ZWQgZnJvbSB0aGUgc2VydmVyXG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZCB0aGUgbWVzc2FnZSBoYXMgYmVlbiByZW1vdmVkIGZyb20gcGVyc2lzdGVudCBzdG9yYWdlIGJlZm9yZSB0aGlzIGNhbGxiYWNrIGlzIGludm9rZWQuXG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhcmFtZXRlcnMgcGFzc2VkIHRvIHRoZSBvbk1lc3NhZ2VEZWxpdmVyZWQgY2FsbGJhY2sgYXJlOlxuXHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b2w+XG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT57QGxpbmsgUGFoby5NZXNzYWdlfSB0aGF0IHdhcyBkZWxpdmVyZWQuXG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvb2w+XG5cdCAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb259IG9uTWVzc2FnZUFycml2ZWQgLSBjYWxsZWQgd2hlbiBhIG1lc3NhZ2UgaGFzIGFycml2ZWQgaW4gdGhpcyBQYWhvLmNsaWVudC5cblx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgUGFyYW1ldGVycyBwYXNzZWQgdG8gdGhlIG9uTWVzc2FnZUFycml2ZWQgY2FsbGJhY2sgYXJlOlxuXHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b2w+XG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT57QGxpbmsgUGFoby5NZXNzYWdlfSB0aGF0IGhhcyBhcnJpdmVkLlxuXHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L29sPlxuXHQgKiBAcHJvcGVydHkge2Z1bmN0aW9ufSBvbkNvbm5lY3RlZCAtIGNhbGxlZCB3aGVuIGEgY29ubmVjdGlvbiBpcyBzdWNjZXNzZnVsbHkgbWFkZSB0byB0aGUgc2VydmVyLlxuXHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZnRlciBhIGNvbm5lY3QoKSBtZXRob2QuXG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhcmFtZXRlcnMgcGFzc2VkIHRvIHRoZSBvbkNvbm5lY3RlZCBjYWxsYmFjayBhcmU6XG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvbD5cblx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPnJlY29ubmVjdCAoYm9vbGVhbikgLSBJZiB0cnVlLCB0aGUgY29ubmVjdGlvbiB3YXMgdGhlIHJlc3VsdCBvZiBhIHJlY29ubmVjdC48L2xpPlxuXHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+VVJJIChzdHJpbmcpIC0gVGhlIFVSSSB1c2VkIHRvIGNvbm5lY3QgdG8gdGhlIHNlcnZlci48L2xpPlxuXHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L29sPlxuXHQgKiBAcHJvcGVydHkge2Jvb2xlYW59IGRpc2Nvbm5lY3RlZFB1Ymxpc2hpbmcgLSBpZiBzZXQsIHdpbGwgZW5hYmxlIGRpc2Nvbm5lY3RlZCBwdWJsaXNoaW5nIGluXG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbiB0aGUgZXZlbnQgdGhhdCB0aGUgY29ubmVjdGlvbiB0byB0aGUgc2VydmVyIGlzIGxvc3QuXG5cdCAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkaXNjb25uZWN0ZWRCdWZmZXJTaXplIC0gVXNlZCB0byBzZXQgdGhlIG1heGltdW0gbnVtYmVyIG9mIG1lc3NhZ2VzIHRoYXQgdGhlIGRpc2Nvbm5lY3RlZFxuXHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1ZmZlciB3aWxsIGhvbGQgYmVmb3JlIHJlamVjdGluZyBuZXcgbWVzc2FnZXMuIERlZmF1bHQgc2l6ZTogNTAwMCBtZXNzYWdlc1xuXHQgKiBAcHJvcGVydHkge2Z1bmN0aW9ufSB0cmFjZSAtIGNhbGxlZCB3aGVuZXZlciB0cmFjZSBpcyBjYWxsZWQuIFRPRE9cblx0ICovXG5cdFx0dmFyIENsaWVudCA9IGZ1bmN0aW9uIChob3N0LCBwb3J0LCBwYXRoLCBjbGllbnRJZCkge1xuXG5cdFx0XHR2YXIgdXJpO1xuXG5cdFx0XHRpZiAodHlwZW9mIGhvc3QgIT09IFwic3RyaW5nXCIpXG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihmb3JtYXQoRVJST1IuSU5WQUxJRF9UWVBFLCBbdHlwZW9mIGhvc3QsIFwiaG9zdFwiXSkpO1xuXG5cdFx0XHRpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAyKSB7XG5cdFx0XHQvLyBob3N0OiBtdXN0IGJlIGZ1bGwgd3M6Ly8gdXJpXG5cdFx0XHQvLyBwb3J0OiBjbGllbnRJZFxuXHRcdFx0XHRjbGllbnRJZCA9IHBvcnQ7XG5cdFx0XHRcdHVyaSA9IGhvc3Q7XG5cdFx0XHRcdHZhciBtYXRjaCA9IHVyaS5tYXRjaCgvXih3c3M/KTpcXC9cXC8oKFxcWyguKylcXF0pfChbXlxcL10rPykpKDooXFxkKykpPyhcXC8uKikkLyk7XG5cdFx0XHRcdGlmIChtYXRjaCkge1xuXHRcdFx0XHRcdGhvc3QgPSBtYXRjaFs0XXx8bWF0Y2hbMl07XG5cdFx0XHRcdFx0cG9ydCA9IHBhcnNlSW50KG1hdGNoWzddKTtcblx0XHRcdFx0XHRwYXRoID0gbWF0Y2hbOF07XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGZvcm1hdChFUlJPUi5JTlZBTElEX0FSR1VNRU5ULFtob3N0LFwiaG9zdFwiXSkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAzKSB7XG5cdFx0XHRcdFx0Y2xpZW50SWQgPSBwYXRoO1xuXHRcdFx0XHRcdHBhdGggPSBcIi9tcXR0XCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHR5cGVvZiBwb3J0ICE9PSBcIm51bWJlclwiIHx8IHBvcnQgPCAwKVxuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihmb3JtYXQoRVJST1IuSU5WQUxJRF9UWVBFLCBbdHlwZW9mIHBvcnQsIFwicG9ydFwiXSkpO1xuXHRcdFx0XHRpZiAodHlwZW9mIHBhdGggIT09IFwic3RyaW5nXCIpXG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGZvcm1hdChFUlJPUi5JTlZBTElEX1RZUEUsIFt0eXBlb2YgcGF0aCwgXCJwYXRoXCJdKSk7XG5cblx0XHRcdFx0dmFyIGlwdjZBZGRTQnJhY2tldCA9IChob3N0LmluZGV4T2YoXCI6XCIpICE9PSAtMSAmJiBob3N0LnNsaWNlKDAsMSkgIT09IFwiW1wiICYmIGhvc3Quc2xpY2UoLTEpICE9PSBcIl1cIik7XG5cdFx0XHRcdHVyaSA9IFwid3M6Ly9cIisoaXB2NkFkZFNCcmFja2V0P1wiW1wiK2hvc3QrXCJdXCI6aG9zdCkrXCI6XCIrcG9ydCtwYXRoO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgY2xpZW50SWRMZW5ndGggPSAwO1xuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGk8Y2xpZW50SWQubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0dmFyIGNoYXJDb2RlID0gY2xpZW50SWQuY2hhckNvZGVBdChpKTtcblx0XHRcdFx0aWYgKDB4RDgwMCA8PSBjaGFyQ29kZSAmJiBjaGFyQ29kZSA8PSAweERCRkYpICB7XG5cdFx0XHRcdFx0aSsrOyAvLyBTdXJyb2dhdGUgcGFpci5cblx0XHRcdFx0fVxuXHRcdFx0XHRjbGllbnRJZExlbmd0aCsrO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHR5cGVvZiBjbGllbnRJZCAhPT0gXCJzdHJpbmdcIiB8fCBjbGllbnRJZExlbmd0aCA+IDY1NTM1KVxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLklOVkFMSURfQVJHVU1FTlQsIFtjbGllbnRJZCwgXCJjbGllbnRJZFwiXSkpO1xuXG5cdFx0XHR2YXIgY2xpZW50ID0gbmV3IENsaWVudEltcGwodXJpLCBob3N0LCBwb3J0LCBwYXRoLCBjbGllbnRJZCk7XG5cblx0XHRcdC8vUHVibGljIFByb3BlcnRpZXNcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMse1xuXHRcdFx0XHRcImhvc3RcIjp7XG5cdFx0XHRcdFx0Z2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIGhvc3Q7IH0sXG5cdFx0XHRcdFx0c2V0OiBmdW5jdGlvbigpIHsgdGhyb3cgbmV3IEVycm9yKGZvcm1hdChFUlJPUi5VTlNVUFBPUlRFRF9PUEVSQVRJT04pKTsgfVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRcInBvcnRcIjp7XG5cdFx0XHRcdFx0Z2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHBvcnQ7IH0sXG5cdFx0XHRcdFx0c2V0OiBmdW5jdGlvbigpIHsgdGhyb3cgbmV3IEVycm9yKGZvcm1hdChFUlJPUi5VTlNVUFBPUlRFRF9PUEVSQVRJT04pKTsgfVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRcInBhdGhcIjp7XG5cdFx0XHRcdFx0Z2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHBhdGg7IH0sXG5cdFx0XHRcdFx0c2V0OiBmdW5jdGlvbigpIHsgdGhyb3cgbmV3IEVycm9yKGZvcm1hdChFUlJPUi5VTlNVUFBPUlRFRF9PUEVSQVRJT04pKTsgfVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRcInVyaVwiOntcblx0XHRcdFx0XHRnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdXJpOyB9LFxuXHRcdFx0XHRcdHNldDogZnVuY3Rpb24oKSB7IHRocm93IG5ldyBFcnJvcihmb3JtYXQoRVJST1IuVU5TVVBQT1JURURfT1BFUkFUSU9OKSk7IH1cblx0XHRcdFx0fSxcblx0XHRcdFx0XCJjbGllbnRJZFwiOntcblx0XHRcdFx0XHRnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gY2xpZW50LmNsaWVudElkOyB9LFxuXHRcdFx0XHRcdHNldDogZnVuY3Rpb24oKSB7IHRocm93IG5ldyBFcnJvcihmb3JtYXQoRVJST1IuVU5TVVBQT1JURURfT1BFUkFUSU9OKSk7IH1cblx0XHRcdFx0fSxcblx0XHRcdFx0XCJvbkNvbm5lY3RlZFwiOntcblx0XHRcdFx0XHRnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gY2xpZW50Lm9uQ29ubmVjdGVkOyB9LFxuXHRcdFx0XHRcdHNldDogZnVuY3Rpb24obmV3T25Db25uZWN0ZWQpIHtcblx0XHRcdFx0XHRcdGlmICh0eXBlb2YgbmV3T25Db25uZWN0ZWQgPT09IFwiZnVuY3Rpb25cIilcblx0XHRcdFx0XHRcdFx0Y2xpZW50Lm9uQ29ubmVjdGVkID0gbmV3T25Db25uZWN0ZWQ7XG5cdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihmb3JtYXQoRVJST1IuSU5WQUxJRF9UWVBFLCBbdHlwZW9mIG5ld09uQ29ubmVjdGVkLCBcIm9uQ29ubmVjdGVkXCJdKSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRcImRpc2Nvbm5lY3RlZFB1Ymxpc2hpbmdcIjp7XG5cdFx0XHRcdFx0Z2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIGNsaWVudC5kaXNjb25uZWN0ZWRQdWJsaXNoaW5nOyB9LFxuXHRcdFx0XHRcdHNldDogZnVuY3Rpb24obmV3RGlzY29ubmVjdGVkUHVibGlzaGluZykge1xuXHRcdFx0XHRcdFx0Y2xpZW50LmRpc2Nvbm5lY3RlZFB1Ymxpc2hpbmcgPSBuZXdEaXNjb25uZWN0ZWRQdWJsaXNoaW5nO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0XCJkaXNjb25uZWN0ZWRCdWZmZXJTaXplXCI6e1xuXHRcdFx0XHRcdGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBjbGllbnQuZGlzY29ubmVjdGVkQnVmZmVyU2l6ZTsgfSxcblx0XHRcdFx0XHRzZXQ6IGZ1bmN0aW9uKG5ld0Rpc2Nvbm5lY3RlZEJ1ZmZlclNpemUpIHtcblx0XHRcdFx0XHRcdGNsaWVudC5kaXNjb25uZWN0ZWRCdWZmZXJTaXplID0gbmV3RGlzY29ubmVjdGVkQnVmZmVyU2l6ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdFwib25Db25uZWN0aW9uTG9zdFwiOntcblx0XHRcdFx0XHRnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gY2xpZW50Lm9uQ29ubmVjdGlvbkxvc3Q7IH0sXG5cdFx0XHRcdFx0c2V0OiBmdW5jdGlvbihuZXdPbkNvbm5lY3Rpb25Mb3N0KSB7XG5cdFx0XHRcdFx0XHRpZiAodHlwZW9mIG5ld09uQ29ubmVjdGlvbkxvc3QgPT09IFwiZnVuY3Rpb25cIilcblx0XHRcdFx0XHRcdFx0Y2xpZW50Lm9uQ29ubmVjdGlvbkxvc3QgPSBuZXdPbkNvbm5lY3Rpb25Mb3N0O1xuXHRcdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLklOVkFMSURfVFlQRSwgW3R5cGVvZiBuZXdPbkNvbm5lY3Rpb25Mb3N0LCBcIm9uQ29ubmVjdGlvbkxvc3RcIl0pKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdFwib25NZXNzYWdlRGVsaXZlcmVkXCI6e1xuXHRcdFx0XHRcdGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBjbGllbnQub25NZXNzYWdlRGVsaXZlcmVkOyB9LFxuXHRcdFx0XHRcdHNldDogZnVuY3Rpb24obmV3T25NZXNzYWdlRGVsaXZlcmVkKSB7XG5cdFx0XHRcdFx0XHRpZiAodHlwZW9mIG5ld09uTWVzc2FnZURlbGl2ZXJlZCA9PT0gXCJmdW5jdGlvblwiKVxuXHRcdFx0XHRcdFx0XHRjbGllbnQub25NZXNzYWdlRGVsaXZlcmVkID0gbmV3T25NZXNzYWdlRGVsaXZlcmVkO1xuXHRcdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLklOVkFMSURfVFlQRSwgW3R5cGVvZiBuZXdPbk1lc3NhZ2VEZWxpdmVyZWQsIFwib25NZXNzYWdlRGVsaXZlcmVkXCJdKSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRcIm9uTWVzc2FnZUFycml2ZWRcIjp7XG5cdFx0XHRcdFx0Z2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIGNsaWVudC5vbk1lc3NhZ2VBcnJpdmVkOyB9LFxuXHRcdFx0XHRcdHNldDogZnVuY3Rpb24obmV3T25NZXNzYWdlQXJyaXZlZCkge1xuXHRcdFx0XHRcdFx0aWYgKHR5cGVvZiBuZXdPbk1lc3NhZ2VBcnJpdmVkID09PSBcImZ1bmN0aW9uXCIpXG5cdFx0XHRcdFx0XHRcdGNsaWVudC5vbk1lc3NhZ2VBcnJpdmVkID0gbmV3T25NZXNzYWdlQXJyaXZlZDtcblx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGZvcm1hdChFUlJPUi5JTlZBTElEX1RZUEUsIFt0eXBlb2YgbmV3T25NZXNzYWdlQXJyaXZlZCwgXCJvbk1lc3NhZ2VBcnJpdmVkXCJdKSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRcInRyYWNlXCI6e1xuXHRcdFx0XHRcdGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBjbGllbnQudHJhY2VGdW5jdGlvbjsgfSxcblx0XHRcdFx0XHRzZXQ6IGZ1bmN0aW9uKHRyYWNlKSB7XG5cdFx0XHRcdFx0XHRpZih0eXBlb2YgdHJhY2UgPT09IFwiZnVuY3Rpb25cIil7XG5cdFx0XHRcdFx0XHRcdGNsaWVudC50cmFjZUZ1bmN0aW9uID0gdHJhY2U7XG5cdFx0XHRcdFx0XHR9ZWxzZXtcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGZvcm1hdChFUlJPUi5JTlZBTElEX1RZUEUsIFt0eXBlb2YgdHJhY2UsIFwib25UcmFjZVwiXSkpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdH0pO1xuXG5cdFx0XHQvKipcblx0XHQgKiBDb25uZWN0IHRoaXMgTWVzc2FnaW5nIGNsaWVudCB0byBpdHMgc2VydmVyLlxuXHRcdCAqXG5cdFx0ICogQG5hbWUgUGFoby5DbGllbnQjY29ubmVjdFxuXHRcdCAqIEBmdW5jdGlvblxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSBjb25uZWN0T3B0aW9ucyAtIEF0dHJpYnV0ZXMgdXNlZCB3aXRoIHRoZSBjb25uZWN0aW9uLlxuXHRcdCAqIEBwYXJhbSB7bnVtYmVyfSBjb25uZWN0T3B0aW9ucy50aW1lb3V0IC0gSWYgdGhlIGNvbm5lY3QgaGFzIG5vdCBzdWNjZWVkZWQgd2l0aGluIHRoaXNcblx0XHQgKiAgICAgICAgICAgICAgICAgICAgbnVtYmVyIG9mIHNlY29uZHMsIGl0IGlzIGRlZW1lZCB0byBoYXZlIGZhaWxlZC5cblx0XHQgKiAgICAgICAgICAgICAgICAgICAgVGhlIGRlZmF1bHQgaXMgMzAgc2Vjb25kcy5cblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gY29ubmVjdE9wdGlvbnMudXNlck5hbWUgLSBBdXRoZW50aWNhdGlvbiB1c2VybmFtZSBmb3IgdGhpcyBjb25uZWN0aW9uLlxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBjb25uZWN0T3B0aW9ucy5wYXNzd29yZCAtIEF1dGhlbnRpY2F0aW9uIHBhc3N3b3JkIGZvciB0aGlzIGNvbm5lY3Rpb24uXG5cdFx0ICogQHBhcmFtIHtQYWhvLk1lc3NhZ2V9IGNvbm5lY3RPcHRpb25zLndpbGxNZXNzYWdlIC0gc2VudCBieSB0aGUgc2VydmVyIHdoZW4gdGhlIGNsaWVudFxuXHRcdCAqICAgICAgICAgICAgICAgICAgICBkaXNjb25uZWN0cyBhYm5vcm1hbGx5LlxuXHRcdCAqIEBwYXJhbSB7bnVtYmVyfSBjb25uZWN0T3B0aW9ucy5rZWVwQWxpdmVJbnRlcnZhbCAtIHRoZSBzZXJ2ZXIgZGlzY29ubmVjdHMgdGhpcyBjbGllbnQgaWZcblx0XHQgKiAgICAgICAgICAgICAgICAgICAgdGhlcmUgaXMgbm8gYWN0aXZpdHkgZm9yIHRoaXMgbnVtYmVyIG9mIHNlY29uZHMuXG5cdFx0ICogICAgICAgICAgICAgICAgICAgIFRoZSBkZWZhdWx0IHZhbHVlIG9mIDYwIHNlY29uZHMgaXMgYXNzdW1lZCBpZiBub3Qgc2V0LlxuXHRcdCAqIEBwYXJhbSB7Ym9vbGVhbn0gY29ubmVjdE9wdGlvbnMuY2xlYW5TZXNzaW9uIC0gaWYgdHJ1ZShkZWZhdWx0KSB0aGUgY2xpZW50IGFuZCBzZXJ2ZXJcblx0XHQgKiAgICAgICAgICAgICAgICAgICAgcGVyc2lzdGVudCBzdGF0ZSBpcyBkZWxldGVkIG9uIHN1Y2Nlc3NmdWwgY29ubmVjdC5cblx0XHQgKiBAcGFyYW0ge2Jvb2xlYW59IGNvbm5lY3RPcHRpb25zLnVzZVNTTCAtIGlmIHByZXNlbnQgYW5kIHRydWUsIHVzZSBhbiBTU0wgV2Vic29ja2V0IGNvbm5lY3Rpb24uXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IGNvbm5lY3RPcHRpb25zLmludm9jYXRpb25Db250ZXh0IC0gcGFzc2VkIHRvIHRoZSBvblN1Y2Nlc3MgY2FsbGJhY2sgb3Igb25GYWlsdXJlIGNhbGxiYWNrLlxuXHRcdCAqIEBwYXJhbSB7ZnVuY3Rpb259IGNvbm5lY3RPcHRpb25zLm9uU3VjY2VzcyAtIGNhbGxlZCB3aGVuIHRoZSBjb25uZWN0IGFja25vd2xlZGdlbWVudFxuXHRcdCAqICAgICAgICAgICAgICAgICAgICBoYXMgYmVlbiByZWNlaXZlZCBmcm9tIHRoZSBzZXJ2ZXIuXG5cdFx0ICogQSBzaW5nbGUgcmVzcG9uc2Ugb2JqZWN0IHBhcmFtZXRlciBpcyBwYXNzZWQgdG8gdGhlIG9uU3VjY2VzcyBjYWxsYmFjayBjb250YWluaW5nIHRoZSBmb2xsb3dpbmcgZmllbGRzOlxuXHRcdCAqIDxvbD5cblx0XHQgKiA8bGk+aW52b2NhdGlvbkNvbnRleHQgYXMgcGFzc2VkIGluIHRvIHRoZSBvblN1Y2Nlc3MgbWV0aG9kIGluIHRoZSBjb25uZWN0T3B0aW9ucy5cblx0XHQgKiA8L29sPlxuXHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjb25uZWN0T3B0aW9ucy5vbkZhaWx1cmUgLSBjYWxsZWQgd2hlbiB0aGUgY29ubmVjdCByZXF1ZXN0IGhhcyBmYWlsZWQgb3IgdGltZWQgb3V0LlxuXHRcdCAqIEEgc2luZ2xlIHJlc3BvbnNlIG9iamVjdCBwYXJhbWV0ZXIgaXMgcGFzc2VkIHRvIHRoZSBvbkZhaWx1cmUgY2FsbGJhY2sgY29udGFpbmluZyB0aGUgZm9sbG93aW5nIGZpZWxkczpcblx0XHQgKiA8b2w+XG5cdFx0ICogPGxpPmludm9jYXRpb25Db250ZXh0IGFzIHBhc3NlZCBpbiB0byB0aGUgb25GYWlsdXJlIG1ldGhvZCBpbiB0aGUgY29ubmVjdE9wdGlvbnMuXG5cdFx0ICogPGxpPmVycm9yQ29kZSBhIG51bWJlciBpbmRpY2F0aW5nIHRoZSBuYXR1cmUgb2YgdGhlIGVycm9yLlxuXHRcdCAqIDxsaT5lcnJvck1lc3NhZ2UgdGV4dCBkZXNjcmliaW5nIHRoZSBlcnJvci5cblx0XHQgKiA8L29sPlxuXHQgKiBAcGFyYW0ge2FycmF5fSBjb25uZWN0T3B0aW9ucy5ob3N0cyAtIElmIHByZXNlbnQgdGhpcyBjb250YWlucyBlaXRoZXIgYSBzZXQgb2YgaG9zdG5hbWVzIG9yIGZ1bGx5IHF1YWxpZmllZFxuXHRcdCAqIFdlYlNvY2tldCBVUklzICh3czovL2lvdC5lY2xpcHNlLm9yZzo4MC93cyksIHRoYXQgYXJlIHRyaWVkIGluIG9yZGVyIGluIHBsYWNlXG5cdFx0ICogb2YgdGhlIGhvc3QgYW5kIHBvcnQgcGFyYW1hdGVyIG9uIHRoZSBjb25zdHJ1dG9yLiBUaGUgaG9zdHMgYXJlIHRyaWVkIG9uZSBhdCBhdCB0aW1lIGluIG9yZGVyIHVudGlsXG5cdFx0ICogb25lIG9mIHRoZW4gc3VjY2VlZHMuXG5cdCAqIEBwYXJhbSB7YXJyYXl9IGNvbm5lY3RPcHRpb25zLnBvcnRzIC0gSWYgcHJlc2VudCB0aGUgc2V0IG9mIHBvcnRzIG1hdGNoaW5nIHRoZSBob3N0cy4gSWYgaG9zdHMgY29udGFpbnMgVVJJcywgdGhpcyBwcm9wZXJ0eVxuXHRcdCAqIGlzIG5vdCB1c2VkLlxuXHQgKiBAcGFyYW0ge2Jvb2xlYW59IGNvbm5lY3RPcHRpb25zLnJlY29ubmVjdCAtIFNldHMgd2hldGhlciB0aGUgY2xpZW50IHdpbGwgYXV0b21hdGljYWxseSBhdHRlbXB0IHRvIHJlY29ubmVjdFxuXHQgKiB0byB0aGUgc2VydmVyIGlmIHRoZSBjb25uZWN0aW9uIGlzIGxvc3QuXG5cdCAqPHVsPlxuXHQgKjxsaT5JZiBzZXQgdG8gZmFsc2UsIHRoZSBjbGllbnQgd2lsbCBub3QgYXR0ZW1wdCB0byBhdXRvbWF0aWNhbGx5IHJlY29ubmVjdCB0byB0aGUgc2VydmVyIGluIHRoZSBldmVudCB0aGF0IHRoZVxuXHQgKiBjb25uZWN0aW9uIGlzIGxvc3QuPC9saT5cblx0ICo8bGk+SWYgc2V0IHRvIHRydWUsIGluIHRoZSBldmVudCB0aGF0IHRoZSBjb25uZWN0aW9uIGlzIGxvc3QsIHRoZSBjbGllbnQgd2lsbCBhdHRlbXB0IHRvIHJlY29ubmVjdCB0byB0aGUgc2VydmVyLlxuXHQgKiBJdCB3aWxsIGluaXRpYWxseSB3YWl0IDEgc2Vjb25kIGJlZm9yZSBpdCBhdHRlbXB0cyB0byByZWNvbm5lY3QsIGZvciBldmVyeSBmYWlsZWQgcmVjb25uZWN0IGF0dGVtcHQsIHRoZSBkZWxheVxuXHQgKiB3aWxsIGRvdWJsZSB1bnRpbCBpdCBpcyBhdCAyIG1pbnV0ZXMgYXQgd2hpY2ggcG9pbnQgdGhlIGRlbGF5IHdpbGwgc3RheSBhdCAyIG1pbnV0ZXMuPC9saT5cblx0ICo8L3VsPlxuXHQgKiBAcGFyYW0ge251bWJlcn0gY29ubmVjdE9wdGlvbnMubXF0dFZlcnNpb24gLSBUaGUgdmVyc2lvbiBvZiBNUVRUIHRvIHVzZSB0byBjb25uZWN0IHRvIHRoZSBNUVRUIEJyb2tlci5cblx0ICo8dWw+XG5cdCAqPGxpPjMgLSBNUVRUIFYzLjE8L2xpPlxuXHQgKjxsaT40IC0gTVFUVCBWMy4xLjE8L2xpPlxuXHQgKjwvdWw+XG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gY29ubmVjdE9wdGlvbnMubXF0dFZlcnNpb25FeHBsaWNpdCAtIElmIHNldCB0byB0cnVlLCB3aWxsIGZvcmNlIHRoZSBjb25uZWN0aW9uIHRvIHVzZSB0aGVcblx0ICogc2VsZWN0ZWQgTVFUVCBWZXJzaW9uIG9yIHdpbGwgZmFpbCB0byBjb25uZWN0LlxuXHQgKiBAcGFyYW0ge2FycmF5fSBjb25uZWN0T3B0aW9ucy51cmlzIC0gSWYgcHJlc2VudCwgc2hvdWxkIGNvbnRhaW4gYSBsaXN0IG9mIGZ1bGx5IHF1YWxpZmllZCBXZWJTb2NrZXQgdXJpc1xuXHQgKiAoZS5nLiB3czovL2lvdC5lY2xpcHNlLm9yZzo4MC93cyksIHRoYXQgYXJlIHRyaWVkIGluIG9yZGVyIGluIHBsYWNlIG9mIHRoZSBob3N0IGFuZCBwb3J0IHBhcmFtZXRlciBvZiB0aGUgY29uc3RydXRvci5cblx0ICogVGhlIHVyaXMgYXJlIHRyaWVkIG9uZSBhdCBhIHRpbWUgaW4gb3JkZXIgdW50aWwgb25lIG9mIHRoZW0gc3VjY2VlZHMuIERvIG5vdCB1c2UgdGhpcyBpbiBjb25qdW5jdGlvbiB3aXRoIGhvc3RzIGFzXG5cdCAqIHRoZSBob3N0cyBhcnJheSB3aWxsIGJlIGNvbnZlcnRlZCB0byB1cmlzIGFuZCB3aWxsIG92ZXJ3cml0ZSB0aGlzIHByb3BlcnR5LlxuXHRcdCAqIEB0aHJvd3Mge0ludmFsaWRTdGF0ZX0gSWYgdGhlIGNsaWVudCBpcyBub3QgaW4gZGlzY29ubmVjdGVkIHN0YXRlLiBUaGUgY2xpZW50IG11c3QgaGF2ZSByZWNlaXZlZCBjb25uZWN0aW9uTG9zdFxuXHRcdCAqIG9yIGRpc2Nvbm5lY3RlZCBiZWZvcmUgY2FsbGluZyBjb25uZWN0IGZvciBhIHNlY29uZCBvciBzdWJzZXF1ZW50IHRpbWUuXG5cdFx0ICovXG5cdFx0XHR0aGlzLmNvbm5lY3QgPSBmdW5jdGlvbiAoY29ubmVjdE9wdGlvbnMpIHtcblx0XHRcdFx0Y29ubmVjdE9wdGlvbnMgPSBjb25uZWN0T3B0aW9ucyB8fCB7fSA7XG5cdFx0XHRcdHZhbGlkYXRlKGNvbm5lY3RPcHRpb25zLCAge3RpbWVvdXQ6XCJudW1iZXJcIixcblx0XHRcdFx0XHR1c2VyTmFtZTpcInN0cmluZ1wiLFxuXHRcdFx0XHRcdHBhc3N3b3JkOlwic3RyaW5nXCIsXG5cdFx0XHRcdFx0d2lsbE1lc3NhZ2U6XCJvYmplY3RcIixcblx0XHRcdFx0XHRrZWVwQWxpdmVJbnRlcnZhbDpcIm51bWJlclwiLFxuXHRcdFx0XHRcdGNsZWFuU2Vzc2lvbjpcImJvb2xlYW5cIixcblx0XHRcdFx0XHR1c2VTU0w6XCJib29sZWFuXCIsXG5cdFx0XHRcdFx0aW52b2NhdGlvbkNvbnRleHQ6XCJvYmplY3RcIixcblx0XHRcdFx0XHRvblN1Y2Nlc3M6XCJmdW5jdGlvblwiLFxuXHRcdFx0XHRcdG9uRmFpbHVyZTpcImZ1bmN0aW9uXCIsXG5cdFx0XHRcdFx0aG9zdHM6XCJvYmplY3RcIixcblx0XHRcdFx0XHRwb3J0czpcIm9iamVjdFwiLFxuXHRcdFx0XHRcdHJlY29ubmVjdDpcImJvb2xlYW5cIixcblx0XHRcdFx0XHRtcXR0VmVyc2lvbjpcIm51bWJlclwiLFxuXHRcdFx0XHRcdG1xdHRWZXJzaW9uRXhwbGljaXQ6XCJib29sZWFuXCIsXG5cdFx0XHRcdFx0dXJpczogXCJvYmplY3RcIn0pO1xuXG5cdFx0XHRcdC8vIElmIG5vIGtlZXAgYWxpdmUgaW50ZXJ2YWwgaXMgc2V0LCBhc3N1bWUgNjAgc2Vjb25kcy5cblx0XHRcdFx0aWYgKGNvbm5lY3RPcHRpb25zLmtlZXBBbGl2ZUludGVydmFsID09PSB1bmRlZmluZWQpXG5cdFx0XHRcdFx0Y29ubmVjdE9wdGlvbnMua2VlcEFsaXZlSW50ZXJ2YWwgPSA2MDtcblxuXHRcdFx0XHRpZiAoY29ubmVjdE9wdGlvbnMubXF0dFZlcnNpb24gPiA0IHx8IGNvbm5lY3RPcHRpb25zLm1xdHRWZXJzaW9uIDwgMykge1xuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihmb3JtYXQoRVJST1IuSU5WQUxJRF9BUkdVTUVOVCwgW2Nvbm5lY3RPcHRpb25zLm1xdHRWZXJzaW9uLCBcImNvbm5lY3RPcHRpb25zLm1xdHRWZXJzaW9uXCJdKSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoY29ubmVjdE9wdGlvbnMubXF0dFZlcnNpb24gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGNvbm5lY3RPcHRpb25zLm1xdHRWZXJzaW9uRXhwbGljaXQgPSBmYWxzZTtcblx0XHRcdFx0XHRjb25uZWN0T3B0aW9ucy5tcXR0VmVyc2lvbiA9IDQ7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y29ubmVjdE9wdGlvbnMubXF0dFZlcnNpb25FeHBsaWNpdCA9IHRydWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvL0NoZWNrIHRoYXQgaWYgcGFzc3dvcmQgaXMgc2V0LCBzbyBpcyB1c2VybmFtZVxuXHRcdFx0XHRpZiAoY29ubmVjdE9wdGlvbnMucGFzc3dvcmQgIT09IHVuZGVmaW5lZCAmJiBjb25uZWN0T3B0aW9ucy51c2VyTmFtZSA9PT0gdW5kZWZpbmVkKVxuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihmb3JtYXQoRVJST1IuSU5WQUxJRF9BUkdVTUVOVCwgW2Nvbm5lY3RPcHRpb25zLnBhc3N3b3JkLCBcImNvbm5lY3RPcHRpb25zLnBhc3N3b3JkXCJdKSk7XG5cblx0XHRcdFx0aWYgKGNvbm5lY3RPcHRpb25zLndpbGxNZXNzYWdlKSB7XG5cdFx0XHRcdFx0aWYgKCEoY29ubmVjdE9wdGlvbnMud2lsbE1lc3NhZ2UgaW5zdGFuY2VvZiBNZXNzYWdlKSlcblx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihmb3JtYXQoRVJST1IuSU5WQUxJRF9UWVBFLCBbY29ubmVjdE9wdGlvbnMud2lsbE1lc3NhZ2UsIFwiY29ubmVjdE9wdGlvbnMud2lsbE1lc3NhZ2VcIl0pKTtcblx0XHRcdFx0XHQvLyBUaGUgd2lsbCBtZXNzYWdlIG11c3QgaGF2ZSBhIHBheWxvYWQgdGhhdCBjYW4gYmUgcmVwcmVzZW50ZWQgYXMgYSBzdHJpbmcuXG5cdFx0XHRcdFx0Ly8gQ2F1c2UgdGhlIHdpbGxNZXNzYWdlIHRvIHRocm93IGFuIGV4Y2VwdGlvbiBpZiB0aGlzIGlzIG5vdCB0aGUgY2FzZS5cblx0XHRcdFx0XHRjb25uZWN0T3B0aW9ucy53aWxsTWVzc2FnZS5zdHJpbmdQYXlsb2FkID0gbnVsbDtcblxuXHRcdFx0XHRcdGlmICh0eXBlb2YgY29ubmVjdE9wdGlvbnMud2lsbE1lc3NhZ2UuZGVzdGluYXRpb25OYW1lID09PSBcInVuZGVmaW5lZFwiKVxuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGZvcm1hdChFUlJPUi5JTlZBTElEX1RZUEUsIFt0eXBlb2YgY29ubmVjdE9wdGlvbnMud2lsbE1lc3NhZ2UuZGVzdGluYXRpb25OYW1lLCBcImNvbm5lY3RPcHRpb25zLndpbGxNZXNzYWdlLmRlc3RpbmF0aW9uTmFtZVwiXSkpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICh0eXBlb2YgY29ubmVjdE9wdGlvbnMuY2xlYW5TZXNzaW9uID09PSBcInVuZGVmaW5lZFwiKVxuXHRcdFx0XHRcdGNvbm5lY3RPcHRpb25zLmNsZWFuU2Vzc2lvbiA9IHRydWU7XG5cdFx0XHRcdGlmIChjb25uZWN0T3B0aW9ucy5ob3N0cykge1xuXG5cdFx0XHRcdFx0aWYgKCEoY29ubmVjdE9wdGlvbnMuaG9zdHMgaW5zdGFuY2VvZiBBcnJheSkgKVxuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGZvcm1hdChFUlJPUi5JTlZBTElEX0FSR1VNRU5ULCBbY29ubmVjdE9wdGlvbnMuaG9zdHMsIFwiY29ubmVjdE9wdGlvbnMuaG9zdHNcIl0pKTtcblx0XHRcdFx0XHRpZiAoY29ubmVjdE9wdGlvbnMuaG9zdHMubGVuZ3RoIDwxIClcblx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihmb3JtYXQoRVJST1IuSU5WQUxJRF9BUkdVTUVOVCwgW2Nvbm5lY3RPcHRpb25zLmhvc3RzLCBcImNvbm5lY3RPcHRpb25zLmhvc3RzXCJdKSk7XG5cblx0XHRcdFx0XHR2YXIgdXNpbmdVUklzID0gZmFsc2U7XG5cdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGk8Y29ubmVjdE9wdGlvbnMuaG9zdHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRcdGlmICh0eXBlb2YgY29ubmVjdE9wdGlvbnMuaG9zdHNbaV0gIT09IFwic3RyaW5nXCIpXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihmb3JtYXQoRVJST1IuSU5WQUxJRF9UWVBFLCBbdHlwZW9mIGNvbm5lY3RPcHRpb25zLmhvc3RzW2ldLCBcImNvbm5lY3RPcHRpb25zLmhvc3RzW1wiK2krXCJdXCJdKSk7XG5cdFx0XHRcdFx0XHRpZiAoL14od3NzPyk6XFwvXFwvKChcXFsoLispXFxdKXwoW15cXC9dKz8pKSg6KFxcZCspKT8oXFwvLiopJC8udGVzdChjb25uZWN0T3B0aW9ucy5ob3N0c1tpXSkpIHtcblx0XHRcdFx0XHRcdFx0aWYgKGkgPT09IDApIHtcblx0XHRcdFx0XHRcdFx0XHR1c2luZ1VSSXMgPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCF1c2luZ1VSSXMpIHtcblx0XHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLklOVkFMSURfQVJHVU1FTlQsIFtjb25uZWN0T3B0aW9ucy5ob3N0c1tpXSwgXCJjb25uZWN0T3B0aW9ucy5ob3N0c1tcIitpK1wiXVwiXSkpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKHVzaW5nVVJJcykge1xuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLklOVkFMSURfQVJHVU1FTlQsIFtjb25uZWN0T3B0aW9ucy5ob3N0c1tpXSwgXCJjb25uZWN0T3B0aW9ucy5ob3N0c1tcIitpK1wiXVwiXSkpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmICghdXNpbmdVUklzKSB7XG5cdFx0XHRcdFx0XHRpZiAoIWNvbm5lY3RPcHRpb25zLnBvcnRzKVxuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLklOVkFMSURfQVJHVU1FTlQsIFtjb25uZWN0T3B0aW9ucy5wb3J0cywgXCJjb25uZWN0T3B0aW9ucy5wb3J0c1wiXSkpO1xuXHRcdFx0XHRcdFx0aWYgKCEoY29ubmVjdE9wdGlvbnMucG9ydHMgaW5zdGFuY2VvZiBBcnJheSkgKVxuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLklOVkFMSURfQVJHVU1FTlQsIFtjb25uZWN0T3B0aW9ucy5wb3J0cywgXCJjb25uZWN0T3B0aW9ucy5wb3J0c1wiXSkpO1xuXHRcdFx0XHRcdFx0aWYgKGNvbm5lY3RPcHRpb25zLmhvc3RzLmxlbmd0aCAhPT0gY29ubmVjdE9wdGlvbnMucG9ydHMubGVuZ3RoKVxuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLklOVkFMSURfQVJHVU1FTlQsIFtjb25uZWN0T3B0aW9ucy5wb3J0cywgXCJjb25uZWN0T3B0aW9ucy5wb3J0c1wiXSkpO1xuXG5cdFx0XHRcdFx0XHRjb25uZWN0T3B0aW9ucy51cmlzID0gW107XG5cblx0XHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpPGNvbm5lY3RPcHRpb25zLmhvc3RzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0XHRcdGlmICh0eXBlb2YgY29ubmVjdE9wdGlvbnMucG9ydHNbaV0gIT09IFwibnVtYmVyXCIgfHwgY29ubmVjdE9wdGlvbnMucG9ydHNbaV0gPCAwKVxuXHRcdFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihmb3JtYXQoRVJST1IuSU5WQUxJRF9UWVBFLCBbdHlwZW9mIGNvbm5lY3RPcHRpb25zLnBvcnRzW2ldLCBcImNvbm5lY3RPcHRpb25zLnBvcnRzW1wiK2krXCJdXCJdKSk7XG5cdFx0XHRcdFx0XHRcdHZhciBob3N0ID0gY29ubmVjdE9wdGlvbnMuaG9zdHNbaV07XG5cdFx0XHRcdFx0XHRcdHZhciBwb3J0ID0gY29ubmVjdE9wdGlvbnMucG9ydHNbaV07XG5cblx0XHRcdFx0XHRcdFx0dmFyIGlwdjYgPSAoaG9zdC5pbmRleE9mKFwiOlwiKSAhPT0gLTEpO1xuXHRcdFx0XHRcdFx0XHR1cmkgPSBcIndzOi8vXCIrKGlwdjY/XCJbXCIraG9zdCtcIl1cIjpob3N0KStcIjpcIitwb3J0K3BhdGg7XG5cdFx0XHRcdFx0XHRcdGNvbm5lY3RPcHRpb25zLnVyaXMucHVzaCh1cmkpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRjb25uZWN0T3B0aW9ucy51cmlzID0gY29ubmVjdE9wdGlvbnMuaG9zdHM7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y2xpZW50LmNvbm5lY3QoY29ubmVjdE9wdGlvbnMpO1xuXHRcdFx0fTtcblxuXHRcdFx0LyoqXG5cdFx0ICogU3Vic2NyaWJlIGZvciBtZXNzYWdlcywgcmVxdWVzdCByZWNlaXB0IG9mIGEgY29weSBvZiBtZXNzYWdlcyBzZW50IHRvIHRoZSBkZXN0aW5hdGlvbnMgZGVzY3JpYmVkIGJ5IHRoZSBmaWx0ZXIuXG5cdFx0ICpcblx0XHQgKiBAbmFtZSBQYWhvLkNsaWVudCNzdWJzY3JpYmVcblx0XHQgKiBAZnVuY3Rpb25cblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gZmlsdGVyIGRlc2NyaWJpbmcgdGhlIGRlc3RpbmF0aW9ucyB0byByZWNlaXZlIG1lc3NhZ2VzIGZyb20uXG5cdFx0ICogPGJyPlxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSBzdWJzY3JpYmVPcHRpb25zIC0gdXNlZCB0byBjb250cm9sIHRoZSBzdWJzY3JpcHRpb25cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB7bnVtYmVyfSBzdWJzY3JpYmVPcHRpb25zLnFvcyAtIHRoZSBtYXhpbXVtIHFvcyBvZiBhbnkgcHVibGljYXRpb25zIHNlbnRcblx0XHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcyBhIHJlc3VsdCBvZiBtYWtpbmcgdGhpcyBzdWJzY3JpcHRpb24uXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IHN1YnNjcmliZU9wdGlvbnMuaW52b2NhdGlvbkNvbnRleHQgLSBwYXNzZWQgdG8gdGhlIG9uU3VjY2VzcyBjYWxsYmFja1xuXHRcdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yIG9uRmFpbHVyZSBjYWxsYmFjay5cblx0XHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBzdWJzY3JpYmVPcHRpb25zLm9uU3VjY2VzcyAtIGNhbGxlZCB3aGVuIHRoZSBzdWJzY3JpYmUgYWNrbm93bGVkZ2VtZW50XG5cdFx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzIGJlZW4gcmVjZWl2ZWQgZnJvbSB0aGUgc2VydmVyLlxuXHRcdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEEgc2luZ2xlIHJlc3BvbnNlIG9iamVjdCBwYXJhbWV0ZXIgaXMgcGFzc2VkIHRvIHRoZSBvblN1Y2Nlc3MgY2FsbGJhY2sgY29udGFpbmluZyB0aGUgZm9sbG93aW5nIGZpZWxkczpcblx0XHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b2w+XG5cdFx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPmludm9jYXRpb25Db250ZXh0IGlmIHNldCBpbiB0aGUgc3Vic2NyaWJlT3B0aW9ucy5cblx0XHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L29sPlxuXHRcdCAqIEBwYXJhbSB7ZnVuY3Rpb259IHN1YnNjcmliZU9wdGlvbnMub25GYWlsdXJlIC0gY2FsbGVkIHdoZW4gdGhlIHN1YnNjcmliZSByZXF1ZXN0IGhhcyBmYWlsZWQgb3IgdGltZWQgb3V0LlxuXHRcdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEEgc2luZ2xlIHJlc3BvbnNlIG9iamVjdCBwYXJhbWV0ZXIgaXMgcGFzc2VkIHRvIHRoZSBvbkZhaWx1cmUgY2FsbGJhY2sgY29udGFpbmluZyB0aGUgZm9sbG93aW5nIGZpZWxkczpcblx0XHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b2w+XG5cdFx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPmludm9jYXRpb25Db250ZXh0IC0gaWYgc2V0IGluIHRoZSBzdWJzY3JpYmVPcHRpb25zLlxuXHRcdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT5lcnJvckNvZGUgLSBhIG51bWJlciBpbmRpY2F0aW5nIHRoZSBuYXR1cmUgb2YgdGhlIGVycm9yLlxuXHRcdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT5lcnJvck1lc3NhZ2UgLSB0ZXh0IGRlc2NyaWJpbmcgdGhlIGVycm9yLlxuXHRcdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvb2w+XG5cdFx0ICogQHBhcmFtIHtudW1iZXJ9IHN1YnNjcmliZU9wdGlvbnMudGltZW91dCAtIHdoaWNoLCBpZiBwcmVzZW50LCBkZXRlcm1pbmVzIHRoZSBudW1iZXIgb2Zcblx0XHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWNvbmRzIGFmdGVyIHdoaWNoIHRoZSBvbkZhaWx1cmUgY2FsYmFjayBpcyBjYWxsZWQuXG5cdFx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGhlIHByZXNlbmNlIG9mIGEgdGltZW91dCBkb2VzIG5vdCBwcmV2ZW50IHRoZSBvblN1Y2Nlc3Ncblx0XHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayBmcm9tIGJlaW5nIGNhbGxlZCB3aGVuIHRoZSBzdWJzY3JpYmUgY29tcGxldGVzLlxuXHRcdCAqIEB0aHJvd3Mge0ludmFsaWRTdGF0ZX0gaWYgdGhlIGNsaWVudCBpcyBub3QgaW4gY29ubmVjdGVkIHN0YXRlLlxuXHRcdCAqL1xuXHRcdFx0dGhpcy5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoZmlsdGVyLCBzdWJzY3JpYmVPcHRpb25zKSB7XG5cdFx0XHRcdGlmICh0eXBlb2YgZmlsdGVyICE9PSBcInN0cmluZ1wiICYmIGZpbHRlci5jb25zdHJ1Y3RvciAhPT0gQXJyYXkpXG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudDpcIitmaWx0ZXIpO1xuXHRcdFx0XHRzdWJzY3JpYmVPcHRpb25zID0gc3Vic2NyaWJlT3B0aW9ucyB8fCB7fSA7XG5cdFx0XHRcdHZhbGlkYXRlKHN1YnNjcmliZU9wdGlvbnMsICB7cW9zOlwibnVtYmVyXCIsXG5cdFx0XHRcdFx0aW52b2NhdGlvbkNvbnRleHQ6XCJvYmplY3RcIixcblx0XHRcdFx0XHRvblN1Y2Nlc3M6XCJmdW5jdGlvblwiLFxuXHRcdFx0XHRcdG9uRmFpbHVyZTpcImZ1bmN0aW9uXCIsXG5cdFx0XHRcdFx0dGltZW91dDpcIm51bWJlclwiXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRpZiAoc3Vic2NyaWJlT3B0aW9ucy50aW1lb3V0ICYmICFzdWJzY3JpYmVPcHRpb25zLm9uRmFpbHVyZSlcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJzdWJzY3JpYmVPcHRpb25zLnRpbWVvdXQgc3BlY2lmaWVkIHdpdGggbm8gb25GYWlsdXJlIGNhbGxiYWNrLlwiKTtcblx0XHRcdFx0aWYgKHR5cGVvZiBzdWJzY3JpYmVPcHRpb25zLnFvcyAhPT0gXCJ1bmRlZmluZWRcIiAmJiAhKHN1YnNjcmliZU9wdGlvbnMucW9zID09PSAwIHx8IHN1YnNjcmliZU9wdGlvbnMucW9zID09PSAxIHx8IHN1YnNjcmliZU9wdGlvbnMucW9zID09PSAyICkpXG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGZvcm1hdChFUlJPUi5JTlZBTElEX0FSR1VNRU5ULCBbc3Vic2NyaWJlT3B0aW9ucy5xb3MsIFwic3Vic2NyaWJlT3B0aW9ucy5xb3NcIl0pKTtcblx0XHRcdFx0Y2xpZW50LnN1YnNjcmliZShmaWx0ZXIsIHN1YnNjcmliZU9wdGlvbnMpO1xuXHRcdFx0fTtcblxuXHRcdC8qKlxuXHRcdCAqIFVuc3Vic2NyaWJlIGZvciBtZXNzYWdlcywgc3RvcCByZWNlaXZpbmcgbWVzc2FnZXMgc2VudCB0byBkZXN0aW5hdGlvbnMgZGVzY3JpYmVkIGJ5IHRoZSBmaWx0ZXIuXG5cdFx0ICpcblx0XHQgKiBAbmFtZSBQYWhvLkNsaWVudCN1bnN1YnNjcmliZVxuXHRcdCAqIEBmdW5jdGlvblxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBmaWx0ZXIgLSBkZXNjcmliaW5nIHRoZSBkZXN0aW5hdGlvbnMgdG8gcmVjZWl2ZSBtZXNzYWdlcyBmcm9tLlxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSB1bnN1YnNjcmliZU9wdGlvbnMgLSB1c2VkIHRvIGNvbnRyb2wgdGhlIHN1YnNjcmlwdGlvblxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSB1bnN1YnNjcmliZU9wdGlvbnMuaW52b2NhdGlvbkNvbnRleHQgLSBwYXNzZWQgdG8gdGhlIG9uU3VjY2VzcyBjYWxsYmFja1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAgb3Igb25GYWlsdXJlIGNhbGxiYWNrLlxuXHRcdCAqIEBwYXJhbSB7ZnVuY3Rpb259IHVuc3Vic2NyaWJlT3B0aW9ucy5vblN1Y2Nlc3MgLSBjYWxsZWQgd2hlbiB0aGUgdW5zdWJzY3JpYmUgYWNrbm93bGVkZ2VtZW50IGhhcyBiZWVuIHJlY2VpdmVkIGZyb20gdGhlIHNlcnZlci5cblx0XHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEEgc2luZ2xlIHJlc3BvbnNlIG9iamVjdCBwYXJhbWV0ZXIgaXMgcGFzc2VkIHRvIHRoZVxuXHRcdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25TdWNjZXNzIGNhbGxiYWNrIGNvbnRhaW5pbmcgdGhlIGZvbGxvd2luZyBmaWVsZHM6XG5cdFx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b2w+XG5cdFx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+aW52b2NhdGlvbkNvbnRleHQgLSBpZiBzZXQgaW4gdGhlIHVuc3Vic2NyaWJlT3B0aW9ucy5cblx0XHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvb2w+XG5cdFx0ICogQHBhcmFtIHtmdW5jdGlvbn0gdW5zdWJzY3JpYmVPcHRpb25zLm9uRmFpbHVyZSBjYWxsZWQgd2hlbiB0aGUgdW5zdWJzY3JpYmUgcmVxdWVzdCBoYXMgZmFpbGVkIG9yIHRpbWVkIG91dC5cblx0XHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEEgc2luZ2xlIHJlc3BvbnNlIG9iamVjdCBwYXJhbWV0ZXIgaXMgcGFzc2VkIHRvIHRoZSBvbkZhaWx1cmUgY2FsbGJhY2sgY29udGFpbmluZyB0aGUgZm9sbG93aW5nIGZpZWxkczpcblx0XHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvbD5cblx0XHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT5pbnZvY2F0aW9uQ29udGV4dCAtIGlmIHNldCBpbiB0aGUgdW5zdWJzY3JpYmVPcHRpb25zLlxuXHRcdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPmVycm9yQ29kZSAtIGEgbnVtYmVyIGluZGljYXRpbmcgdGhlIG5hdHVyZSBvZiB0aGUgZXJyb3IuXG5cdFx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+ZXJyb3JNZXNzYWdlIC0gdGV4dCBkZXNjcmliaW5nIHRoZSBlcnJvci5cblx0XHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvb2w+XG5cdFx0ICogQHBhcmFtIHtudW1iZXJ9IHVuc3Vic2NyaWJlT3B0aW9ucy50aW1lb3V0IC0gd2hpY2gsIGlmIHByZXNlbnQsIGRldGVybWluZXMgdGhlIG51bWJlciBvZiBzZWNvbmRzXG5cdFx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZnRlciB3aGljaCB0aGUgb25GYWlsdXJlIGNhbGxiYWNrIGlzIGNhbGxlZC4gVGhlIHByZXNlbmNlIG9mXG5cdFx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhIHRpbWVvdXQgZG9lcyBub3QgcHJldmVudCB0aGUgb25TdWNjZXNzIGNhbGxiYWNrIGZyb20gYmVpbmdcblx0XHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxlZCB3aGVuIHRoZSB1bnN1YnNjcmliZSBjb21wbGV0ZXNcblx0XHQgKiBAdGhyb3dzIHtJbnZhbGlkU3RhdGV9IGlmIHRoZSBjbGllbnQgaXMgbm90IGluIGNvbm5lY3RlZCBzdGF0ZS5cblx0XHQgKi9cblx0XHRcdHRoaXMudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoZmlsdGVyLCB1bnN1YnNjcmliZU9wdGlvbnMpIHtcblx0XHRcdFx0aWYgKHR5cGVvZiBmaWx0ZXIgIT09IFwic3RyaW5nXCIgJiYgZmlsdGVyLmNvbnN0cnVjdG9yICE9PSBBcnJheSlcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50OlwiK2ZpbHRlcik7XG5cdFx0XHRcdHVuc3Vic2NyaWJlT3B0aW9ucyA9IHVuc3Vic2NyaWJlT3B0aW9ucyB8fCB7fSA7XG5cdFx0XHRcdHZhbGlkYXRlKHVuc3Vic2NyaWJlT3B0aW9ucywgIHtpbnZvY2F0aW9uQ29udGV4dDpcIm9iamVjdFwiLFxuXHRcdFx0XHRcdG9uU3VjY2VzczpcImZ1bmN0aW9uXCIsXG5cdFx0XHRcdFx0b25GYWlsdXJlOlwiZnVuY3Rpb25cIixcblx0XHRcdFx0XHR0aW1lb3V0OlwibnVtYmVyXCJcblx0XHRcdFx0fSk7XG5cdFx0XHRcdGlmICh1bnN1YnNjcmliZU9wdGlvbnMudGltZW91dCAmJiAhdW5zdWJzY3JpYmVPcHRpb25zLm9uRmFpbHVyZSlcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJ1bnN1YnNjcmliZU9wdGlvbnMudGltZW91dCBzcGVjaWZpZWQgd2l0aCBubyBvbkZhaWx1cmUgY2FsbGJhY2suXCIpO1xuXHRcdFx0XHRjbGllbnQudW5zdWJzY3JpYmUoZmlsdGVyLCB1bnN1YnNjcmliZU9wdGlvbnMpO1xuXHRcdFx0fTtcblxuXHRcdFx0LyoqXG5cdFx0ICogU2VuZCBhIG1lc3NhZ2UgdG8gdGhlIGNvbnN1bWVycyBvZiB0aGUgZGVzdGluYXRpb24gaW4gdGhlIE1lc3NhZ2UuXG5cdFx0ICpcblx0XHQgKiBAbmFtZSBQYWhvLkNsaWVudCNzZW5kXG5cdFx0ICogQGZ1bmN0aW9uXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd8UGFoby5NZXNzYWdlfSB0b3BpYyAtIDxiPm1hbmRhdG9yeTwvYj4gVGhlIG5hbWUgb2YgdGhlIGRlc3RpbmF0aW9uIHRvIHdoaWNoIHRoZSBtZXNzYWdlIGlzIHRvIGJlIHNlbnQuXG5cdFx0ICogXHRcdFx0XHRcdCAgIC0gSWYgaXQgaXMgdGhlIG9ubHkgcGFyYW1ldGVyLCB1c2VkIGFzIFBhaG8uTWVzc2FnZSBvYmplY3QuXG5cdFx0ICogQHBhcmFtIHtTdHJpbmd8QXJyYXlCdWZmZXJ9IHBheWxvYWQgLSBUaGUgbWVzc2FnZSBkYXRhIHRvIGJlIHNlbnQuXG5cdFx0ICogQHBhcmFtIHtudW1iZXJ9IHFvcyBUaGUgUXVhbGl0eSBvZiBTZXJ2aWNlIHVzZWQgdG8gZGVsaXZlciB0aGUgbWVzc2FnZS5cblx0XHQgKiBcdFx0PGRsPlxuXHRcdCAqIFx0XHRcdDxkdD4wIEJlc3QgZWZmb3J0IChkZWZhdWx0KS5cblx0XHQgKiAgICAgXHRcdFx0PGR0PjEgQXQgbGVhc3Qgb25jZS5cblx0XHQgKiAgICAgXHRcdFx0PGR0PjIgRXhhY3RseSBvbmNlLlxuXHRcdCAqIFx0XHQ8L2RsPlxuXHRcdCAqIEBwYXJhbSB7Qm9vbGVhbn0gcmV0YWluZWQgSWYgdHJ1ZSwgdGhlIG1lc3NhZ2UgaXMgdG8gYmUgcmV0YWluZWQgYnkgdGhlIHNlcnZlciBhbmQgZGVsaXZlcmVkXG5cdFx0ICogICAgICAgICAgICAgICAgICAgICB0byBib3RoIGN1cnJlbnQgYW5kIGZ1dHVyZSBzdWJzY3JpcHRpb25zLlxuXHRcdCAqICAgICAgICAgICAgICAgICAgICAgSWYgZmFsc2UgdGhlIHNlcnZlciBvbmx5IGRlbGl2ZXJzIHRoZSBtZXNzYWdlIHRvIGN1cnJlbnQgc3Vic2NyaWJlcnMsIHRoaXMgaXMgdGhlIGRlZmF1bHQgZm9yIG5ldyBNZXNzYWdlcy5cblx0XHQgKiAgICAgICAgICAgICAgICAgICAgIEEgcmVjZWl2ZWQgbWVzc2FnZSBoYXMgdGhlIHJldGFpbmVkIGJvb2xlYW4gc2V0IHRvIHRydWUgaWYgdGhlIG1lc3NhZ2Ugd2FzIHB1Ymxpc2hlZFxuXHRcdCAqICAgICAgICAgICAgICAgICAgICAgd2l0aCB0aGUgcmV0YWluZWQgYm9vbGVhbiBzZXQgdG8gdHJ1ZVxuXHRcdCAqICAgICAgICAgICAgICAgICAgICAgYW5kIHRoZSBzdWJzY3JwdGlvbiB3YXMgbWFkZSBhZnRlciB0aGUgbWVzc2FnZSBoYXMgYmVlbiBwdWJsaXNoZWQuXG5cdFx0ICogQHRocm93cyB7SW52YWxpZFN0YXRlfSBpZiB0aGUgY2xpZW50IGlzIG5vdCBjb25uZWN0ZWQuXG5cdFx0ICovXG5cdFx0XHR0aGlzLnNlbmQgPSBmdW5jdGlvbiAodG9waWMscGF5bG9hZCxxb3MscmV0YWluZWQpIHtcblx0XHRcdFx0dmFyIG1lc3NhZ2UgO1xuXG5cdFx0XHRcdGlmKGFyZ3VtZW50cy5sZW5ndGggPT09IDApe1xuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYXJndW1lbnQuXCIrXCJsZW5ndGhcIik7XG5cblx0XHRcdFx0fWVsc2UgaWYoYXJndW1lbnRzLmxlbmd0aCA9PSAxKSB7XG5cblx0XHRcdFx0XHRpZiAoISh0b3BpYyBpbnN0YW5jZW9mIE1lc3NhZ2UpICYmICh0eXBlb2YgdG9waWMgIT09IFwic3RyaW5nXCIpKVxuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudDpcIisgdHlwZW9mIHRvcGljKTtcblxuXHRcdFx0XHRcdG1lc3NhZ2UgPSB0b3BpYztcblx0XHRcdFx0XHRpZiAodHlwZW9mIG1lc3NhZ2UuZGVzdGluYXRpb25OYW1lID09PSBcInVuZGVmaW5lZFwiKVxuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGZvcm1hdChFUlJPUi5JTlZBTElEX0FSR1VNRU5ULFttZXNzYWdlLmRlc3RpbmF0aW9uTmFtZSxcIk1lc3NhZ2UuZGVzdGluYXRpb25OYW1lXCJdKSk7XG5cdFx0XHRcdFx0Y2xpZW50LnNlbmQobWVzc2FnZSk7XG5cblx0XHRcdFx0fWVsc2Uge1xuXHRcdFx0XHQvL3BhcmFtZXRlciBjaGVja2luZyBpbiBNZXNzYWdlIG9iamVjdFxuXHRcdFx0XHRcdG1lc3NhZ2UgPSBuZXcgTWVzc2FnZShwYXlsb2FkKTtcblx0XHRcdFx0XHRtZXNzYWdlLmRlc3RpbmF0aW9uTmFtZSA9IHRvcGljO1xuXHRcdFx0XHRcdGlmKGFyZ3VtZW50cy5sZW5ndGggPj0gMylcblx0XHRcdFx0XHRcdG1lc3NhZ2UucW9zID0gcW9zO1xuXHRcdFx0XHRcdGlmKGFyZ3VtZW50cy5sZW5ndGggPj0gNClcblx0XHRcdFx0XHRcdG1lc3NhZ2UucmV0YWluZWQgPSByZXRhaW5lZDtcblx0XHRcdFx0XHRjbGllbnQuc2VuZChtZXNzYWdlKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblxuXHRcdFx0LyoqXG5cdFx0ICogUHVibGlzaCBhIG1lc3NhZ2UgdG8gdGhlIGNvbnN1bWVycyBvZiB0aGUgZGVzdGluYXRpb24gaW4gdGhlIE1lc3NhZ2UuXG5cdFx0ICogU3lub255bSBmb3IgUGFoby5NcXR0LkNsaWVudCNzZW5kXG5cdFx0ICpcblx0XHQgKiBAbmFtZSBQYWhvLkNsaWVudCNwdWJsaXNoXG5cdFx0ICogQGZ1bmN0aW9uXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd8UGFoby5NZXNzYWdlfSB0b3BpYyAtIDxiPm1hbmRhdG9yeTwvYj4gVGhlIG5hbWUgb2YgdGhlIHRvcGljIHRvIHdoaWNoIHRoZSBtZXNzYWdlIGlzIHRvIGJlIHB1Ymxpc2hlZC5cblx0XHQgKiBcdFx0XHRcdFx0ICAgLSBJZiBpdCBpcyB0aGUgb25seSBwYXJhbWV0ZXIsIHVzZWQgYXMgUGFoby5NZXNzYWdlIG9iamVjdC5cblx0XHQgKiBAcGFyYW0ge1N0cmluZ3xBcnJheUJ1ZmZlcn0gcGF5bG9hZCAtIFRoZSBtZXNzYWdlIGRhdGEgdG8gYmUgcHVibGlzaGVkLlxuXHRcdCAqIEBwYXJhbSB7bnVtYmVyfSBxb3MgVGhlIFF1YWxpdHkgb2YgU2VydmljZSB1c2VkIHRvIGRlbGl2ZXIgdGhlIG1lc3NhZ2UuXG5cdFx0ICogXHRcdDxkbD5cblx0XHQgKiBcdFx0XHQ8ZHQ+MCBCZXN0IGVmZm9ydCAoZGVmYXVsdCkuXG5cdFx0ICogICAgIFx0XHRcdDxkdD4xIEF0IGxlYXN0IG9uY2UuXG5cdFx0ICogICAgIFx0XHRcdDxkdD4yIEV4YWN0bHkgb25jZS5cblx0XHQgKiBcdFx0PC9kbD5cblx0XHQgKiBAcGFyYW0ge0Jvb2xlYW59IHJldGFpbmVkIElmIHRydWUsIHRoZSBtZXNzYWdlIGlzIHRvIGJlIHJldGFpbmVkIGJ5IHRoZSBzZXJ2ZXIgYW5kIGRlbGl2ZXJlZFxuXHRcdCAqICAgICAgICAgICAgICAgICAgICAgdG8gYm90aCBjdXJyZW50IGFuZCBmdXR1cmUgc3Vic2NyaXB0aW9ucy5cblx0XHQgKiAgICAgICAgICAgICAgICAgICAgIElmIGZhbHNlIHRoZSBzZXJ2ZXIgb25seSBkZWxpdmVycyB0aGUgbWVzc2FnZSB0byBjdXJyZW50IHN1YnNjcmliZXJzLCB0aGlzIGlzIHRoZSBkZWZhdWx0IGZvciBuZXcgTWVzc2FnZXMuXG5cdFx0ICogICAgICAgICAgICAgICAgICAgICBBIHJlY2VpdmVkIG1lc3NhZ2UgaGFzIHRoZSByZXRhaW5lZCBib29sZWFuIHNldCB0byB0cnVlIGlmIHRoZSBtZXNzYWdlIHdhcyBwdWJsaXNoZWRcblx0XHQgKiAgICAgICAgICAgICAgICAgICAgIHdpdGggdGhlIHJldGFpbmVkIGJvb2xlYW4gc2V0IHRvIHRydWVcblx0XHQgKiAgICAgICAgICAgICAgICAgICAgIGFuZCB0aGUgc3Vic2NycHRpb24gd2FzIG1hZGUgYWZ0ZXIgdGhlIG1lc3NhZ2UgaGFzIGJlZW4gcHVibGlzaGVkLlxuXHRcdCAqIEB0aHJvd3Mge0ludmFsaWRTdGF0ZX0gaWYgdGhlIGNsaWVudCBpcyBub3QgY29ubmVjdGVkLlxuXHRcdCAqL1xuXHRcdFx0dGhpcy5wdWJsaXNoID0gZnVuY3Rpb24odG9waWMscGF5bG9hZCxxb3MscmV0YWluZWQpIHtcblx0XHRcdFx0dmFyIG1lc3NhZ2UgO1xuXG5cdFx0XHRcdGlmKGFyZ3VtZW50cy5sZW5ndGggPT09IDApe1xuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYXJndW1lbnQuXCIrXCJsZW5ndGhcIik7XG5cblx0XHRcdFx0fWVsc2UgaWYoYXJndW1lbnRzLmxlbmd0aCA9PSAxKSB7XG5cblx0XHRcdFx0XHRpZiAoISh0b3BpYyBpbnN0YW5jZW9mIE1lc3NhZ2UpICYmICh0eXBlb2YgdG9waWMgIT09IFwic3RyaW5nXCIpKVxuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudDpcIisgdHlwZW9mIHRvcGljKTtcblxuXHRcdFx0XHRcdG1lc3NhZ2UgPSB0b3BpYztcblx0XHRcdFx0XHRpZiAodHlwZW9mIG1lc3NhZ2UuZGVzdGluYXRpb25OYW1lID09PSBcInVuZGVmaW5lZFwiKVxuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGZvcm1hdChFUlJPUi5JTlZBTElEX0FSR1VNRU5ULFttZXNzYWdlLmRlc3RpbmF0aW9uTmFtZSxcIk1lc3NhZ2UuZGVzdGluYXRpb25OYW1lXCJdKSk7XG5cdFx0XHRcdFx0Y2xpZW50LnNlbmQobWVzc2FnZSk7XG5cblx0XHRcdFx0fWVsc2Uge1xuXHRcdFx0XHRcdC8vcGFyYW1ldGVyIGNoZWNraW5nIGluIE1lc3NhZ2Ugb2JqZWN0XG5cdFx0XHRcdFx0bWVzc2FnZSA9IG5ldyBNZXNzYWdlKHBheWxvYWQpO1xuXHRcdFx0XHRcdG1lc3NhZ2UuZGVzdGluYXRpb25OYW1lID0gdG9waWM7XG5cdFx0XHRcdFx0aWYoYXJndW1lbnRzLmxlbmd0aCA+PSAzKVxuXHRcdFx0XHRcdFx0bWVzc2FnZS5xb3MgPSBxb3M7XG5cdFx0XHRcdFx0aWYoYXJndW1lbnRzLmxlbmd0aCA+PSA0KVxuXHRcdFx0XHRcdFx0bWVzc2FnZS5yZXRhaW5lZCA9IHJldGFpbmVkO1xuXHRcdFx0XHRcdGNsaWVudC5zZW5kKG1lc3NhZ2UpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXG5cdFx0XHQvKipcblx0XHQgKiBOb3JtYWwgZGlzY29ubmVjdCBvZiB0aGlzIE1lc3NhZ2luZyBjbGllbnQgZnJvbSBpdHMgc2VydmVyLlxuXHRcdCAqXG5cdFx0ICogQG5hbWUgUGFoby5DbGllbnQjZGlzY29ubmVjdFxuXHRcdCAqIEBmdW5jdGlvblxuXHRcdCAqIEB0aHJvd3Mge0ludmFsaWRTdGF0ZX0gaWYgdGhlIGNsaWVudCBpcyBhbHJlYWR5IGRpc2Nvbm5lY3RlZC5cblx0XHQgKi9cblx0XHRcdHRoaXMuZGlzY29ubmVjdCA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0Y2xpZW50LmRpc2Nvbm5lY3QoKTtcblx0XHRcdH07XG5cblx0XHRcdC8qKlxuXHRcdCAqIEdldCB0aGUgY29udGVudHMgb2YgdGhlIHRyYWNlIGxvZy5cblx0XHQgKlxuXHRcdCAqIEBuYW1lIFBhaG8uQ2xpZW50I2dldFRyYWNlTG9nXG5cdFx0ICogQGZ1bmN0aW9uXG5cdFx0ICogQHJldHVybiB7T2JqZWN0W119IHRyYWNlYnVmZmVyIGNvbnRhaW5pbmcgdGhlIHRpbWUgb3JkZXJlZCB0cmFjZSByZWNvcmRzLlxuXHRcdCAqL1xuXHRcdFx0dGhpcy5nZXRUcmFjZUxvZyA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0cmV0dXJuIGNsaWVudC5nZXRUcmFjZUxvZygpO1xuXHRcdFx0fTtcblxuXHRcdFx0LyoqXG5cdFx0ICogU3RhcnQgdHJhY2luZy5cblx0XHQgKlxuXHRcdCAqIEBuYW1lIFBhaG8uQ2xpZW50I3N0YXJ0VHJhY2Vcblx0XHQgKiBAZnVuY3Rpb25cblx0XHQgKi9cblx0XHRcdHRoaXMuc3RhcnRUcmFjZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0Y2xpZW50LnN0YXJ0VHJhY2UoKTtcblx0XHRcdH07XG5cblx0XHRcdC8qKlxuXHRcdCAqIFN0b3AgdHJhY2luZy5cblx0XHQgKlxuXHRcdCAqIEBuYW1lIFBhaG8uQ2xpZW50I3N0b3BUcmFjZVxuXHRcdCAqIEBmdW5jdGlvblxuXHRcdCAqL1xuXHRcdFx0dGhpcy5zdG9wVHJhY2UgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdGNsaWVudC5zdG9wVHJhY2UoKTtcblx0XHRcdH07XG5cblx0XHRcdHRoaXMuaXNDb25uZWN0ZWQgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIGNsaWVudC5jb25uZWN0ZWQ7XG5cdFx0XHR9O1xuXHRcdH07XG5cblx0XHQvKipcblx0ICogQW4gYXBwbGljYXRpb24gbWVzc2FnZSwgc2VudCBvciByZWNlaXZlZC5cblx0ICogPHA+XG5cdCAqIEFsbCBhdHRyaWJ1dGVzIG1heSBiZSBudWxsLCB3aGljaCBpbXBsaWVzIHRoZSBkZWZhdWx0IHZhbHVlcy5cblx0ICpcblx0ICogQG5hbWUgUGFoby5NZXNzYWdlXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAcGFyYW0ge1N0cmluZ3xBcnJheUJ1ZmZlcn0gcGF5bG9hZCBUaGUgbWVzc2FnZSBkYXRhIHRvIGJlIHNlbnQuXG5cdCAqIDxwPlxuXHQgKiBAcHJvcGVydHkge3N0cmluZ30gcGF5bG9hZFN0cmluZyA8aT5yZWFkIG9ubHk8L2k+IFRoZSBwYXlsb2FkIGFzIGEgc3RyaW5nIGlmIHRoZSBwYXlsb2FkIGNvbnNpc3RzIG9mIHZhbGlkIFVURi04IGNoYXJhY3RlcnMuXG5cdCAqIEBwcm9wZXJ0eSB7QXJyYXlCdWZmZXJ9IHBheWxvYWRCeXRlcyA8aT5yZWFkIG9ubHk8L2k+IFRoZSBwYXlsb2FkIGFzIGFuIEFycmF5QnVmZmVyLlxuXHQgKiA8cD5cblx0ICogQHByb3BlcnR5IHtzdHJpbmd9IGRlc3RpbmF0aW9uTmFtZSA8Yj5tYW5kYXRvcnk8L2I+IFRoZSBuYW1lIG9mIHRoZSBkZXN0aW5hdGlvbiB0byB3aGljaCB0aGUgbWVzc2FnZSBpcyB0byBiZSBzZW50XG5cdCAqICAgICAgICAgICAgICAgICAgICAoZm9yIG1lc3NhZ2VzIGFib3V0IHRvIGJlIHNlbnQpIG9yIHRoZSBuYW1lIG9mIHRoZSBkZXN0aW5hdGlvbiBmcm9tIHdoaWNoIHRoZSBtZXNzYWdlIGhhcyBiZWVuIHJlY2VpdmVkLlxuXHQgKiAgICAgICAgICAgICAgICAgICAgKGZvciBtZXNzYWdlcyByZWNlaXZlZCBieSB0aGUgb25NZXNzYWdlIGZ1bmN0aW9uKS5cblx0ICogPHA+XG5cdCAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBxb3MgVGhlIFF1YWxpdHkgb2YgU2VydmljZSB1c2VkIHRvIGRlbGl2ZXIgdGhlIG1lc3NhZ2UuXG5cdCAqIDxkbD5cblx0ICogICAgIDxkdD4wIEJlc3QgZWZmb3J0IChkZWZhdWx0KS5cblx0ICogICAgIDxkdD4xIEF0IGxlYXN0IG9uY2UuXG5cdCAqICAgICA8ZHQ+MiBFeGFjdGx5IG9uY2UuXG5cdCAqIDwvZGw+XG5cdCAqIDxwPlxuXHQgKiBAcHJvcGVydHkge0Jvb2xlYW59IHJldGFpbmVkIElmIHRydWUsIHRoZSBtZXNzYWdlIGlzIHRvIGJlIHJldGFpbmVkIGJ5IHRoZSBzZXJ2ZXIgYW5kIGRlbGl2ZXJlZFxuXHQgKiAgICAgICAgICAgICAgICAgICAgIHRvIGJvdGggY3VycmVudCBhbmQgZnV0dXJlIHN1YnNjcmlwdGlvbnMuXG5cdCAqICAgICAgICAgICAgICAgICAgICAgSWYgZmFsc2UgdGhlIHNlcnZlciBvbmx5IGRlbGl2ZXJzIHRoZSBtZXNzYWdlIHRvIGN1cnJlbnQgc3Vic2NyaWJlcnMsIHRoaXMgaXMgdGhlIGRlZmF1bHQgZm9yIG5ldyBNZXNzYWdlcy5cblx0ICogICAgICAgICAgICAgICAgICAgICBBIHJlY2VpdmVkIG1lc3NhZ2UgaGFzIHRoZSByZXRhaW5lZCBib29sZWFuIHNldCB0byB0cnVlIGlmIHRoZSBtZXNzYWdlIHdhcyBwdWJsaXNoZWRcblx0ICogICAgICAgICAgICAgICAgICAgICB3aXRoIHRoZSByZXRhaW5lZCBib29sZWFuIHNldCB0byB0cnVlXG5cdCAqICAgICAgICAgICAgICAgICAgICAgYW5kIHRoZSBzdWJzY3JwdGlvbiB3YXMgbWFkZSBhZnRlciB0aGUgbWVzc2FnZSBoYXMgYmVlbiBwdWJsaXNoZWQuXG5cdCAqIDxwPlxuXHQgKiBAcHJvcGVydHkge0Jvb2xlYW59IGR1cGxpY2F0ZSA8aT5yZWFkIG9ubHk8L2k+IElmIHRydWUsIHRoaXMgbWVzc2FnZSBtaWdodCBiZSBhIGR1cGxpY2F0ZSBvZiBvbmUgd2hpY2ggaGFzIGFscmVhZHkgYmVlbiByZWNlaXZlZC5cblx0ICogICAgICAgICAgICAgICAgICAgICBUaGlzIGlzIG9ubHkgc2V0IG9uIG1lc3NhZ2VzIHJlY2VpdmVkIGZyb20gdGhlIHNlcnZlci5cblx0ICpcblx0ICovXG5cdFx0dmFyIE1lc3NhZ2UgPSBmdW5jdGlvbiAobmV3UGF5bG9hZCkge1xuXHRcdFx0dmFyIHBheWxvYWQ7XG5cdFx0XHRpZiAoICAgdHlwZW9mIG5ld1BheWxvYWQgPT09IFwic3RyaW5nXCIgfHxcblx0XHRuZXdQYXlsb2FkIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIgfHxcblx0XHQoQXJyYXlCdWZmZXIuaXNWaWV3KG5ld1BheWxvYWQpICYmICEobmV3UGF5bG9hZCBpbnN0YW5jZW9mIERhdGFWaWV3KSlcblx0XHRcdCkge1xuXHRcdFx0XHRwYXlsb2FkID0gbmV3UGF5bG9hZDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRocm93IChmb3JtYXQoRVJST1IuSU5WQUxJRF9BUkdVTUVOVCwgW25ld1BheWxvYWQsIFwibmV3UGF5bG9hZFwiXSkpO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgZGVzdGluYXRpb25OYW1lO1xuXHRcdFx0dmFyIHFvcyA9IDA7XG5cdFx0XHR2YXIgcmV0YWluZWQgPSBmYWxzZTtcblx0XHRcdHZhciBkdXBsaWNhdGUgPSBmYWxzZTtcblxuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcyx7XG5cdFx0XHRcdFwicGF5bG9hZFN0cmluZ1wiOntcblx0XHRcdFx0XHRlbnVtZXJhYmxlIDogdHJ1ZSxcblx0XHRcdFx0XHRnZXQgOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHRpZiAodHlwZW9mIHBheWxvYWQgPT09IFwic3RyaW5nXCIpXG5cdFx0XHRcdFx0XHRcdHJldHVybiBwYXlsb2FkO1xuXHRcdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gcGFyc2VVVEY4KHBheWxvYWQsIDAsIHBheWxvYWQubGVuZ3RoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdFwicGF5bG9hZEJ5dGVzXCI6e1xuXHRcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdGlmICh0eXBlb2YgcGF5bG9hZCA9PT0gXCJzdHJpbmdcIikge1xuXHRcdFx0XHRcdFx0XHR2YXIgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKFVURjhMZW5ndGgocGF5bG9hZCkpO1xuXHRcdFx0XHRcdFx0XHR2YXIgYnl0ZVN0cmVhbSA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlcik7XG5cdFx0XHRcdFx0XHRcdHN0cmluZ1RvVVRGOChwYXlsb2FkLCBieXRlU3RyZWFtLCAwKTtcblxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gYnl0ZVN0cmVhbTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBwYXlsb2FkO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0XCJkZXN0aW5hdGlvbk5hbWVcIjp7XG5cdFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdFx0XHRnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gZGVzdGluYXRpb25OYW1lOyB9LFxuXHRcdFx0XHRcdHNldDogZnVuY3Rpb24obmV3RGVzdGluYXRpb25OYW1lKSB7XG5cdFx0XHRcdFx0XHRpZiAodHlwZW9mIG5ld0Rlc3RpbmF0aW9uTmFtZSA9PT0gXCJzdHJpbmdcIilcblx0XHRcdFx0XHRcdFx0ZGVzdGluYXRpb25OYW1lID0gbmV3RGVzdGluYXRpb25OYW1lO1xuXHRcdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLklOVkFMSURfQVJHVU1FTlQsIFtuZXdEZXN0aW5hdGlvbk5hbWUsIFwibmV3RGVzdGluYXRpb25OYW1lXCJdKSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRcInFvc1wiOntcblx0XHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBxb3M7IH0sXG5cdFx0XHRcdFx0c2V0OiBmdW5jdGlvbihuZXdRb3MpIHtcblx0XHRcdFx0XHRcdGlmIChuZXdRb3MgPT09IDAgfHwgbmV3UW9zID09PSAxIHx8IG5ld1FvcyA9PT0gMiApXG5cdFx0XHRcdFx0XHRcdHFvcyA9IG5ld1Fvcztcblx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudDpcIituZXdRb3MpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0XCJyZXRhaW5lZFwiOntcblx0XHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdGdldDogZnVuY3Rpb24oKSB7IHJldHVybiByZXRhaW5lZDsgfSxcblx0XHRcdFx0XHRzZXQ6IGZ1bmN0aW9uKG5ld1JldGFpbmVkKSB7XG5cdFx0XHRcdFx0XHRpZiAodHlwZW9mIG5ld1JldGFpbmVkID09PSBcImJvb2xlYW5cIilcblx0XHRcdFx0XHRcdFx0cmV0YWluZWQgPSBuZXdSZXRhaW5lZDtcblx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGZvcm1hdChFUlJPUi5JTlZBTElEX0FSR1VNRU5ULCBbbmV3UmV0YWluZWQsIFwibmV3UmV0YWluZWRcIl0pKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdFwidG9waWNcIjp7XG5cdFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdFx0XHRnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gZGVzdGluYXRpb25OYW1lOyB9LFxuXHRcdFx0XHRcdHNldDogZnVuY3Rpb24obmV3VG9waWMpIHtkZXN0aW5hdGlvbk5hbWU9bmV3VG9waWM7fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRcImR1cGxpY2F0ZVwiOntcblx0XHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBkdXBsaWNhdGU7IH0sXG5cdFx0XHRcdFx0c2V0OiBmdW5jdGlvbihuZXdEdXBsaWNhdGUpIHtkdXBsaWNhdGU9bmV3RHVwbGljYXRlO31cblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fTtcblxuXHRcdC8vIE1vZHVsZSBjb250ZW50cy5cblx0XHRyZXR1cm4ge1xuXHRcdFx0Q2xpZW50OiBDbGllbnQsXG5cdFx0XHRNZXNzYWdlOiBNZXNzYWdlXG5cdFx0fTtcblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5lc3RlZC10ZXJuYXJ5XG5cdH0pKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30pO1xuXHRyZXR1cm4gUGFob01RVFQ7XG59KTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/paho-mqtt/paho-mqtt.js\n");

/***/ }),

/***/ "./node_modules/process/browser.js":
/*!*****************************************!*\
  !*** ./node_modules/process/browser.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzP2YyOGMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHFDQUFxQzs7QUFFckM7QUFDQTtBQUNBOztBQUVBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsVUFBVSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/process/browser.js\n");

/***/ }),

/***/ "./node_modules/srcdoc-polyfill/srcdoc-polyfill.js":
/*!*********************************************************!*\
  !*** ./node_modules/srcdoc-polyfill/srcdoc-polyfill.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function(root, factory) {\n\t// `root` does not resolve to the global window object in a Browserified\n\t// bundle, so a direct reference to that object is used instead.\n\tvar _srcDoc = window.srcDoc;\n\n\tif (true) {\n\t\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports], __WEBPACK_AMD_DEFINE_RESULT__ = (function(exports) {\n\t\t\tfactory(exports, _srcDoc);\n\t\t\troot.srcDoc = exports;\n\t\t}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t} else {}\n})(this, function(exports, _srcDoc) {\n\tvar idx, iframes;\n\tvar isCompliant = !!(\"srcdoc\" in document.createElement(\"iframe\"));\n\tvar sandboxMsg = \"Polyfill may not function in the presence of the \" +\n\t\t\"`sandbox` attribute. Consider using the `force` option.\";\n\tvar sandboxAllow = /\\ballow-same-origin\\b/;\n\t/**\n\t * Determine if the operation may be blocked by the `sandbox` attribute in\n\t * some environments, and optionally issue a warning or remove the\n\t * attribute.\n\t */\n\tvar validate = function( iframe, options ) {\n\t\tvar sandbox = iframe.getAttribute(\"sandbox\");\n\t\tif (typeof sandbox === \"string\" && !sandboxAllow.test(sandbox)) {\n\t\t\tif (options && options.force) {\n\t\t\t\tiframe.removeAttribute(\"sandbox\");\n\t\t\t} else if (!options || options.force !== false) {\n\t\t\t\tlogError(sandboxMsg);\n\t\t\t\tiframe.setAttribute(\"data-srcdoc-polyfill\", sandboxMsg);\n\t\t\t}\n\t\t}\n\t};\n\tvar implementations = {\n\t\tcompliant: function( iframe, content, options ) {\n\n\t\t\tif (content) {\n\t\t\t\tvalidate(iframe, options);\n\t\t\t\tiframe.setAttribute(\"srcdoc\", content);\n\t\t\t}\n\t\t},\n\t\tlegacy: function( iframe, content, options ) {\n\n\t\t\tvar jsUrl;\n\n\t\t\tif (!iframe || !iframe.getAttribute) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!content) {\n\t\t\t\tcontent = iframe.getAttribute(\"srcdoc\");\n\t\t\t} else {\n\t\t\t\tiframe.setAttribute(\"srcdoc\", content);\n\t\t\t}\n\n\t\t\tif (content) {\n\t\t\t\tvalidate(iframe, options);\n\n\t\t\t\t// The value returned by a script-targeted URL will be used as\n\t\t\t\t// the iFrame's content. Create such a URL which returns the\n\t\t\t\t// iFrame element's `srcdoc` attribute.\n\t\t\t\tjsUrl = \"javascript: window.frameElement.getAttribute('srcdoc');\";\n\n\t\t\t\t// Explicitly set the iFrame's window.location for\n\t\t\t\t// compatability with IE9, which does not react to changes in\n\t\t\t\t// the `src` attribute when it is a `javascript:` URL, for\n\t\t\t\t// some reason\n\t\t\t\tif (iframe.contentWindow) {\n\t\t\t\t\tiframe.contentWindow.location = jsUrl;\n\t\t\t\t}\n\n\t\t\t\tiframe.setAttribute(\"src\", jsUrl);\n\t\t\t}\n\t\t}\n\t};\n\tvar srcDoc = exports;\n\tvar logError;\n\n\tif (window.console && window.console.error) {\n\t\tlogError = function(msg) {\n\t\t\twindow.console.error(\"[srcdoc-polyfill] \" + msg);\n\t\t};\n\t} else {\n\t\tlogError = function() {};\n\t}\n\n\t// Assume the best\n\tsrcDoc.set = implementations.compliant;\n\tsrcDoc.noConflict = function() {\n\t\twindow.srcDoc = _srcDoc;\n\t\treturn srcDoc;\n\t};\n\n\t// If the browser supports srcdoc, no shimming is necessary\n\tif (isCompliant) {\n\t\treturn;\n\t}\n\n\tsrcDoc.set = implementations.legacy;\n\n\t// Automatically shim any iframes already present in the document\n\tiframes = document.getElementsByTagName(\"iframe\");\n\tidx = iframes.length;\n\n\twhile (idx--) {\n\t\tsrcDoc.set( iframes[idx] );\n\t}\n\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3JjZG9jLXBvbHlmaWxsL3NyY2RvYy1wb2x5ZmlsbC5qcz82MGYxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEtBQUssSUFBMEM7QUFDL0MsRUFBRSxpQ0FBTyxDQUFDLE9BQVMsQ0FBQyxtQ0FBRTtBQUN0QjtBQUNBO0FBQ0EsR0FBRztBQUFBLG9HQUFDO0FBQ0osRUFBRSxNQUFNLEVBS047QUFDRixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxvRUFBb0U7O0FBRXBFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLENBQUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3JjZG9jLXBvbHlmaWxsL3NyY2RvYy1wb2x5ZmlsbC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdC8vIGByb290YCBkb2VzIG5vdCByZXNvbHZlIHRvIHRoZSBnbG9iYWwgd2luZG93IG9iamVjdCBpbiBhIEJyb3dzZXJpZmllZFxuXHQvLyBidW5kbGUsIHNvIGEgZGlyZWN0IHJlZmVyZW5jZSB0byB0aGF0IG9iamVjdCBpcyB1c2VkIGluc3RlYWQuXG5cdHZhciBfc3JjRG9jID0gd2luZG93LnNyY0RvYztcblxuXHRpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcblx0XHRkZWZpbmUoWydleHBvcnRzJ10sIGZ1bmN0aW9uKGV4cG9ydHMpIHtcblx0XHRcdGZhY3RvcnkoZXhwb3J0cywgX3NyY0RvYyk7XG5cdFx0XHRyb290LnNyY0RvYyA9IGV4cG9ydHM7XG5cdFx0fSk7XG5cdH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09IFwib2JqZWN0XCIpIHtcblx0XHRmYWN0b3J5KGV4cG9ydHMsIF9zcmNEb2MpO1xuXHR9IGVsc2Uge1xuXHRcdHJvb3Quc3JjRG9jID0ge307XG5cdFx0ZmFjdG9yeShyb290LnNyY0RvYywgX3NyY0RvYyk7XG5cdH1cbn0pKHRoaXMsIGZ1bmN0aW9uKGV4cG9ydHMsIF9zcmNEb2MpIHtcblx0dmFyIGlkeCwgaWZyYW1lcztcblx0dmFyIGlzQ29tcGxpYW50ID0gISEoXCJzcmNkb2NcIiBpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpKTtcblx0dmFyIHNhbmRib3hNc2cgPSBcIlBvbHlmaWxsIG1heSBub3QgZnVuY3Rpb24gaW4gdGhlIHByZXNlbmNlIG9mIHRoZSBcIiArXG5cdFx0XCJgc2FuZGJveGAgYXR0cmlidXRlLiBDb25zaWRlciB1c2luZyB0aGUgYGZvcmNlYCBvcHRpb24uXCI7XG5cdHZhciBzYW5kYm94QWxsb3cgPSAvXFxiYWxsb3ctc2FtZS1vcmlnaW5cXGIvO1xuXHQvKipcblx0ICogRGV0ZXJtaW5lIGlmIHRoZSBvcGVyYXRpb24gbWF5IGJlIGJsb2NrZWQgYnkgdGhlIGBzYW5kYm94YCBhdHRyaWJ1dGUgaW5cblx0ICogc29tZSBlbnZpcm9ubWVudHMsIGFuZCBvcHRpb25hbGx5IGlzc3VlIGEgd2FybmluZyBvciByZW1vdmUgdGhlXG5cdCAqIGF0dHJpYnV0ZS5cblx0ICovXG5cdHZhciB2YWxpZGF0ZSA9IGZ1bmN0aW9uKCBpZnJhbWUsIG9wdGlvbnMgKSB7XG5cdFx0dmFyIHNhbmRib3ggPSBpZnJhbWUuZ2V0QXR0cmlidXRlKFwic2FuZGJveFwiKTtcblx0XHRpZiAodHlwZW9mIHNhbmRib3ggPT09IFwic3RyaW5nXCIgJiYgIXNhbmRib3hBbGxvdy50ZXN0KHNhbmRib3gpKSB7XG5cdFx0XHRpZiAob3B0aW9ucyAmJiBvcHRpb25zLmZvcmNlKSB7XG5cdFx0XHRcdGlmcmFtZS5yZW1vdmVBdHRyaWJ1dGUoXCJzYW5kYm94XCIpO1xuXHRcdFx0fSBlbHNlIGlmICghb3B0aW9ucyB8fCBvcHRpb25zLmZvcmNlICE9PSBmYWxzZSkge1xuXHRcdFx0XHRsb2dFcnJvcihzYW5kYm94TXNnKTtcblx0XHRcdFx0aWZyYW1lLnNldEF0dHJpYnV0ZShcImRhdGEtc3JjZG9jLXBvbHlmaWxsXCIsIHNhbmRib3hNc2cpO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblx0dmFyIGltcGxlbWVudGF0aW9ucyA9IHtcblx0XHRjb21wbGlhbnQ6IGZ1bmN0aW9uKCBpZnJhbWUsIGNvbnRlbnQsIG9wdGlvbnMgKSB7XG5cblx0XHRcdGlmIChjb250ZW50KSB7XG5cdFx0XHRcdHZhbGlkYXRlKGlmcmFtZSwgb3B0aW9ucyk7XG5cdFx0XHRcdGlmcmFtZS5zZXRBdHRyaWJ1dGUoXCJzcmNkb2NcIiwgY29udGVudCk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRsZWdhY3k6IGZ1bmN0aW9uKCBpZnJhbWUsIGNvbnRlbnQsIG9wdGlvbnMgKSB7XG5cblx0XHRcdHZhciBqc1VybDtcblxuXHRcdFx0aWYgKCFpZnJhbWUgfHwgIWlmcmFtZS5nZXRBdHRyaWJ1dGUpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIWNvbnRlbnQpIHtcblx0XHRcdFx0Y29udGVudCA9IGlmcmFtZS5nZXRBdHRyaWJ1dGUoXCJzcmNkb2NcIik7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZnJhbWUuc2V0QXR0cmlidXRlKFwic3JjZG9jXCIsIGNvbnRlbnQpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoY29udGVudCkge1xuXHRcdFx0XHR2YWxpZGF0ZShpZnJhbWUsIG9wdGlvbnMpO1xuXG5cdFx0XHRcdC8vIFRoZSB2YWx1ZSByZXR1cm5lZCBieSBhIHNjcmlwdC10YXJnZXRlZCBVUkwgd2lsbCBiZSB1c2VkIGFzXG5cdFx0XHRcdC8vIHRoZSBpRnJhbWUncyBjb250ZW50LiBDcmVhdGUgc3VjaCBhIFVSTCB3aGljaCByZXR1cm5zIHRoZVxuXHRcdFx0XHQvLyBpRnJhbWUgZWxlbWVudCdzIGBzcmNkb2NgIGF0dHJpYnV0ZS5cblx0XHRcdFx0anNVcmwgPSBcImphdmFzY3JpcHQ6IHdpbmRvdy5mcmFtZUVsZW1lbnQuZ2V0QXR0cmlidXRlKCdzcmNkb2MnKTtcIjtcblxuXHRcdFx0XHQvLyBFeHBsaWNpdGx5IHNldCB0aGUgaUZyYW1lJ3Mgd2luZG93LmxvY2F0aW9uIGZvclxuXHRcdFx0XHQvLyBjb21wYXRhYmlsaXR5IHdpdGggSUU5LCB3aGljaCBkb2VzIG5vdCByZWFjdCB0byBjaGFuZ2VzIGluXG5cdFx0XHRcdC8vIHRoZSBgc3JjYCBhdHRyaWJ1dGUgd2hlbiBpdCBpcyBhIGBqYXZhc2NyaXB0OmAgVVJMLCBmb3Jcblx0XHRcdFx0Ly8gc29tZSByZWFzb25cblx0XHRcdFx0aWYgKGlmcmFtZS5jb250ZW50V2luZG93KSB7XG5cdFx0XHRcdFx0aWZyYW1lLmNvbnRlbnRXaW5kb3cubG9jYXRpb24gPSBqc1VybDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmcmFtZS5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwganNVcmwpO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblx0dmFyIHNyY0RvYyA9IGV4cG9ydHM7XG5cdHZhciBsb2dFcnJvcjtcblxuXHRpZiAod2luZG93LmNvbnNvbGUgJiYgd2luZG93LmNvbnNvbGUuZXJyb3IpIHtcblx0XHRsb2dFcnJvciA9IGZ1bmN0aW9uKG1zZykge1xuXHRcdFx0d2luZG93LmNvbnNvbGUuZXJyb3IoXCJbc3JjZG9jLXBvbHlmaWxsXSBcIiArIG1zZyk7XG5cdFx0fTtcblx0fSBlbHNlIHtcblx0XHRsb2dFcnJvciA9IGZ1bmN0aW9uKCkge307XG5cdH1cblxuXHQvLyBBc3N1bWUgdGhlIGJlc3Rcblx0c3JjRG9jLnNldCA9IGltcGxlbWVudGF0aW9ucy5jb21wbGlhbnQ7XG5cdHNyY0RvYy5ub0NvbmZsaWN0ID0gZnVuY3Rpb24oKSB7XG5cdFx0d2luZG93LnNyY0RvYyA9IF9zcmNEb2M7XG5cdFx0cmV0dXJuIHNyY0RvYztcblx0fTtcblxuXHQvLyBJZiB0aGUgYnJvd3NlciBzdXBwb3J0cyBzcmNkb2MsIG5vIHNoaW1taW5nIGlzIG5lY2Vzc2FyeVxuXHRpZiAoaXNDb21wbGlhbnQpIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRzcmNEb2Muc2V0ID0gaW1wbGVtZW50YXRpb25zLmxlZ2FjeTtcblxuXHQvLyBBdXRvbWF0aWNhbGx5IHNoaW0gYW55IGlmcmFtZXMgYWxyZWFkeSBwcmVzZW50IGluIHRoZSBkb2N1bWVudFxuXHRpZnJhbWVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJpZnJhbWVcIik7XG5cdGlkeCA9IGlmcmFtZXMubGVuZ3RoO1xuXG5cdHdoaWxlIChpZHgtLSkge1xuXHRcdHNyY0RvYy5zZXQoIGlmcmFtZXNbaWR4XSApO1xuXHR9XG5cbn0pO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/srcdoc-polyfill/srcdoc-polyfill.js\n");

/***/ }),

/***/ "./node_modules/uuid/lib/bytesToUuid.js":
/*!**********************************************!*\
  !*** ./node_modules/uuid/lib/bytesToUuid.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([bth[buf[i++]], bth[buf[i++]], \n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]]]).join('');\n}\n\nmodule.exports = bytesToUuid;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXVpZC9saWIvYnl0ZXNUb1V1aWQuanM/MjM2NiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdXVpZC9saWIvYnl0ZXNUb1V1aWQuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvbnZlcnQgYXJyYXkgb2YgMTYgYnl0ZSB2YWx1ZXMgdG8gVVVJRCBzdHJpbmcgZm9ybWF0IG9mIHRoZSBmb3JtOlxuICogWFhYWFhYWFgtWFhYWC1YWFhYLVhYWFgtWFhYWFhYWFhYWFhYXG4gKi9cbnZhciBieXRlVG9IZXggPSBbXTtcbmZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyArK2kpIHtcbiAgYnl0ZVRvSGV4W2ldID0gKGkgKyAweDEwMCkudG9TdHJpbmcoMTYpLnN1YnN0cigxKTtcbn1cblxuZnVuY3Rpb24gYnl0ZXNUb1V1aWQoYnVmLCBvZmZzZXQpIHtcbiAgdmFyIGkgPSBvZmZzZXQgfHwgMDtcbiAgdmFyIGJ0aCA9IGJ5dGVUb0hleDtcbiAgLy8gam9pbiB1c2VkIHRvIGZpeCBtZW1vcnkgaXNzdWUgY2F1c2VkIGJ5IGNvbmNhdGVuYXRpb246IGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMxNzUjYzRcbiAgcmV0dXJuIChbYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgXG5cdGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sICctJyxcblx0YnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgJy0nLFxuXHRidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLCAnLScsXG5cdGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sICctJyxcblx0YnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSxcblx0YnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSxcblx0YnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXV0pLmpvaW4oJycpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJ5dGVzVG9VdWlkO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/uuid/lib/bytesToUuid.js\n");

/***/ }),

/***/ "./node_modules/uuid/lib/rng-browser.js":
/*!**********************************************!*\
  !*** ./node_modules/uuid/lib/rng-browser.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXVpZC9saWIvcm5nLWJyb3dzZXIuanM/ZTFmNCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUNBQWlDOztBQUVqQztBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esc0JBQXNCLFFBQVE7QUFDOUI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy91dWlkL2xpYi9ybmctYnJvd3Nlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIFVuaXF1ZSBJRCBjcmVhdGlvbiByZXF1aXJlcyBhIGhpZ2ggcXVhbGl0eSByYW5kb20gIyBnZW5lcmF0b3IuICBJbiB0aGVcbi8vIGJyb3dzZXIgdGhpcyBpcyBhIGxpdHRsZSBjb21wbGljYXRlZCBkdWUgdG8gdW5rbm93biBxdWFsaXR5IG9mIE1hdGgucmFuZG9tKClcbi8vIGFuZCBpbmNvbnNpc3RlbnQgc3VwcG9ydCBmb3IgdGhlIGBjcnlwdG9gIEFQSS4gIFdlIGRvIHRoZSBiZXN0IHdlIGNhbiB2aWFcbi8vIGZlYXR1cmUtZGV0ZWN0aW9uXG5cbi8vIGdldFJhbmRvbVZhbHVlcyBuZWVkcyB0byBiZSBpbnZva2VkIGluIGEgY29udGV4dCB3aGVyZSBcInRoaXNcIiBpcyBhIENyeXB0b1xuLy8gaW1wbGVtZW50YXRpb24uIEFsc28sIGZpbmQgdGhlIGNvbXBsZXRlIGltcGxlbWVudGF0aW9uIG9mIGNyeXB0byBvbiBJRTExLlxudmFyIGdldFJhbmRvbVZhbHVlcyA9ICh0eXBlb2YoY3J5cHRvKSAhPSAndW5kZWZpbmVkJyAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChjcnlwdG8pKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICh0eXBlb2YobXNDcnlwdG8pICE9ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cubXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzID09ICdmdW5jdGlvbicgJiYgbXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQobXNDcnlwdG8pKTtcblxuaWYgKGdldFJhbmRvbVZhbHVlcykge1xuICAvLyBXSEFUV0cgY3J5cHRvIFJORyAtIGh0dHA6Ly93aWtpLndoYXR3Zy5vcmcvd2lraS9DcnlwdG9cbiAgdmFyIHJuZHM4ID0gbmV3IFVpbnQ4QXJyYXkoMTYpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB3aGF0d2dSTkcoKSB7XG4gICAgZ2V0UmFuZG9tVmFsdWVzKHJuZHM4KTtcbiAgICByZXR1cm4gcm5kczg7XG4gIH07XG59IGVsc2Uge1xuICAvLyBNYXRoLnJhbmRvbSgpLWJhc2VkIChSTkcpXG4gIC8vXG4gIC8vIElmIGFsbCBlbHNlIGZhaWxzLCB1c2UgTWF0aC5yYW5kb20oKS4gIEl0J3MgZmFzdCwgYnV0IGlzIG9mIHVuc3BlY2lmaWVkXG4gIC8vIHF1YWxpdHkuXG4gIHZhciBybmRzID0gbmV3IEFycmF5KDE2KTtcblxuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIG1hdGhSTkcoKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIHI7IGkgPCAxNjsgaSsrKSB7XG4gICAgICBpZiAoKGkgJiAweDAzKSA9PT0gMCkgciA9IE1hdGgucmFuZG9tKCkgKiAweDEwMDAwMDAwMDtcbiAgICAgIHJuZHNbaV0gPSByID4+PiAoKGkgJiAweDAzKSA8PCAzKSAmIDB4ZmY7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJuZHM7XG4gIH07XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/uuid/lib/rng-browser.js\n");

/***/ }),

/***/ "./node_modules/uuid/v4.js":
/*!*********************************!*\
  !*** ./node_modules/uuid/v4.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var rng = __webpack_require__(/*! ./lib/rng */ \"./node_modules/uuid/lib/rng-browser.js\");\nvar bytesToUuid = __webpack_require__(/*! ./lib/bytesToUuid */ \"./node_modules/uuid/lib/bytesToUuid.js\");\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXVpZC92NC5qcz9jNjRlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLFVBQVUsbUJBQU8sQ0FBQyx5REFBVztBQUM3QixrQkFBa0IsbUJBQU8sQ0FBQyxpRUFBbUI7O0FBRTdDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG9CQUFvQixTQUFTO0FBQzdCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL3V1aWQvdjQuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgcm5nID0gcmVxdWlyZSgnLi9saWIvcm5nJyk7XG52YXIgYnl0ZXNUb1V1aWQgPSByZXF1aXJlKCcuL2xpYi9ieXRlc1RvVXVpZCcpO1xuXG5mdW5jdGlvbiB2NChvcHRpb25zLCBidWYsIG9mZnNldCkge1xuICB2YXIgaSA9IGJ1ZiAmJiBvZmZzZXQgfHwgMDtcblxuICBpZiAodHlwZW9mKG9wdGlvbnMpID09ICdzdHJpbmcnKSB7XG4gICAgYnVmID0gb3B0aW9ucyA9PT0gJ2JpbmFyeScgPyBuZXcgQXJyYXkoMTYpIDogbnVsbDtcbiAgICBvcHRpb25zID0gbnVsbDtcbiAgfVxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICB2YXIgcm5kcyA9IG9wdGlvbnMucmFuZG9tIHx8IChvcHRpb25zLnJuZyB8fCBybmcpKCk7XG5cbiAgLy8gUGVyIDQuNCwgc2V0IGJpdHMgZm9yIHZlcnNpb24gYW5kIGBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkYFxuICBybmRzWzZdID0gKHJuZHNbNl0gJiAweDBmKSB8IDB4NDA7XG4gIHJuZHNbOF0gPSAocm5kc1s4XSAmIDB4M2YpIHwgMHg4MDtcblxuICAvLyBDb3B5IGJ5dGVzIHRvIGJ1ZmZlciwgaWYgcHJvdmlkZWRcbiAgaWYgKGJ1Zikge1xuICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCAxNjsgKytpaSkge1xuICAgICAgYnVmW2kgKyBpaV0gPSBybmRzW2lpXTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYnVmIHx8IGJ5dGVzVG9VdWlkKHJuZHMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHY0O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/uuid/v4.js\n");

/***/ }),

/***/ "./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzP2NkMDAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw0Q0FBNEM7O0FBRTVDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL3dlYnBhY2svYnVpbGRpbi9nbG9iYWwuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/webpack/buildin/global.js\n");

/***/ }),

/***/ "./node_modules/webpack/buildin/module.js":
/*!***********************************!*\
  !*** (webpack)/buildin/module.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vbW9kdWxlLmpzP2NlZDIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL3dlYnBhY2svYnVpbGRpbi9tb2R1bGUuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuXHRpZiAoIW1vZHVsZS53ZWJwYWNrUG9seWZpbGwpIHtcblx0XHRtb2R1bGUuZGVwcmVjYXRlID0gZnVuY3Rpb24oKSB7fTtcblx0XHRtb2R1bGUucGF0aHMgPSBbXTtcblx0XHQvLyBtb2R1bGUucGFyZW50ID0gdW5kZWZpbmVkIGJ5IGRlZmF1bHRcblx0XHRpZiAoIW1vZHVsZS5jaGlsZHJlbikgbW9kdWxlLmNoaWxkcmVuID0gW107XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJsb2FkZWRcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBtb2R1bGUubDtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImlkXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0bW9kdWxlLndlYnBhY2tQb2x5ZmlsbCA9IDE7XG5cdH1cblx0cmV0dXJuIG1vZHVsZTtcbn07XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/webpack/buildin/module.js\n");

/***/ }),

/***/ "./package.json":
/*!**********************!*\
  !*** ./package.json ***!
  \**********************/
/*! exports provided: name, title, version, description, main, keywords, license, scripts, dependencies, devDependencies, default */
/***/ (function(module) {

eval("module.exports = JSON.parse(\"{\\\"name\\\":\\\"videojs-mse-over-clsp\\\",\\\"title\\\":\\\"CLSP Plugin\\\",\\\"version\\\":\\\"0.16.4+6\\\",\\\"description\\\":\\\"Uses clsp (iot) as a video distribution system, video is is received via the clsp client then rendered using the media source extensions. \\\",\\\"main\\\":\\\"dist/videojs-mse-over-clsp.js\\\",\\\"keywords\\\":[\\\"videojs\\\",\\\"videojs-plugin\\\"],\\\"license\\\":\\\"MIT\\\",\\\"scripts\\\":{\\\"build\\\":\\\"./scripts/build.sh\\\",\\\"serve\\\":\\\"./scripts/serve.sh\\\",\\\"serve:vagrant\\\":\\\"WATCH_WITH_POLLING=true yarn run serve\\\",\\\"lint\\\":\\\"./scripts/lint.sh\\\",\\\"lint-fix\\\":\\\"./scripts/lint.sh --fix\\\",\\\"preversion\\\":\\\"./scripts/version.sh --pre\\\",\\\"version\\\":\\\"./scripts/version.sh\\\",\\\"postversion\\\":\\\"./scripts/version.sh --post\\\"},\\\"dependencies\\\":{\\\"debug\\\":\\\"4.1.1\\\",\\\"lodash\\\":\\\"4.17.15\\\",\\\"paho-mqtt\\\":\\\"1.1.0\\\"},\\\"devDependencies\\\":{\\\"@babel/core\\\":\\\"7.7.7\\\",\\\"@babel/plugin-proposal-class-properties\\\":\\\"7.7.4\\\",\\\"@babel/plugin-proposal-object-rest-spread\\\":\\\"7.7.7\\\",\\\"@babel/plugin-syntax-dynamic-import\\\":\\\"7.7.4\\\",\\\"@babel/polyfill\\\":\\\"7.7.0\\\",\\\"@babel/preset-env\\\":\\\"7.7.7\\\",\\\"babel-eslint\\\":\\\"10.0.3\\\",\\\"babel-loader\\\":\\\"8.0.6\\\",\\\"chalk\\\":\\\"3.0.0\\\",\\\"css-loader\\\":\\\"3.4.1\\\",\\\"eslint\\\":\\\"6.8.0\\\",\\\"eslint-config-standard\\\":\\\"14.1.0\\\",\\\"eslint-plugin-import\\\":\\\"2.19.1\\\",\\\"eslint-plugin-node\\\":\\\"11.0.0\\\",\\\"eslint-plugin-promise\\\":\\\"4.2.1\\\",\\\"eslint-plugin-standard\\\":\\\"4.0.1\\\",\\\"extract-text-webpack-plugin\\\":\\\"4.0.0-beta.0\\\",\\\"humanize\\\":\\\"0.0.9\\\",\\\"jquery\\\":\\\"3.4.1\\\",\\\"moment\\\":\\\"2.24.0\\\",\\\"node-sass\\\":\\\"4.13.0\\\",\\\"pre-commit\\\":\\\"1.2.2\\\",\\\"progress-bar-webpack-plugin\\\":\\\"1.12.1\\\",\\\"sass-loader\\\":\\\"8.0.0\\\",\\\"srcdoc-polyfill\\\":\\\"1.0.0\\\",\\\"standard\\\":\\\"14.3.1\\\",\\\"style-loader\\\":\\\"1.1.2\\\",\\\"terser-webpack-plugin\\\":\\\"2.3.2\\\",\\\"url-loader\\\":\\\"3.0.0\\\",\\\"video.js\\\":\\\"7.6.6\\\",\\\"videojs-errors\\\":\\\"4.3.0\\\",\\\"webpack\\\":\\\"4.41.5\\\",\\\"webpack-bundle-analyzer\\\":\\\"3.6.0\\\",\\\"webpack-dev-server\\\":\\\"3.10.1\\\",\\\"write-file-webpack-plugin\\\":\\\"4.5.1\\\"}}\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiIuL3BhY2thZ2UuanNvbi5qcyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./package.json\n");

/***/ }),

/***/ "./src/js/conduit/Conduit.js":
/*!***********************************!*\
  !*** ./src/js/conduit/Conduit.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Conduit; });\n/* harmony import */ var _Router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Router */ \"./src/js/conduit/Router.js\");\n/* harmony import */ var _utils_logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/logger */ \"./src/js/utils/logger.js\");\n/* harmony import */ var _iov_StreamConfiguration__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../iov/StreamConfiguration */ \"./src/js/iov/StreamConfiguration.js\");\n\n/**\n * The Conduit a hidden iframe that is used to establish a dedicated mqtt\n * websocket for a single video. This is basically an in-browser micro service\n * which uses cross-document communication to route data to and from the iframe.\n *\n * This code is a layer of abstraction on top of the mqtt router, and the\n * controller of the iframe that contains the router.\n */\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\nvar MAX_RECONNECTION_ATTEMPTS = 200;\n\nvar Conduit =\n/*#__PURE__*/\nfunction () {\n  _createClass(Conduit, null, [{\n    key: \"factory\",\n    // seconds\n    // seconds\n    // seconds\n    // seconds\n    value: function factory(logId, clientId, streamConfiguration, containerElement, onMessageError) {\n      return new Conduit(logId, clientId, streamConfiguration, containerElement, onMessageError);\n    }\n    /**\n     * @private\n     *\n     * @param {String} logId\n     *   a string that identifies this router in log messages\n     * @param {String} clientId\n     *   the guid to be used to construct the topic\n     * @param {StreamConfiguration} streamConfiguration\n     *   The stream configuration to pull from the CLSP server / SFS\n     * @param {Element} containerElement\n     *   The container of the video element and where the Conduit's iframe will be\n     *   inserted\n     * @param {Function} onMessageError\n     *   The action to perform when an error is encountered between the Router\n     *   and Conduit instances\n     */\n\n  }]);\n\n  function Conduit(logId, clientId, streamConfiguration, containerElement) {\n    var onMessageError = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : function () {};\n\n    _classCallCheck(this, Conduit);\n\n    if (!logId) {\n      throw new Error('logId is required to construct a new Conduit instance.');\n    }\n\n    if (!clientId) {\n      throw new Error('clientId is required to construct a new Conduit instance.');\n    }\n\n    if (!_iov_StreamConfiguration__WEBPACK_IMPORTED_MODULE_2__[\"default\"].isStreamConfiguration(streamConfiguration)) {\n      throw new Error('invalid streamConfiguration passed to Conduit constructor');\n    }\n\n    if (!containerElement) {\n      throw new Error('containerElement is required to construct a new Conduit instance');\n    }\n\n    this.logId = logId;\n    this.clientId = clientId;\n    this.streamConfiguration = streamConfiguration;\n    this.containerElement = containerElement;\n    this.streamName = this.streamConfiguration.streamName;\n    this.guid = null;\n    this.logger = Object(_utils_logger__WEBPACK_IMPORTED_MODULE_1__[\"default\"])().factory(\"Conduit \".concat(this.logId));\n    this.logger.debug('Constructing...');\n    this.statsMsg = {\n      byteCount: 0,\n      inkbps: 0,\n      host: document.location.host,\n      clientId: this.clientId\n    };\n    this.handlers = {};\n    this.reconnectionAttempts = 0;\n    this.connected = false;\n    this._onMessageError = onMessageError;\n    this.statsInterval = null;\n    this.requestStreamDataTimeout = null;\n    this.moovTimeout = null;\n    this.firstMoofTimeout = null;\n    this.moovRequestTopic = \"\".concat(this.clientId, \"/init-segment/\").concat(parseInt(Math.random() * 1000000));\n  }\n  /**\n   * After constructing, call this to initialize the conduit, which will create\n   * the iframe and the Router needed to get the stream from the server.\n   *\n   * @returns Promise\n   *   Resolves when the Router has been successfully created.\n   *   Rejects upon failure to create the Router.\n   */\n\n\n  _createClass(Conduit, [{\n    key: \"initialize\",\n    value: function initialize() {\n      var _this = this;\n\n      this.logger.debug('Initializing...');\n      return new Promise(function (resolve, reject) {\n        _this._onRouterCreate = function (event) {\n          var clientId = event.data.clientId; // A window message was received that is not related to CLSP\n\n          if (!clientId) {\n            return;\n          } // This message was intended for another Conduit instance\n\n\n          if (_this.clientId !== clientId) {\n            return;\n          }\n\n          var eventType = event.data.event; // Filter out all other window messages from the Router\n\n          if (eventType !== Conduit.routerEvents.CREATED && eventType !== Conduit.routerEvents.CREATE_FAILURE) {\n            return;\n          }\n\n          _this.logger.debug(\"initialize \\\"\".concat(eventType, \"\\\" event\")); // Whether success or failure, remove the event listener\n\n\n          window.removeEventListener('message', _this._onRouterCreate); // Once the event listener is removed, remove the listener handler,\n          // since it will not be used again and to prevent the `destroy` method\n          // from trying to unregister it.\n\n          _this._onRouterCreate = null;\n\n          if (eventType === Conduit.routerEvents.CREATE_FAILURE) {\n            return reject(event.data.reason);\n          }\n\n          resolve();\n        }; // When the Router in the iframe connects, it will broadcast a message\n        // letting us know it connected, or letting us know it failed.\n\n\n        window.addEventListener('message', _this._onRouterCreate);\n        _this.iframe = _this._generateIframe(); // @todo - if the Iov were to create a wrapper around the video element\n        // that it manages (rather than expecting one to already be there), each\n        // video element and iframe could be contained in a single container,\n        // rather than potentially having multiple video elements and multiple\n        // iframes contained in a single parent.\n\n        _this.containerElement.appendChild(_this.iframe);\n      });\n    }\n    /**\n     * After initialization, call this to establish the connection to the server.\n     *\n     * Note that this is called within the play method, so you shouldn't ever need\n     * to manually call `connect`.\n     *\n     * @returns Promise\n     *   Resolves when the connection is successfully established.\n     *   Rejects upon failure to connect after a number of retries.\n     */\n\n  }, {\n    key: \"connect\",\n    value: function connect() {\n      var _this2 = this;\n\n      this.logger.debug('Connecting to MQTT server...');\n      return new Promise(function (resolve, reject) {\n        _this2._onConnect = function (event) {\n          var clientId = event.data.clientId; // A window message was received that is not related to CLSP\n\n          if (!clientId) {\n            return;\n          } // This message was intended for another conduit\n\n\n          if (_this2.clientId !== clientId) {\n            return;\n          }\n\n          var eventType = event.data.event; // Filter out all other window messages\n\n          if (eventType !== Conduit.routerEvents.CONNECT_SUCCESS && eventType !== Conduit.routerEvents.CONNECT_FAILURE) {\n            return;\n          }\n\n          _this2.logger.debug(\"connect \\\"\".concat(eventType, \"\\\" event\")); // Whether success or failure, remove the event listener\n\n\n          window.removeEventListener('message', _this2._onConnect);\n          _this2._onConnect = null;\n\n          if (eventType === Conduit.routerEvents.CONNECT_FAILURE) {\n            _this2.logger.error(new Error(event.data.reason));\n\n            _this2._reconnect().then(resolve)[\"catch\"](reject);\n\n            return;\n          } // the mse service will stop streaming to us if we don't send\n          // a message to iov/stats within 1 minute.\n\n\n          _this2.statsInterval = setInterval(function () {\n            _this2.publishStats();\n          }, Conduit.PUBLISH_STATS_INTERVAL * 1000);\n          _this2.connected = true;\n\n          _this2.logger.info('Connected');\n\n          resolve();\n        };\n\n        window.addEventListener('message', _this2._onConnect);\n\n        _this2._command({\n          method: Conduit.iframeCommands.CONNECT\n        });\n      });\n    }\n    /**\n     * Called many times, each time a moof (segment) is received\n     *\n     * @callback Conduit-onMoof\n     * @param {any} moof - a stream segment\n     */\n\n    /**\n     * If the JWT is valid or if we are not using a JWT, perform the necessary\n     * conduit operations to retrieve stream segments (moofs).  The actual\n     * \"playing\" occurs in the player, since it involves taking those received\n     * stream segments and using MSE to display them.\n     *\n     * @async\n     *\n     * @param {Conduit-onMoof} onMoof\n     *   the function that will handle the moof\n     *\n     * @returns {Promise}\n     *   * Resolves once the first moof has been received\n     *   * Rejects if the moov or first moof time out\n     */\n\n  }, {\n    key: \"play\",\n    value: function () {\n      var _play = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee(onMoof) {\n        var _ref, guid, mimeCodec, _ref2, moov;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.logger.info('Playing...'); // @todo - should we have a check to confirm that the conduit has been initialized?\n                // @todo - should connect be called here?\n\n                _context.next = 3;\n                return this.connect();\n\n              case 3:\n                if (!(this.streamConfiguration.jwt && this.streamConfiguration.jwt.length > 0)) {\n                  _context.next = 7;\n                  break;\n                }\n\n                _context.next = 6;\n                return this.validateJwt();\n\n              case 6:\n                this.streamName = _context.sent;\n\n              case 7:\n                if (!(this.streamConfiguration.hash && this.streamConfiguration.hash.length > 0)) {\n                  _context.next = 11;\n                  break;\n                }\n\n                _context.next = 10;\n                return this.validateHash();\n\n              case 10:\n                this.streamName = _context.sent;\n\n              case 11:\n                this.logger.info('Play is requesting stream...');\n                _context.prev = 12;\n                _context.next = 15;\n                return this.requestStreamData();\n\n              case 15:\n                _ref = _context.sent;\n                guid = _ref.guid;\n                mimeCodec = _ref.mimeCodec;\n                this.guid = guid; // Get the moov first\n\n                _context.next = 21;\n                return this.requestMoov();\n\n              case 21:\n                _ref2 = _context.sent;\n                moov = _ref2.moov;\n                _context.next = 25;\n                return this.requestMoofs(onMoof);\n\n              case 25:\n                return _context.abrupt(\"return\", {\n                  guid: guid,\n                  mimeCodec: mimeCodec,\n                  moov: moov\n                });\n\n              case 28:\n                _context.prev = 28;\n                _context.t0 = _context[\"catch\"](12);\n                this.logger.error(\"Error trying to play stream \".concat(this.streamName)); // @todo - we could retry\n\n                this.stop();\n                throw _context.t0;\n\n              case 33:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[12, 28]]);\n      }));\n\n      function play(_x) {\n        return _play.apply(this, arguments);\n      }\n\n      return play;\n    }()\n    /**\n     * Disconnect from the mqtt server\n     *\n     * @todo - return a promise that resolves when the disconnection is complete!\n     */\n\n  }, {\n    key: \"disconnect\",\n    value: function disconnect() {\n      this.logger.debug('Disconnecting...');\n      this.connected = false; // when a stream fails, it no longer needs to send stats to the\n      // server, and it may not even be connected to the server\n\n      this.clearStatsInterval();\n\n      this._command({\n        method: Conduit.iframeCommands.DISCONNECT\n      });\n    }\n    /**\n     * Stop the playing stream\n     *\n     * @todo - make this async and await the disconnection, and maybe even the\n     * unsubscribes\n     */\n\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      this.logger.debug('Stopping stream...'); // Clear all timeouts\n\n      this.clearRequestStreamDataTimeout();\n      this.clearMoovTimeout();\n      this.clearFirstMoofTimeout();\n\n      if (this.guid) {\n        // Stop listening for the moov\n        this.unsubscribe(this.moovRequestTopic); // Stop listening for moofs\n\n        this.unsubscribe(\"iov/video/\".concat(this.guid, \"/live\")); // Stop listening for resync events\n\n        this.unsubscribe(\"iov/video/\".concat(this.guid, \"/resync\")); // Tell the server we've stopped\n\n        this.publish(\"iov/video/\".concat(this.guid, \"/stop\"), {\n          clientId: this.clientId\n        });\n      } else {\n        this.logger.warn(\"Trying to stop stream \".concat(this.streamName, \" with no guid!\"));\n      }\n\n      this.disconnect();\n    }\n    /**\n     * Clean up and dereference the necessary properties.  Will also disconnect\n     * and destroy the iframe.\n     *\n     * @todo - return a Promise, but do not wait for the promise to resolve to\n     * continue the destroy logic.  the promise should resolve/reject based on\n     * the disconnect method call\n     *\n     * @returns {void}\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.logger.debug('Destroying...');\n\n      if (this.destroyed) {\n        return;\n      }\n\n      this.destroyed = true;\n\n      if (this._onConnect) {\n        window.removeEventListener('message', this._onConnect);\n        this._onConnect = null;\n      }\n\n      if (this._onRouterCreate) {\n        window.removeEventListener('message', this._onRouterCreate);\n        this._onRouterCreate = null;\n      }\n\n      this.stop();\n      this.clientId = null;\n      this.guid = null; // The caller must destroy the streamConfiguration\n\n      this.streamConfiguration = null;\n      this.containerElement = null; // The Router will be destroyed along with the iframe\n\n      this.iframe.parentNode.removeChild(this.iframe); // this.iframe.remove();\n\n      this.iframe.srcdoc = '';\n      this.iframe = null;\n      this.handlers = null;\n      this.reconnectionAttempts = null;\n      this.connected = null;\n      this.moovTimeout = null;\n      this.firstMoofTimeout = null;\n      this.moovRequestTopic = null;\n      this.statsMsg = null; // @todo - can this be safely dereferenced?\n      // this._onMessageError = null;\n    }\n    /**\n     * Validate the jwt that this conduit was constructed with.\n     *\n     * @returns Promise\n     *   Resolves the streamName when the response is received AND is successful.\n     *   Rejects if the transaction fails or if the response code is not 200.\n     */\n\n  }, {\n    key: \"validateJwt\",\n    value: function validateJwt() {\n      var _this3 = this;\n\n      this.logger.debug('Validating JWT...');\n      return new Promise(function (resolve, reject) {\n        try {\n          _this3.transaction('iov/jwtValidate', {\n            b64_access_url: _this3.streamConfiguration.b64_jwt_access_url,\n            token: _this3.streamConfiguration.jwt\n          }, function (response) {\n            // response ->  {\"status\": 200, \"target_url\": \"clsp://sfs1/fakestream\", \"error\": null}\n            if (response.status !== 200) {\n              if (response.status === 403) {\n                return reject(new Error('JwtUnAuthorized'));\n              }\n\n              return reject(new Error('JwtInvalid'));\n            } //TODO, figure out how to handle a change in the sfs url from the\n            // clsp-jwt from the target url returned from decrypting the jwt\n            // token.\n            // Example:\n            //    user enters 'clsp-jwt://sfs1/jwt?Start=0&End=...' for source\n            //    clspUrl = 'clsp://SFS2/streamOnDifferentSfs\n            // --- due to the videojs architecture i don't see a clean way of doing this.\n            // ==============================================================================\n            //    The only way I can see doing this cleanly is to change videojs itself to\n            //    allow the 'canHandleSource' function in MqttSourceHandler to return a\n            //    promise not a value, then ascychronously find out if it can play this\n            //    source after making the call to decrypt the jwt token.22\n            // =============================================================================\n            // Note: this could go away in architecture 2.0 if MQTT was a cluster in this\n            // case what is now the sfs ip address in clsp url will always be the same it will\n            // be the public ip of cluster gateway.\n\n\n            var t = response.target_url.split('/'); // get the actual stream name\n\n            var streamName = t[t.length - 1];\n            resolve(streamName);\n          });\n        } catch (error) {\n          reject(error);\n        }\n      });\n    }\n    /**\n     * Validate the hash that this conduit was constructed with.\n     *\n     * @returns Promise\n     *   Resolves the streamName when the response is received AND is successful.\n     *   Rejects if the transaction fails or if the response code is not 200.\n     */\n\n  }, {\n    key: \"validateHash\",\n    value: function validateHash() {\n      var _this4 = this;\n\n      this.logger.debug('Validating Hash...');\n      return new Promise(function (resolve, reject) {\n        try {\n          _this4.transaction('iov/hashValidate', {\n            b64HashURL: _this4.streamConfiguration.b64_hash_access_url,\n            token: _this4.streamConfiguration.hash\n          }, function (response) {\n            // response ->  {\"status\": 200, \"target_url\": \"clsp://sfs1/fakestream\", \"error\": null}\n            if (response.status !== 200) {\n              if (response.status === 403) {\n                return reject(new Error('HashUnAuthorized'));\n              }\n\n              return reject(new Error('HashInvalid'));\n            } //TODO, figure out how to handle a change in the sfs url from the\n            // clsp-hash from the target url returned from decrypting the hash\n            // token.\n            // Example:\n            //    user enters 'clsp-hash://sfs1/hash?start=0&end=...&token=...' for source\n            //    clspUrl = 'clsp://SFS2/streamOnDifferentSfs\n            // --- due to the videojs architecture i don't see a clean way of doing this.\n            // ==============================================================================\n            //    The only way I can see doing this cleanly is to change videojs itself to\n            //    allow the 'canHandleSource' function in MqttSourceHandler to return a\n            //    promise not a value, then ascychronously find out if it can play this\n            //    source after making the call to decrypt the hash token.22\n            // =============================================================================\n            // Note: this could go away in architecture 2.0 if MQTT was a cluster in this\n            // case what is now the sfs ip address in clsp url will always be the same it will\n            // be the public ip of cluster gateway.\n\n\n            var t = response.target_url.split('/'); // get the actual stream name\n\n            var streamName = t[t.length - 1];\n            resolve(streamName);\n          });\n        } catch (error) {\n          reject(error);\n        }\n      });\n    }\n    /**\n     * Get the `guid` and `mimeCodec` for the stream.  The guid serves as a stream\n     * instance for a given camera or video feed, and is needed to make requests\n     * for the stream instance.\n     *\n     * @returns {Promise}\n     */\n\n  }, {\n    key: \"requestStreamData\",\n    value: function requestStreamData() {\n      var _this5 = this;\n\n      this.logger.debug('Requesting Stream...');\n      return new Promise(function (resolve, reject) {\n        var hasRequestTimedout = false;\n        _this5.requestStreamDataTimeout = setTimeout(function () {\n          hasRequestTimedout = true;\n          reject(new Error(\"Stream data for stream \".concat(_this5.streamName, \" timed out after \").concat(Conduit.STREAM_DATA_TIMEOUT_DURATION, \" seconds\")));\n        }, Conduit.STREAM_DATA_TIMEOUT_DURATION * 1000);\n\n        _this5.transaction(\"iov/video/\".concat(window.btoa(_this5.streamName), \"/request\"), {\n          clientId: _this5.clientId\n        }, function (_ref3) {\n          var mimeCodec = _ref3.mimeCodec,\n              guid = _ref3.guid;\n\n          // If we received the moov after the timeout, do nothing\n          if (hasRequestTimedout) {\n            _this5.logger.warn('Received stream data, but requestStreamDataTimeout has already occurred...');\n\n            return;\n          }\n\n          _this5.clearRequestStreamDataTimeout(); // @todo - is it possible to do better error handling here?\n\n\n          if (!mimeCodec) {\n            return reject('Error while requesting stream: mimeCodec was not received!');\n          }\n\n          if (!guid) {\n            return reject('Error while requesting stream: guid was not received!');\n          }\n\n          resolve({\n            mimeCodec: mimeCodec,\n            guid: guid\n          });\n        });\n      });\n    }\n  }, {\n    key: \"clearStatsInterval\",\n    value: function clearStatsInterval() {\n      if (this.statsInterval) {\n        clearTimeout(this.statsInterval);\n        this.statsInterval = null;\n      }\n    }\n  }, {\n    key: \"clearRequestStreamDataTimeout\",\n    value: function clearRequestStreamDataTimeout() {\n      if (this.requestStreamDataTimeout) {\n        clearTimeout(this.requestStreamDataTimeout);\n        this.requestStreamDataTimeout = null;\n      }\n    }\n  }, {\n    key: \"clearMoovTimeout\",\n    value: function clearMoovTimeout() {\n      if (this.moovTimeout) {\n        clearTimeout(this.moovTimeout);\n        this.moovTimeout = null;\n      }\n    }\n  }, {\n    key: \"clearFirstMoofTimeout\",\n    value: function clearFirstMoofTimeout() {\n      if (this.firstMoofTimeout) {\n        clearTimeout(this.firstMoofTimeout);\n        this.firstMoofTimeout = null;\n      }\n    }\n    /**\n     * Request the moov from the SFS\n     *\n     * @todo - why is the clientId used here rather than the stream guid?\n     *\n     * @returns {Promise}\n     *   * Resolves when the moov is received\n     *   * Rejects if the moov is not received within the time defined by\n     *     MOOV_TIMEOUT_DURATION\n     */\n\n  }, {\n    key: \"requestMoov\",\n    value: function () {\n      var _requestMoov = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2() {\n        var _this6 = this;\n\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.logger.info('Requesting the moov...');\n\n                if (this.guid) {\n                  _context2.next = 3;\n                  break;\n                }\n\n                throw new Error('The guid must be set before requesting moofs');\n\n              case 3:\n                return _context2.abrupt(\"return\", new Promise(function (resolve, reject) {\n                  var hasMoovTimedOut = false;\n                  _this6.moovTimeout = setTimeout(function () {\n                    hasMoovTimedOut = true;\n                    reject(new Error(\"Moov for stream \".concat(_this6.streamName, \" timed out after \").concat(Conduit.MOOV_TIMEOUT_DURATION, \" seconds\")));\n                  }, Conduit.MOOV_TIMEOUT_DURATION * 1000);\n\n                  _this6.subscribe(_this6.moovRequestTopic, function (_ref4) {\n                    var payloadBytes = _ref4.payloadBytes;\n\n                    // If we received the moov after the timeout, do nothing\n                    if (hasMoovTimedOut) {\n                      _this6.logger.warn('Received moov, but moofTimeout has already occurred...');\n\n                      return;\n                    }\n\n                    _this6.clearMoovTimeout();\n\n                    var moov = payloadBytes; // @todo - in our error handling, we do not unsubscribe from this\n                    // topic - does that have a negative effect on the SFS?\n                    // @todo - what if the unsubscribe fails?\n                    // Once we have the moov, we don't need to listen for it anymore\n\n                    _this6.logger.info('Play is unsubscribing from the moov topic...');\n\n                    _this6.unsubscribe(_this6.moovRequestTopic);\n\n                    resolve({\n                      moov: moov\n                    });\n                  });\n\n                  var readyToRecevieMoofsTopic = \"iov/video/\".concat(_this6.guid, \"/play\"); // Once we are listening for the moov, tell the server (by publishing to\n                  // it) to start sending the CLSP stream.\n\n                  _this6.publish(readyToRecevieMoofsTopic, {\n                    initSegmentTopic: _this6.moovRequestTopic,\n                    clientId: _this6.clientId,\n                    jwt: _this6.streamConfiguration.jwt\n                  });\n                }));\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function requestMoov() {\n        return _requestMoov.apply(this, arguments);\n      }\n\n      return requestMoov;\n    }()\n    /**\n     * Request moofs from the SFS.  Should only be called after getting the moov.\n     *\n     * @param {Function} onMoof\n     *   The function to call when a moof is received\n     *\n     * @returns {Promise}\n     *   * Resolves when the first moof is received\n     *   * Rejects if the first moof is not received within the time defined by\n     *     FIRST_MOOF_TIMEOUT_DURATION\n     */\n\n  }, {\n    key: \"requestMoofs\",\n    value: function () {\n      var _requestMoofs = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee3() {\n        var _this7 = this;\n\n        var onMoof,\n            _args3 = arguments;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                onMoof = _args3.length > 0 && _args3[0] !== undefined ? _args3[0] : function () {};\n                this.logger.info('Setting up moof listener...');\n\n                if (this.guid) {\n                  _context3.next = 4;\n                  break;\n                }\n\n                throw new Error('The guid must be set before requesting moofs');\n\n              case 4:\n                return _context3.abrupt(\"return\", new Promise(function (resolve, reject) {\n                  var hasFirstMoofTimedOut = false;\n                  var hasReceivedFirstMoof = false;\n                  _this7.firstMoofTimeout = setTimeout(function () {\n                    hasFirstMoofTimedOut = true;\n                    reject(new Error(\"First moof for stream \".concat(_this7.streamName, \" timed out after \").concat(Conduit.FIRST_MOOF_TIMEOUT_DURATION, \" seconds\")));\n                  }, Conduit.FIRST_MOOF_TIMEOUT_DURATION * 1000);\n                  var moofReceivedTopic = \"iov/video/\".concat(_this7.guid, \"/live\"); // Set up the listener for the stream itself (the moof video segments)\n\n                  _this7.subscribe(moofReceivedTopic, function (mqttMessage) {\n                    if (!hasReceivedFirstMoof) {\n                      // If we received the first moof after the timeout, do nothing\n                      if (hasFirstMoofTimedOut) {\n                        _this7.logger.warn('Received first moof, but moofTimeout has already occurred...');\n\n                        return;\n                      } // If the firstMoofTimeout still exists, cancel it, since the request\n                      // did not timeout\n\n\n                      _this7.clearFirstMoofTimeout(); // Since this is the first moof, resolve\n\n\n                      hasReceivedFirstMoof = true;\n                      resolve({\n                        moofReceivedTopic: moofReceivedTopic\n                      });\n                    } // @todo - should we have a timeout that checks time between moofs?\n                    // e.g. if we are getting moofs, then after 30 seconds we haven't\n                    // received another moof, should that throw an error?\n\n\n                    onMoof(mqttMessage);\n                  });\n                }));\n\n              case 5:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function requestMoofs() {\n        return _requestMoofs.apply(this, arguments);\n      }\n\n      return requestMoofs;\n    }()\n    /**\n     * @callback Conduit-resyncStreamCb\n     * @param {any} - @todo - document this\n     */\n\n    /**\n     * @todo - provide method description\n     *\n     * @todo - return a Promise\n     *\n     * @param {Conduit-resyncStreamCb} onResync\n     *   The callback for the resync operation\n     */\n\n  }, {\n    key: \"resyncStream\",\n    value: function resyncStream(onResync) {\n      // subscribe to a sync topic that will be called if the stream that is\n      // feeding the mse service dies and has to be restarted that this player\n      // should restart the stream\n      this.subscribe(\"iov/video/\".concat(this.guid, \"/resync\"), onResync);\n    }\n    /**\n     * @callback Conduit-getStreamListCallback\n     * @param {any} - the list of available CLSP streams on the SFS\n     */\n\n    /**\n     * Get the list of available CLSP streams from the SFS\n     *\n     * Note - this isn't currently used anywhere\n     *\n     * @todo - return a Promise\n     *\n     * @param {Conduit-getStreamListCallback} cb\n     *\n     * @returns {void}\n     */\n\n  }, {\n    key: \"getStreamList\",\n    value: function getStreamList(cb) {\n      this.logger.debug('Getting Stream List...');\n      this.transaction('iov/video/list', {}, cb);\n    }\n    /**\n     * Handler for an iframe window message.\n     *\n     * @param {Object} event\n     *   We expect event to have \"data.event\", which represents the event that\n     *   occurred relative to the clsp stream.  \"ready\" means the stream is ready,\n     *   \"fail\" means there was an error, \"data\" means a video segment / moof was\n     *   sent.\n     */\n\n  }, {\n    key: \"onMessage\",\n    value: function onMessage(event) {\n      var eventType = event.data.event;\n      this.logger.debug(\"Message received for \\\"\".concat(eventType, \"\\\" event\"));\n\n      try {\n        switch (eventType) {\n          case Conduit.routerEvents.DATA_RECEIVED:\n            {\n              this._onMqttData(event.data);\n\n              break;\n            }\n\n          case Conduit.routerEvents.CONNECTION_LOST:\n            {\n              this.disconnect();\n\n              this._reconnect();\n\n              break;\n            }\n\n          case Conduit.routerEvents.WINDOW_MESSAGE_FAIL:\n            {\n              // @todo - do we really need to disconnect?\n              this.disconnect();\n              break;\n            }\n\n          case Conduit.routerEvents.CREATED:\n          case Conduit.routerEvents.CONNECT_SUCCESS:\n          case Conduit.routerEvents.DISCONNECT_SUCCESS:\n            {\n              break;\n            }\n\n          default:\n            {\n              this.logger.error(\"No match for event: \".concat(eventType));\n            }\n        }\n      } catch (error) {\n        this.logger.debug('onMessageError');\n\n        this._onMessageError(error);\n      }\n    }\n    /**\n     * To be called when a segment / moof is \"shown\".  In realistic terms, this is\n     * meant to be called when the moof is appended to the MSE SourceBuffer.  This\n     * method is meant to update stats.\n     *\n     * @param {Array} byteArray\n     *   The raw segment / moof\n     */\n\n  }, {\n    key: \"segmentUsed\",\n    value: function segmentUsed(byteArray) {\n      // @todo - it appears that this is never used!\n      if (this.LogSourceBuffer === true && this.LogSourceBufferTopic !== null) {\n        this.directSend({\n          method: Conduit.iframeCommands.SEND,\n          topic: this.LogSourceBufferTopic,\n          byteArray: byteArray\n        });\n      }\n\n      this.statsMsg.byteCount += byteArray.length;\n    }\n    /**\n     * Every time a segment / moof is received from the server, it should be\n     * passed to this method\n     *\n     * @param {*} message\n     */\n\n  }, {\n    key: \"_onMqttData\",\n    value: function _onMqttData(message) {\n      var topic = message.destinationName;\n      this.logger.debug(\"Handling message for topic \\\"\".concat(topic, \"\\\"\"));\n\n      if (!topic) {\n        throw new Error('Message contained no topic to handle!');\n      }\n\n      var handler = this.handlers[topic];\n\n      if (!handler) {\n        throw new Error(\"No handler for \".concat(topic));\n      }\n\n      handler(message);\n    }\n    /**\n     * @todo - provide method description\n     *\n     * @todo - return a Promise\n     *\n     * @param {String} topic\n     *   The topic to subscribe to\n     * @param {Conduit-subscribeCb} cb\n     *   The callback for the subscribe operation\n     */\n\n  }, {\n    key: \"subscribe\",\n    value: function subscribe(topic, handler) {\n      this.logger.debug(\"Subscribing to topic \\\"\".concat(topic, \"\\\"\"));\n      this.handlers[topic] = handler;\n\n      this._command({\n        method: Conduit.iframeCommands.SUBSCRIBE,\n        topic: topic\n      });\n    }\n    /**\n     * @todo - provide method description\n     *\n     * @todo - return a Promise\n     *\n     * @param {String} topic\n     *   The topic to unsubscribe from\n     */\n\n  }, {\n    key: \"unsubscribe\",\n    value: function unsubscribe(topic) {\n      this.logger.debug(\"Unsubscribing from topic \\\"\".concat(topic, \"\\\"\"));\n      delete this.handlers[topic];\n\n      this._command({\n        method: Conduit.iframeCommands.UNSUBSCRIBE,\n        topic: topic\n      });\n    }\n    /**\n     * @todo - provide method description\n     *\n     * @todo - return a Promise\n     *\n     * @param {String} topic\n     *   The topic to publish to\n     * @param {Object} data\n     *   The data to publish\n     */\n\n  }, {\n    key: \"publish\",\n    value: function publish(topic, data) {\n      this.logger.debug(\"Publishing to topic \\\"\".concat(topic, \"\\\"\"));\n\n      this._command({\n        method: Conduit.iframeCommands.PUBLISH,\n        topic: topic,\n        data: data\n      });\n    }\n    /**\n     * @todo - provide method description\n     *\n     * @todo - return a Promise\n     *\n     * @param {String} topic\n     *   The topic to send to\n     * @param {Array} byteArray\n     *   The raw data to send\n     */\n\n  }, {\n    key: \"directSend\",\n    value: function directSend(topic, byteArray) {\n      this.logger.debug('directSend...');\n\n      this._command({\n        method: Conduit.iframeCommands.SEND,\n        topic: topic,\n        byteArray: byteArray\n      });\n    }\n    /**\n     * @todo - provide method description\n     *\n     * @todo - return a Promise\n     *\n     * @param {String} topic\n     *   The topic to perform a transaction on\n     * @param {Object} messageData\n     *   The data to be published\n     * @param {Conduit-transactionCb} cb\n     */\n\n  }, {\n    key: \"transaction\",\n    value: function transaction(topic) {\n      var _this8 = this;\n\n      var messageData = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var cb = arguments.length > 2 ? arguments[2] : undefined;\n      this.logger.debug(\"transaction for \".concat(topic, \"...\"));\n      messageData.resp_topic = \"\".concat(this.clientId, \"/response/\").concat(parseInt(Math.random() * 1000000));\n      this.subscribe(messageData.resp_topic, function (response) {\n        if (cb) {\n          cb(JSON.parse(response.payloadString));\n        }\n\n        _this8.unsubscribe(messageData.resp_topic);\n      });\n      this.publish(topic, messageData);\n    }\n    /**\n     * @private\n     *\n     * Generate an iframe with an embedded mqtt router.  The router will be what\n     * this Conduit instance communicates with in subsequent commands.\n     *\n     * @returns Element\n     */\n\n  }, {\n    key: \"_generateIframe\",\n    value: function _generateIframe() {\n      this.logger.debug('Generating Iframe...');\n      var iframe = document.createElement('iframe');\n      iframe.setAttribute('id', this.clientId); // This iframe should be invisible\n\n      iframe.width = 0;\n      iframe.height = 0;\n      iframe.setAttribute('style', 'display:none;');\n      iframe.srcdoc = \"\\n      <html>\\n        <head>\\n          <script type=\\\"text/javascript\\\">\\n            // Include the logger\\n            window.Logger = \".concat(_utils_logger__WEBPACK_IMPORTED_MODULE_1__[\"default\"].toString(), \";\\n\\n            // Configure the CLSP properties\\n            window.mqttRouterConfig = {\\n              logId: '\").concat(this.logId, \"',\\n              clientId: '\").concat(this.clientId, \"',\\n              host: '\").concat(this.streamConfiguration.host, \"',\\n              port: \").concat(this.streamConfiguration.port, \",\\n              useSSL: \").concat(this.streamConfiguration.useSSL, \",\\n            };\\n\\n            window.conduitCommands = \").concat(JSON.stringify(Conduit.iframeCommands), \";\\n\\n            window.iframeEventHandlers = \").concat(_Router__WEBPACK_IMPORTED_MODULE_0__[\"default\"].toString(), \"();\\n          </script>\\n        </head>\\n        <body\\n          onload=\\\"window.iframeEventHandlers.onload();\\\"\\n          onunload=\\\"window.iframeEventHandlers.onunload();\\\"\\n        >\\n          <div id=\\\"message\\\"></div>\\n        </body>\\n      </html>\\n    \");\n      return iframe;\n    }\n    /**\n     * Attempt to reconnect a certain number of times\n     *\n     * @async\n     */\n\n  }, {\n    key: \"_reconnect\",\n    value: function () {\n      var _reconnect2 = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee4() {\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                this.logger.info('Reconnecting...');\n                this.reconnectionAttempts++;\n\n                if (!(this.reconnectionAttempts > MAX_RECONNECTION_ATTEMPTS)) {\n                  _context4.next = 4;\n                  break;\n                }\n\n                throw new Error(\"Failed to reconnect after \".concat(this.reconnectionAttempts, \" attempts.\"));\n\n              case 4:\n                _context4.prev = 4;\n                _context4.next = 7;\n                return this.connect();\n\n              case 7:\n                this.reconnectionAttempts = 0;\n                _context4.next = 14;\n                break;\n\n              case 10:\n                _context4.prev = 10;\n                _context4.t0 = _context4[\"catch\"](4);\n                this.logger.error(_context4.t0);\n\n                this._reconnect();\n\n              case 14:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this, [[4, 10]]);\n      }));\n\n      function _reconnect() {\n        return _reconnect2.apply(this, arguments);\n      }\n\n      return _reconnect;\n    }()\n    /**\n     * @private\n     *\n     * Pass an mqtt command to the iframe.\n     *\n     * @param {Object} message\n     */\n\n  }, {\n    key: \"_command\",\n    value: function _command(message) {\n      this.logger.debug('Sending a message to the iframe...');\n\n      try {\n        // @todo - we should not be dispatching to '*' - we should provide the SFS\n        // host here instead\n        // @see - https://developer.mozilla.org/en-US/docs/Web/API/Window/postMessage\n        this.iframe.contentWindow.postMessage(message, '*');\n      } catch (error) {\n        // @todo - we should probably throw here...\n        // eslint-disable-next-line no-console\n        console.error(error);\n      }\n    }\n    /**\n     * @private\n     *\n     * Send stats to the server\n     */\n\n  }, {\n    key: \"publishStats\",\n    value: function publishStats() {\n      this.statsMsg.inkbps = this.statsMsg.byteCount * 8 / 30000.0;\n      this.statsMsg.byteCount = 0;\n      this.publish('iov/stats', this.statsMsg);\n      this.logger.debug('iov status', this.statsMsg);\n    }\n  }]);\n\n  return Conduit;\n}();\n\n_defineProperty(Conduit, \"STREAM_DATA_TIMEOUT_DURATION\", 30);\n\n_defineProperty(Conduit, \"MOOV_TIMEOUT_DURATION\", 30);\n\n_defineProperty(Conduit, \"FIRST_MOOF_TIMEOUT_DURATION\", 45);\n\n_defineProperty(Conduit, \"PUBLISH_STATS_INTERVAL\", 5);\n\n_defineProperty(Conduit, \"iframeCommands\", {\n  SUBSCRIBE: 'subscribe',\n  UNSUBSCRIBE: 'unsubscribe',\n  PUBLISH: 'publish',\n  CONNECT: 'connect',\n  DISCONNECT: 'disconnect',\n  SEND: 'send'\n});\n\n_defineProperty(Conduit, \"routerEvents\", Object(_Router__WEBPACK_IMPORTED_MODULE_0__[\"default\"])().Router.events);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvY29uZHVpdC9Db25kdWl0LmpzP2VmYjYiXSwibmFtZXMiOlsiTUFYX1JFQ09OTkVDVElPTl9BVFRFTVBUUyIsIkNvbmR1aXQiLCJsb2dJZCIsImNsaWVudElkIiwic3RyZWFtQ29uZmlndXJhdGlvbiIsImNvbnRhaW5lckVsZW1lbnQiLCJvbk1lc3NhZ2VFcnJvciIsIkVycm9yIiwiU3RyZWFtQ29uZmlndXJhdGlvbiIsImlzU3RyZWFtQ29uZmlndXJhdGlvbiIsInN0cmVhbU5hbWUiLCJndWlkIiwibG9nZ2VyIiwiTG9nZ2VyIiwiZmFjdG9yeSIsImRlYnVnIiwic3RhdHNNc2ciLCJieXRlQ291bnQiLCJpbmticHMiLCJob3N0IiwiZG9jdW1lbnQiLCJsb2NhdGlvbiIsImhhbmRsZXJzIiwicmVjb25uZWN0aW9uQXR0ZW1wdHMiLCJjb25uZWN0ZWQiLCJfb25NZXNzYWdlRXJyb3IiLCJzdGF0c0ludGVydmFsIiwicmVxdWVzdFN0cmVhbURhdGFUaW1lb3V0IiwibW9vdlRpbWVvdXQiLCJmaXJzdE1vb2ZUaW1lb3V0IiwibW9vdlJlcXVlc3RUb3BpYyIsInBhcnNlSW50IiwiTWF0aCIsInJhbmRvbSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiX29uUm91dGVyQ3JlYXRlIiwiZXZlbnQiLCJkYXRhIiwiZXZlbnRUeXBlIiwicm91dGVyRXZlbnRzIiwiQ1JFQVRFRCIsIkNSRUFURV9GQUlMVVJFIiwid2luZG93IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInJlYXNvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJpZnJhbWUiLCJfZ2VuZXJhdGVJZnJhbWUiLCJhcHBlbmRDaGlsZCIsIl9vbkNvbm5lY3QiLCJDT05ORUNUX1NVQ0NFU1MiLCJDT05ORUNUX0ZBSUxVUkUiLCJlcnJvciIsIl9yZWNvbm5lY3QiLCJ0aGVuIiwic2V0SW50ZXJ2YWwiLCJwdWJsaXNoU3RhdHMiLCJQVUJMSVNIX1NUQVRTX0lOVEVSVkFMIiwiaW5mbyIsIl9jb21tYW5kIiwibWV0aG9kIiwiaWZyYW1lQ29tbWFuZHMiLCJDT05ORUNUIiwib25Nb29mIiwiY29ubmVjdCIsImp3dCIsImxlbmd0aCIsInZhbGlkYXRlSnd0IiwiaGFzaCIsInZhbGlkYXRlSGFzaCIsInJlcXVlc3RTdHJlYW1EYXRhIiwibWltZUNvZGVjIiwicmVxdWVzdE1vb3YiLCJtb292IiwicmVxdWVzdE1vb2ZzIiwic3RvcCIsImNsZWFyU3RhdHNJbnRlcnZhbCIsIkRJU0NPTk5FQ1QiLCJjbGVhclJlcXVlc3RTdHJlYW1EYXRhVGltZW91dCIsImNsZWFyTW9vdlRpbWVvdXQiLCJjbGVhckZpcnN0TW9vZlRpbWVvdXQiLCJ1bnN1YnNjcmliZSIsInB1Ymxpc2giLCJ3YXJuIiwiZGlzY29ubmVjdCIsImRlc3Ryb3llZCIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsInNyY2RvYyIsInRyYW5zYWN0aW9uIiwiYjY0X2FjY2Vzc191cmwiLCJiNjRfand0X2FjY2Vzc191cmwiLCJ0b2tlbiIsInJlc3BvbnNlIiwic3RhdHVzIiwidCIsInRhcmdldF91cmwiLCJzcGxpdCIsImI2NEhhc2hVUkwiLCJiNjRfaGFzaF9hY2Nlc3NfdXJsIiwiaGFzUmVxdWVzdFRpbWVkb3V0Iiwic2V0VGltZW91dCIsIlNUUkVBTV9EQVRBX1RJTUVPVVRfRFVSQVRJT04iLCJidG9hIiwiY2xlYXJUaW1lb3V0IiwiaGFzTW9vdlRpbWVkT3V0IiwiTU9PVl9USU1FT1VUX0RVUkFUSU9OIiwic3Vic2NyaWJlIiwicGF5bG9hZEJ5dGVzIiwicmVhZHlUb1JlY2V2aWVNb29mc1RvcGljIiwiaW5pdFNlZ21lbnRUb3BpYyIsImhhc0ZpcnN0TW9vZlRpbWVkT3V0IiwiaGFzUmVjZWl2ZWRGaXJzdE1vb2YiLCJGSVJTVF9NT09GX1RJTUVPVVRfRFVSQVRJT04iLCJtb29mUmVjZWl2ZWRUb3BpYyIsIm1xdHRNZXNzYWdlIiwib25SZXN5bmMiLCJjYiIsIkRBVEFfUkVDRUlWRUQiLCJfb25NcXR0RGF0YSIsIkNPTk5FQ1RJT05fTE9TVCIsIldJTkRPV19NRVNTQUdFX0ZBSUwiLCJESVNDT05ORUNUX1NVQ0NFU1MiLCJieXRlQXJyYXkiLCJMb2dTb3VyY2VCdWZmZXIiLCJMb2dTb3VyY2VCdWZmZXJUb3BpYyIsImRpcmVjdFNlbmQiLCJTRU5EIiwidG9waWMiLCJtZXNzYWdlIiwiZGVzdGluYXRpb25OYW1lIiwiaGFuZGxlciIsIlNVQlNDUklCRSIsIlVOU1VCU0NSSUJFIiwiUFVCTElTSCIsIm1lc3NhZ2VEYXRhIiwicmVzcF90b3BpYyIsIkpTT04iLCJwYXJzZSIsInBheWxvYWRTdHJpbmciLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwid2lkdGgiLCJoZWlnaHQiLCJ0b1N0cmluZyIsInBvcnQiLCJ1c2VTU0wiLCJzdHJpbmdpZnkiLCJSb3V0ZXIiLCJjb250ZW50V2luZG93IiwicG9zdE1lc3NhZ2UiLCJjb25zb2xlIiwiZXZlbnRzIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQWE7QUFFYjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBU0E7QUFDQTtBQUNBO0FBRUEsSUFBTUEseUJBQXlCLEdBQUcsR0FBbEM7O0lBRXFCQyxPOzs7OztBQUN1QjtBQUNQO0FBQ007QUFDTjs0QkFjakNDLEssRUFDQUMsUSxFQUNBQyxtQixFQUNBQyxnQixFQUNBQyxjLEVBQ0E7QUFDQSxhQUFPLElBQUlMLE9BQUosQ0FDTEMsS0FESyxFQUVMQyxRQUZLLEVBR0xDLG1CQUhLLEVBSUxDLGdCQUpLLEVBS0xDLGNBTEssQ0FBUDtBQU9EO0FBRUQ7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFnQkEsbUJBQ0VKLEtBREYsRUFFRUMsUUFGRixFQUdFQyxtQkFIRixFQUlFQyxnQkFKRixFQU1FO0FBQUEsUUFEQUMsY0FDQSx1RUFEaUIsWUFBTSxDQUFFLENBQ3pCOztBQUFBOztBQUNBLFFBQUksQ0FBQ0osS0FBTCxFQUFZO0FBQ1YsWUFBTSxJQUFJSyxLQUFKLENBQVUsd0RBQVYsQ0FBTjtBQUNEOztBQUVE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LENBQTFCO0FBRUEsV0FBS21FLE9BQUwsQ0FBYSxXQUFiLEVBQTBCLEtBQUtwRSxRQUEvQjtBQUVBLFdBQUtKLE1BQUwsQ0FBWUcsS0FBWixDQUFrQixZQUFsQixFQUFnQyxLQUFLQyxRQUFyQztBQUNEOzs7Ozs7Z0JBL2tDa0JmLE8sa0NBQ21CLEU7O2dCQURuQkEsTywyQkFFWSxFOztnQkFGWkEsTyxpQ0FHa0IsRTs7Z0JBSGxCQSxPLDRCQUlhLEM7O2dCQUpiQSxPLG9CQU1LO0FBQ3RCcUksV0FBUyxFQUFFLFdBRFc7QUFFdEJDLGFBQVcsRUFBRSxhQUZTO0FBR3RCQyxTQUFPLEVBQUUsU0FIYTtBQUl0QnhFLFNBQU8sRUFBRSxTQUphO0FBS3RCZSxZQUFVLEVBQUUsWUFMVTtBQU10QmtELE1BQUksRUFBRTtBQU5nQixDOztnQkFOTGhJLE8sa0JBZUdxSix1REFBTSxHQUFHQSxNQUFULENBQWdCSSxNIiwiZmlsZSI6Ii4vc3JjL2pzL2NvbmR1aXQvQ29uZHVpdC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBUaGUgQ29uZHVpdCBhIGhpZGRlbiBpZnJhbWUgdGhhdCBpcyB1c2VkIHRvIGVzdGFibGlzaCBhIGRlZGljYXRlZCBtcXR0XG4gKiB3ZWJzb2NrZXQgZm9yIGEgc2luZ2xlIHZpZGVvLiBUaGlzIGlzIGJhc2ljYWxseSBhbiBpbi1icm93c2VyIG1pY3JvIHNlcnZpY2VcbiAqIHdoaWNoIHVzZXMgY3Jvc3MtZG9jdW1lbnQgY29tbXVuaWNhdGlvbiB0byByb3V0ZSBkYXRhIHRvIGFuZCBmcm9tIHRoZSBpZnJhbWUuXG4gKlxuICogVGhpcyBjb2RlIGlzIGEgbGF5ZXIgb2YgYWJzdHJhY3Rpb24gb24gdG9wIG9mIHRoZSBtcXR0IHJvdXRlciwgYW5kIHRoZVxuICogY29udHJvbGxlciBvZiB0aGUgaWZyYW1lIHRoYXQgY29udGFpbnMgdGhlIHJvdXRlci5cbiAqL1xuXG5pbXBvcnQgUm91dGVyIGZyb20gJy4vUm91dGVyJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnLi4vdXRpbHMvbG9nZ2VyJztcbmltcG9ydCBTdHJlYW1Db25maWd1cmF0aW9uIGZyb20gJy4uL2lvdi9TdHJlYW1Db25maWd1cmF0aW9uJztcblxuY29uc3QgTUFYX1JFQ09OTkVDVElPTl9BVFRFTVBUUyA9IDIwMDtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29uZHVpdCB7XG4gIHN0YXRpYyBTVFJFQU1fREFUQV9USU1FT1VUX0RVUkFUSU9OID0gMzA7IC8vIHNlY29uZHNcbiAgc3RhdGljIE1PT1ZfVElNRU9VVF9EVVJBVElPTiA9IDMwOyAvLyBzZWNvbmRzXG4gIHN0YXRpYyBGSVJTVF9NT09GX1RJTUVPVVRfRFVSQVRJT04gPSA0NTsgLy8gc2Vjb25kc1xuICBzdGF0aWMgUFVCTElTSF9TVEFUU19JTlRFUlZBTCA9IDU7IC8vIHNlY29uZHNcblxuICBzdGF0aWMgaWZyYW1lQ29tbWFuZHMgPSB7XG4gICAgU1VCU0NSSUJFOiAnc3Vic2NyaWJlJyxcbiAgICBVTlNVQlNDUklCRTogJ3Vuc3Vic2NyaWJlJyxcbiAgICBQVUJMSVNIOiAncHVibGlzaCcsXG4gICAgQ09OTkVDVDogJ2Nvbm5lY3QnLFxuICAgIERJU0NPTk5FQ1Q6ICdkaXNjb25uZWN0JyxcbiAgICBTRU5EOiAnc2VuZCcsXG4gIH07XG5cbiAgc3RhdGljIHJvdXRlckV2ZW50cyA9IFJvdXRlcigpLlJvdXRlci5ldmVudHM7XG5cbiAgc3RhdGljIGZhY3RvcnkgKFxuICAgIGxvZ0lkLFxuICAgIGNsaWVudElkLFxuICAgIHN0cmVhbUNvbmZpZ3VyYXRpb24sXG4gICAgY29udGFpbmVyRWxlbWVudCxcbiAgICBvbk1lc3NhZ2VFcnJvclxuICApIHtcbiAgICByZXR1cm4gbmV3IENvbmR1aXQoXG4gICAgICBsb2dJZCxcbiAgICAgIGNsaWVudElkLFxuICAgICAgc3RyZWFtQ29uZmlndXJhdGlvbixcbiAgICAgIGNvbnRhaW5lckVsZW1lbnQsXG4gICAgICBvbk1lc3NhZ2VFcnJvclxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IGxvZ0lkXG4gICAqICAgYSBzdHJpbmcgdGhhdCBpZGVudGlmaWVzIHRoaXMgcm91dGVyIGluIGxvZyBtZXNzYWdlc1xuICAgKiBAcGFyYW0ge1N0cmluZ30gY2xpZW50SWRcbiAgICogICB0aGUgZ3VpZCB0byBiZSB1c2VkIHRvIGNvbnN0cnVjdCB0aGUgdG9waWNcbiAgICogQHBhcmFtIHtTdHJlYW1Db25maWd1cmF0aW9ufSBzdHJlYW1Db25maWd1cmF0aW9uXG4gICAqICAgVGhlIHN0cmVhbSBjb25maWd1cmF0aW9uIHRvIHB1bGwgZnJvbSB0aGUgQ0xTUCBzZXJ2ZXIgLyBTRlNcbiAgICogQHBhcmFtIHtFbGVtZW50fSBjb250YWluZXJFbGVtZW50XG4gICAqICAgVGhlIGNvbnRhaW5lciBvZiB0aGUgdmlkZW8gZWxlbWVudCBhbmQgd2hlcmUgdGhlIENvbmR1aXQncyBpZnJhbWUgd2lsbCBiZVxuICAgKiAgIGluc2VydGVkXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uTWVzc2FnZUVycm9yXG4gICAqICAgVGhlIGFjdGlvbiB0byBwZXJmb3JtIHdoZW4gYW4gZXJyb3IgaXMgZW5jb3VudGVyZWQgYmV0d2VlbiB0aGUgUm91dGVyXG4gICAqICAgYW5kIENvbmR1aXQgaW5zdGFuY2VzXG4gICAqL1xuICBjb25zdHJ1Y3RvciAoXG4gICAgbG9nSWQsXG4gICAgY2xpZW50SWQsXG4gICAgc3RyZWFtQ29uZmlndXJhdGlvbixcbiAgICBjb250YWluZXJFbGVtZW50LFxuICAgIG9uTWVzc2FnZUVycm9yID0gKCkgPT4ge31cbiAgKSB7XG4gICAgaWYgKCFsb2dJZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdsb2dJZCBpcyByZXF1aXJlZCB0byBjb25zdHJ1Y3QgYSBuZXcgQ29uZHVpdCBpbnN0YW5jZS4nKTtcbiAgICB9XG5cbiAgICBpZiAoIWNsaWVudElkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsaWVudElkIGlzIHJlcXVpcmVkIHRvIGNvbnN0cnVjdCBhIG5ldyBDb25kdWl0IGluc3RhbmNlLicpO1xuICAgIH1cblxuICAgIGlmICghU3RyZWFtQ29uZmlndXJhdGlvbi5pc1N0cmVhbUNvbmZpZ3VyYXRpb24oc3RyZWFtQ29uZmlndXJhdGlvbikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBzdHJlYW1Db25maWd1cmF0aW9uIHBhc3NlZCB0byBDb25kdWl0IGNvbnN0cnVjdG9yJyk7XG4gICAgfVxuXG4gICAgaWYgKCFjb250YWluZXJFbGVtZW50KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvbnRhaW5lckVsZW1lbnQgaXMgcmVxdWlyZWQgdG8gY29uc3RydWN0IGEgbmV3IENvbmR1aXQgaW5zdGFuY2UnKTtcbiAgICB9XG5cbiAgICB0aGlzLmxvZ0lkID0gbG9nSWQ7XG4gICAgdGhpcy5jbGllbnRJZCA9IGNsaWVudElkO1xuICAgIHRoaXMuc3RyZWFtQ29uZmlndXJhdGlvbiA9IHN0cmVhbUNvbmZpZ3VyYXRpb247XG4gICAgdGhpcy5jb250YWluZXJFbGVtZW50ID0gY29udGFpbmVyRWxlbWVudDtcblxuICAgIHRoaXMuc3RyZWFtTmFtZSA9IHRoaXMuc3RyZWFtQ29uZmlndXJhdGlvbi5zdHJlYW1OYW1lO1xuICAgIHRoaXMuZ3VpZCA9IG51bGw7XG5cbiAgICB0aGlzLmxvZ2dlciA9IExvZ2dlcigpLmZhY3RvcnkoYENvbmR1aXQgJHt0aGlzLmxvZ0lkfWApO1xuICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdDb25zdHJ1Y3RpbmcuLi4nKTtcblxuICAgIHRoaXMuc3RhdHNNc2cgPSB7XG4gICAgICBieXRlQ291bnQ6IDAsXG4gICAgICBpbmticHM6IDAsXG4gICAgICBob3N0OiBkb2N1bWVudC5sb2NhdGlvbi5ob3N0LFxuICAgICAgY2xpZW50SWQ6IHRoaXMuY2xpZW50SWQsXG4gICAgfTtcblxuICAgIHRoaXMuaGFuZGxlcnMgPSB7fTtcblxuICAgIHRoaXMucmVjb25uZWN0aW9uQXR0ZW1wdHMgPSAwO1xuXG4gICAgdGhpcy5jb25uZWN0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9vbk1lc3NhZ2VFcnJvciA9IG9uTWVzc2FnZUVycm9yO1xuXG4gICAgdGhpcy5zdGF0c0ludGVydmFsID0gbnVsbDtcbiAgICB0aGlzLnJlcXVlc3RTdHJlYW1EYXRhVGltZW91dCA9IG51bGw7XG4gICAgdGhpcy5tb292VGltZW91dCA9IG51bGw7XG4gICAgdGhpcy5maXJzdE1vb2ZUaW1lb3V0ID0gbnVsbDtcblxuICAgIHRoaXMubW9vdlJlcXVlc3RUb3BpYyA9IGAke3RoaXMuY2xpZW50SWR9L2luaXQtc2VnbWVudC8ke3BhcnNlSW50KE1hdGgucmFuZG9tKCkgKiAxMDAwMDAwKX1gO1xuICB9XG5cbiAgLyoqXG4gICAqIEFmdGVyIGNvbnN0cnVjdGluZywgY2FsbCB0aGlzIHRvIGluaXRpYWxpemUgdGhlIGNvbmR1aXQsIHdoaWNoIHdpbGwgY3JlYXRlXG4gICAqIHRoZSBpZnJhbWUgYW5kIHRoZSBSb3V0ZXIgbmVlZGVkIHRvIGdldCB0aGUgc3RyZWFtIGZyb20gdGhlIHNlcnZlci5cbiAgICpcbiAgICogQHJldHVybnMgUHJvbWlzZVxuICAgKiAgIFJlc29sdmVzIHdoZW4gdGhlIFJvdXRlciBoYXMgYmVlbiBzdWNjZXNzZnVsbHkgY3JlYXRlZC5cbiAgICogICBSZWplY3RzIHVwb24gZmFpbHVyZSB0byBjcmVhdGUgdGhlIFJvdXRlci5cbiAgICovXG4gIGluaXRpYWxpemUgKCkge1xuICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdJbml0aWFsaXppbmcuLi4nKTtcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB0aGlzLl9vblJvdXRlckNyZWF0ZSA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBjbGllbnRJZCA9IGV2ZW50LmRhdGEuY2xpZW50SWQ7XG5cbiAgICAgICAgLy8gQSB3aW5kb3cgbWVzc2FnZSB3YXMgcmVjZWl2ZWQgdGhhdCBpcyBub3QgcmVsYXRlZCB0byBDTFNQXG4gICAgICAgIGlmICghY2xpZW50SWQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaGlzIG1lc3NhZ2Ugd2FzIGludGVuZGVkIGZvciBhbm90aGVyIENvbmR1aXQgaW5zdGFuY2VcbiAgICAgICAgaWYgKHRoaXMuY2xpZW50SWQgIT09IGNsaWVudElkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZXZlbnRUeXBlID0gZXZlbnQuZGF0YS5ldmVudDtcblxuICAgICAgICAvLyBGaWx0ZXIgb3V0IGFsbCBvdGhlciB3aW5kb3cgbWVzc2FnZXMgZnJvbSB0aGUgUm91dGVyXG4gICAgICAgIGlmIChldmVudFR5cGUgIT09IENvbmR1aXQucm91dGVyRXZlbnRzLkNSRUFURUQgJiYgZXZlbnRUeXBlICE9PSBDb25kdWl0LnJvdXRlckV2ZW50cy5DUkVBVEVfRkFJTFVSRSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBpbml0aWFsaXplIFwiJHtldmVudFR5cGV9XCIgZXZlbnRgKTtcblxuICAgICAgICAvLyBXaGV0aGVyIHN1Y2Nlc3Mgb3IgZmFpbHVyZSwgcmVtb3ZlIHRoZSBldmVudCBsaXN0ZW5lclxuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIHRoaXMuX29uUm91dGVyQ3JlYXRlKTtcblxuICAgICAgICAvLyBPbmNlIHRoZSBldmVudCBsaXN0ZW5lciBpcyByZW1vdmVkLCByZW1vdmUgdGhlIGxpc3RlbmVyIGhhbmRsZXIsXG4gICAgICAgIC8vIHNpbmNlIGl0IHdpbGwgbm90IGJlIHVzZWQgYWdhaW4gYW5kIHRvIHByZXZlbnQgdGhlIGBkZXN0cm95YCBtZXRob2RcbiAgICAgICAgLy8gZnJvbSB0cnlpbmcgdG8gdW5yZWdpc3RlciBpdC5cbiAgICAgICAgdGhpcy5fb25Sb3V0ZXJDcmVhdGUgPSBudWxsO1xuXG4gICAgICAgIGlmIChldmVudFR5cGUgPT09IENvbmR1aXQucm91dGVyRXZlbnRzLkNSRUFURV9GQUlMVVJFKSB7XG4gICAgICAgICAgcmV0dXJuIHJlamVjdChldmVudC5kYXRhLnJlYXNvbik7XG4gICAgICAgIH1cblxuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9O1xuXG4gICAgICAvLyBXaGVuIHRoZSBSb3V0ZXIgaW4gdGhlIGlmcmFtZSBjb25uZWN0cywgaXQgd2lsbCBicm9hZGNhc3QgYSBtZXNzYWdlXG4gICAgICAvLyBsZXR0aW5nIHVzIGtub3cgaXQgY29ubmVjdGVkLCBvciBsZXR0aW5nIHVzIGtub3cgaXQgZmFpbGVkLlxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCB0aGlzLl9vblJvdXRlckNyZWF0ZSk7XG5cbiAgICAgIHRoaXMuaWZyYW1lID0gdGhpcy5fZ2VuZXJhdGVJZnJhbWUoKTtcblxuICAgICAgLy8gQHRvZG8gLSBpZiB0aGUgSW92IHdlcmUgdG8gY3JlYXRlIGEgd3JhcHBlciBhcm91bmQgdGhlIHZpZGVvIGVsZW1lbnRcbiAgICAgIC8vIHRoYXQgaXQgbWFuYWdlcyAocmF0aGVyIHRoYW4gZXhwZWN0aW5nIG9uZSB0byBhbHJlYWR5IGJlIHRoZXJlKSwgZWFjaFxuICAgICAgLy8gdmlkZW8gZWxlbWVudCBhbmQgaWZyYW1lIGNvdWxkIGJlIGNvbnRhaW5lZCBpbiBhIHNpbmdsZSBjb250YWluZXIsXG4gICAgICAvLyByYXRoZXIgdGhhbiBwb3RlbnRpYWxseSBoYXZpbmcgbXVsdGlwbGUgdmlkZW8gZWxlbWVudHMgYW5kIG11bHRpcGxlXG4gICAgICAvLyBpZnJhbWVzIGNvbnRhaW5lZCBpbiBhIHNpbmdsZSBwYXJlbnQuXG4gICAgICB0aGlzLmNvbnRhaW5lckVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5pZnJhbWUpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEFmdGVyIGluaXRpYWxpemF0aW9uLCBjYWxsIHRoaXMgdG8gZXN0YWJsaXNoIHRoZSBjb25uZWN0aW9uIHRvIHRoZSBzZXJ2ZXIuXG4gICAqXG4gICAqIE5vdGUgdGhhdCB0aGlzIGlzIGNhbGxlZCB3aXRoaW4gdGhlIHBsYXkgbWV0aG9kLCBzbyB5b3Ugc2hvdWxkbid0IGV2ZXIgbmVlZFxuICAgKiB0byBtYW51YWxseSBjYWxsIGBjb25uZWN0YC5cbiAgICpcbiAgICogQHJldHVybnMgUHJvbWlzZVxuICAgKiAgIFJlc29sdmVzIHdoZW4gdGhlIGNvbm5lY3Rpb24gaXMgc3VjY2Vzc2Z1bGx5IGVzdGFibGlzaGVkLlxuICAgKiAgIFJlamVjdHMgdXBvbiBmYWlsdXJlIHRvIGNvbm5lY3QgYWZ0ZXIgYSBudW1iZXIgb2YgcmV0cmllcy5cbiAgICovXG4gIGNvbm5lY3QgKCkge1xuICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdDb25uZWN0aW5nIHRvIE1RVFQgc2VydmVyLi4uJyk7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdGhpcy5fb25Db25uZWN0ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGNsaWVudElkID0gZXZlbnQuZGF0YS5jbGllbnRJZDtcblxuICAgICAgICAvLyBBIHdpbmRvdyBtZXNzYWdlIHdhcyByZWNlaXZlZCB0aGF0IGlzIG5vdCByZWxhdGVkIHRvIENMU1BcbiAgICAgICAgaWYgKCFjbGllbnRJZCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRoaXMgbWVzc2FnZSB3YXMgaW50ZW5kZWQgZm9yIGFub3RoZXIgY29uZHVpdFxuICAgICAgICBpZiAodGhpcy5jbGllbnRJZCAhPT0gY2xpZW50SWQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBldmVudFR5cGUgPSBldmVudC5kYXRhLmV2ZW50O1xuXG4gICAgICAgIC8vIEZpbHRlciBvdXQgYWxsIG90aGVyIHdpbmRvdyBtZXNzYWdlc1xuICAgICAgICBpZiAoZXZlbnRUeXBlICE9PSBDb25kdWl0LnJvdXRlckV2ZW50cy5DT05ORUNUX1NVQ0NFU1MgJiYgZXZlbnRUeXBlICE9PSBDb25kdWl0LnJvdXRlckV2ZW50cy5DT05ORUNUX0ZBSUxVUkUpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhgY29ubmVjdCBcIiR7ZXZlbnRUeXBlfVwiIGV2ZW50YCk7XG5cbiAgICAgICAgLy8gV2hldGhlciBzdWNjZXNzIG9yIGZhaWx1cmUsIHJlbW92ZSB0aGUgZXZlbnQgbGlzdGVuZXJcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCB0aGlzLl9vbkNvbm5lY3QpO1xuICAgICAgICB0aGlzLl9vbkNvbm5lY3QgPSBudWxsO1xuXG4gICAgICAgIGlmIChldmVudFR5cGUgPT09IENvbmR1aXQucm91dGVyRXZlbnRzLkNPTk5FQ1RfRkFJTFVSRSkge1xuICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKG5ldyBFcnJvcihldmVudC5kYXRhLnJlYXNvbikpO1xuXG4gICAgICAgICAgdGhpcy5fcmVjb25uZWN0KClcbiAgICAgICAgICAgIC50aGVuKHJlc29sdmUpXG4gICAgICAgICAgICAuY2F0Y2gocmVqZWN0KTtcblxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRoZSBtc2Ugc2VydmljZSB3aWxsIHN0b3Agc3RyZWFtaW5nIHRvIHVzIGlmIHdlIGRvbid0IHNlbmRcbiAgICAgICAgLy8gYSBtZXNzYWdlIHRvIGlvdi9zdGF0cyB3aXRoaW4gMSBtaW51dGUuXG4gICAgICAgIHRoaXMuc3RhdHNJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICB0aGlzLnB1Ymxpc2hTdGF0cygpO1xuICAgICAgICB9LCBDb25kdWl0LlBVQkxJU0hfU1RBVFNfSU5URVJWQUwgKiAxMDAwKTtcblxuICAgICAgICB0aGlzLmNvbm5lY3RlZCA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnQ29ubmVjdGVkJyk7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH07XG5cbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgdGhpcy5fb25Db25uZWN0KTtcblxuICAgICAgdGhpcy5fY29tbWFuZCh7XG4gICAgICAgIG1ldGhvZDogQ29uZHVpdC5pZnJhbWVDb21tYW5kcy5DT05ORUNULFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIG1hbnkgdGltZXMsIGVhY2ggdGltZSBhIG1vb2YgKHNlZ21lbnQpIGlzIHJlY2VpdmVkXG4gICAqXG4gICAqIEBjYWxsYmFjayBDb25kdWl0LW9uTW9vZlxuICAgKiBAcGFyYW0ge2FueX0gbW9vZiAtIGEgc3RyZWFtIHNlZ21lbnRcbiAgICovXG5cbiAgLyoqXG4gICAqIElmIHRoZSBKV1QgaXMgdmFsaWQgb3IgaWYgd2UgYXJlIG5vdCB1c2luZyBhIEpXVCwgcGVyZm9ybSB0aGUgbmVjZXNzYXJ5XG4gICAqIGNvbmR1aXQgb3BlcmF0aW9ucyB0byByZXRyaWV2ZSBzdHJlYW0gc2VnbWVudHMgKG1vb2ZzKS4gIFRoZSBhY3R1YWxcbiAgICogXCJwbGF5aW5nXCIgb2NjdXJzIGluIHRoZSBwbGF5ZXIsIHNpbmNlIGl0IGludm9sdmVzIHRha2luZyB0aG9zZSByZWNlaXZlZFxuICAgKiBzdHJlYW0gc2VnbWVudHMgYW5kIHVzaW5nIE1TRSB0byBkaXNwbGF5IHRoZW0uXG4gICAqXG4gICAqIEBhc3luY1xuICAgKlxuICAgKiBAcGFyYW0ge0NvbmR1aXQtb25Nb29mfSBvbk1vb2ZcbiAgICogICB0aGUgZnVuY3Rpb24gdGhhdCB3aWxsIGhhbmRsZSB0aGUgbW9vZlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICogICAqIFJlc29sdmVzIG9uY2UgdGhlIGZpcnN0IG1vb2YgaGFzIGJlZW4gcmVjZWl2ZWRcbiAgICogICAqIFJlamVjdHMgaWYgdGhlIG1vb3Ygb3IgZmlyc3QgbW9vZiB0aW1lIG91dFxuICAgKi9cbiAgYXN5bmMgcGxheSAob25Nb29mKSB7XG4gICAgdGhpcy5sb2dnZXIuaW5mbygnUGxheWluZy4uLicpO1xuXG4gICAgLy8gQHRvZG8gLSBzaG91bGQgd2UgaGF2ZSBhIGNoZWNrIHRvIGNvbmZpcm0gdGhhdCB0aGUgY29uZHVpdCBoYXMgYmVlbiBpbml0aWFsaXplZD9cbiAgICAvLyBAdG9kbyAtIHNob3VsZCBjb25uZWN0IGJlIGNhbGxlZCBoZXJlP1xuICAgIGF3YWl0IHRoaXMuY29ubmVjdCgpO1xuXG4gICAgaWYgKHRoaXMuc3RyZWFtQ29uZmlndXJhdGlvbi5qd3QgJiYgdGhpcy5zdHJlYW1Db25maWd1cmF0aW9uLmp3dC5sZW5ndGggPiAwKSB7XG4gICAgICB0aGlzLnN0cmVhbU5hbWUgPSBhd2FpdCB0aGlzLnZhbGlkYXRlSnd0KCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3RyZWFtQ29uZmlndXJhdGlvbi5oYXNoICYmIHRoaXMuc3RyZWFtQ29uZmlndXJhdGlvbi5oYXNoLmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMuc3RyZWFtTmFtZSA9IGF3YWl0IHRoaXMudmFsaWRhdGVIYXNoKCk7XG4gICAgfVxuXG4gICAgdGhpcy5sb2dnZXIuaW5mbygnUGxheSBpcyByZXF1ZXN0aW5nIHN0cmVhbS4uLicpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgZ3VpZCxcbiAgICAgICAgbWltZUNvZGVjLFxuICAgICAgfSA9IGF3YWl0IHRoaXMucmVxdWVzdFN0cmVhbURhdGEoKTtcblxuICAgICAgdGhpcy5ndWlkID0gZ3VpZDtcblxuICAgICAgLy8gR2V0IHRoZSBtb292IGZpcnN0XG4gICAgICBjb25zdCB7IG1vb3YgfSA9IGF3YWl0IHRoaXMucmVxdWVzdE1vb3YoKTtcblxuICAgICAgLy8gU2V0IHVwIHRoZSBsaXN0ZW5lciBmb3IgdGhlIG1vb2ZzXG4gICAgICBhd2FpdCB0aGlzLnJlcXVlc3RNb29mcyhvbk1vb2YpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBndWlkLFxuICAgICAgICBtaW1lQ29kZWMsXG4gICAgICAgIG1vb3YsXG4gICAgICB9O1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRoaXMubG9nZ2VyLmVycm9yKGBFcnJvciB0cnlpbmcgdG8gcGxheSBzdHJlYW0gJHt0aGlzLnN0cmVhbU5hbWV9YCk7XG5cbiAgICAgIC8vIEB0b2RvIC0gd2UgY291bGQgcmV0cnlcbiAgICAgIHRoaXMuc3RvcCgpO1xuXG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRGlzY29ubmVjdCBmcm9tIHRoZSBtcXR0IHNlcnZlclxuICAgKlxuICAgKiBAdG9kbyAtIHJldHVybiBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBkaXNjb25uZWN0aW9uIGlzIGNvbXBsZXRlIVxuICAgKi9cbiAgZGlzY29ubmVjdCAoKSB7XG4gICAgdGhpcy5sb2dnZXIuZGVidWcoJ0Rpc2Nvbm5lY3RpbmcuLi4nKTtcblxuICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7XG5cbiAgICAvLyB3aGVuIGEgc3RyZWFtIGZhaWxzLCBpdCBubyBsb25nZXIgbmVlZHMgdG8gc2VuZCBzdGF0cyB0byB0aGVcbiAgICAvLyBzZXJ2ZXIsIGFuZCBpdCBtYXkgbm90IGV2ZW4gYmUgY29ubmVjdGVkIHRvIHRoZSBzZXJ2ZXJcbiAgICB0aGlzLmNsZWFyU3RhdHNJbnRlcnZhbCgpO1xuXG4gICAgdGhpcy5fY29tbWFuZCh7XG4gICAgICBtZXRob2Q6IENvbmR1aXQuaWZyYW1lQ29tbWFuZHMuRElTQ09OTkVDVCxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdG9wIHRoZSBwbGF5aW5nIHN0cmVhbVxuICAgKlxuICAgKiBAdG9kbyAtIG1ha2UgdGhpcyBhc3luYyBhbmQgYXdhaXQgdGhlIGRpc2Nvbm5lY3Rpb24sIGFuZCBtYXliZSBldmVuIHRoZVxuICAgKiB1bnN1YnNjcmliZXNcbiAgICovXG4gIHN0b3AgKCkge1xuICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdTdG9wcGluZyBzdHJlYW0uLi4nKTtcblxuICAgIC8vIENsZWFyIGFsbCB0aW1lb3V0c1xuICAgIHRoaXMuY2xlYXJSZXF1ZXN0U3RyZWFtRGF0YVRpbWVvdXQoKTtcbiAgICB0aGlzLmNsZWFyTW9vdlRpbWVvdXQoKTtcbiAgICB0aGlzLmNsZWFyRmlyc3RNb29mVGltZW91dCgpO1xuXG4gICAgaWYgKHRoaXMuZ3VpZCkge1xuICAgICAgLy8gU3RvcCBsaXN0ZW5pbmcgZm9yIHRoZSBtb292XG4gICAgICB0aGlzLnVuc3Vic2NyaWJlKHRoaXMubW9vdlJlcXVlc3RUb3BpYyk7XG5cbiAgICAgIC8vIFN0b3AgbGlzdGVuaW5nIGZvciBtb29mc1xuICAgICAgdGhpcy51bnN1YnNjcmliZShgaW92L3ZpZGVvLyR7dGhpcy5ndWlkfS9saXZlYCk7XG5cbiAgICAgIC8vIFN0b3AgbGlzdGVuaW5nIGZvciByZXN5bmMgZXZlbnRzXG4gICAgICB0aGlzLnVuc3Vic2NyaWJlKGBpb3YvdmlkZW8vJHt0aGlzLmd1aWR9L3Jlc3luY2ApO1xuXG4gICAgICAvLyBUZWxsIHRoZSBzZXJ2ZXIgd2UndmUgc3RvcHBlZFxuICAgICAgdGhpcy5wdWJsaXNoKGBpb3YvdmlkZW8vJHt0aGlzLmd1aWR9L3N0b3BgLCB7XG4gICAgICAgIGNsaWVudElkOiB0aGlzLmNsaWVudElkLFxuICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5sb2dnZXIud2FybihgVHJ5aW5nIHRvIHN0b3Agc3RyZWFtICR7dGhpcy5zdHJlYW1OYW1lfSB3aXRoIG5vIGd1aWQhYCk7XG4gICAgfVxuXG4gICAgdGhpcy5kaXNjb25uZWN0KCk7XG4gIH1cblxuICAvKipcbiAgICogQ2xlYW4gdXAgYW5kIGRlcmVmZXJlbmNlIHRoZSBuZWNlc3NhcnkgcHJvcGVydGllcy4gIFdpbGwgYWxzbyBkaXNjb25uZWN0XG4gICAqIGFuZCBkZXN0cm95IHRoZSBpZnJhbWUuXG4gICAqXG4gICAqIEB0b2RvIC0gcmV0dXJuIGEgUHJvbWlzZSwgYnV0IGRvIG5vdCB3YWl0IGZvciB0aGUgcHJvbWlzZSB0byByZXNvbHZlIHRvXG4gICAqIGNvbnRpbnVlIHRoZSBkZXN0cm95IGxvZ2ljLiAgdGhlIHByb21pc2Ugc2hvdWxkIHJlc29sdmUvcmVqZWN0IGJhc2VkIG9uXG4gICAqIHRoZSBkaXNjb25uZWN0IG1ldGhvZCBjYWxsXG4gICAqXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgZGVzdHJveSAoKSB7XG4gICAgdGhpcy5sb2dnZXIuZGVidWcoJ0Rlc3Ryb3lpbmcuLi4nKTtcblxuICAgIGlmICh0aGlzLmRlc3Ryb3llZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuZGVzdHJveWVkID0gdHJ1ZTtcblxuICAgIGlmICh0aGlzLl9vbkNvbm5lY3QpIHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgdGhpcy5fb25Db25uZWN0KTtcbiAgICAgIHRoaXMuX29uQ29ubmVjdCA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX29uUm91dGVyQ3JlYXRlKSB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIHRoaXMuX29uUm91dGVyQ3JlYXRlKTtcbiAgICAgIHRoaXMuX29uUm91dGVyQ3JlYXRlID0gbnVsbDtcbiAgICB9XG5cbiAgICB0aGlzLnN0b3AoKTtcblxuICAgIHRoaXMuY2xpZW50SWQgPSBudWxsO1xuICAgIHRoaXMuZ3VpZCA9IG51bGw7XG4gICAgLy8gVGhlIGNhbGxlciBtdXN0IGRlc3Ryb3kgdGhlIHN0cmVhbUNvbmZpZ3VyYXRpb25cbiAgICB0aGlzLnN0cmVhbUNvbmZpZ3VyYXRpb24gPSBudWxsO1xuICAgIHRoaXMuY29udGFpbmVyRWxlbWVudCA9IG51bGw7XG5cbiAgICAvLyBUaGUgUm91dGVyIHdpbGwgYmUgZGVzdHJveWVkIGFsb25nIHdpdGggdGhlIGlmcmFtZVxuICAgIHRoaXMuaWZyYW1lLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5pZnJhbWUpO1xuICAgIC8vIHRoaXMuaWZyYW1lLnJlbW92ZSgpO1xuICAgIHRoaXMuaWZyYW1lLnNyY2RvYyA9ICcnO1xuICAgIHRoaXMuaWZyYW1lID0gbnVsbDtcblxuICAgIHRoaXMuaGFuZGxlcnMgPSBudWxsO1xuICAgIHRoaXMucmVjb25uZWN0aW9uQXR0ZW1wdHMgPSBudWxsO1xuXG4gICAgdGhpcy5jb25uZWN0ZWQgPSBudWxsO1xuICAgIHRoaXMubW9vdlRpbWVvdXQgPSBudWxsO1xuICAgIHRoaXMuZmlyc3RNb29mVGltZW91dCA9IG51bGw7XG5cbiAgICB0aGlzLm1vb3ZSZXF1ZXN0VG9waWMgPSBudWxsO1xuXG4gICAgdGhpcy5zdGF0c01zZyA9IG51bGw7XG5cbiAgICAvLyBAdG9kbyAtIGNhbiB0aGlzIGJlIHNhZmVseSBkZXJlZmVyZW5jZWQ/XG4gICAgLy8gdGhpcy5fb25NZXNzYWdlRXJyb3IgPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFZhbGlkYXRlIHRoZSBqd3QgdGhhdCB0aGlzIGNvbmR1aXQgd2FzIGNvbnN0cnVjdGVkIHdpdGguXG4gICAqXG4gICAqIEByZXR1cm5zIFByb21pc2VcbiAgICogICBSZXNvbHZlcyB0aGUgc3RyZWFtTmFtZSB3aGVuIHRoZSByZXNwb25zZSBpcyByZWNlaXZlZCBBTkQgaXMgc3VjY2Vzc2Z1bC5cbiAgICogICBSZWplY3RzIGlmIHRoZSB0cmFuc2FjdGlvbiBmYWlscyBvciBpZiB0aGUgcmVzcG9uc2UgY29kZSBpcyBub3QgMjAwLlxuICAgKi9cbiAgdmFsaWRhdGVKd3QgKCkge1xuICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdWYWxpZGF0aW5nIEpXVC4uLicpO1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMudHJhbnNhY3Rpb24oXG4gICAgICAgICAgJ2lvdi9qd3RWYWxpZGF0ZScsXG4gICAgICAgICAge1xuICAgICAgICAgICAgYjY0X2FjY2Vzc191cmw6IHRoaXMuc3RyZWFtQ29uZmlndXJhdGlvbi5iNjRfand0X2FjY2Vzc191cmwsXG4gICAgICAgICAgICB0b2tlbjogdGhpcy5zdHJlYW1Db25maWd1cmF0aW9uLmp3dCxcbiAgICAgICAgICB9LFxuICAgICAgICAgIChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgLy8gcmVzcG9uc2UgLT4gIHtcInN0YXR1c1wiOiAyMDAsIFwidGFyZ2V0X3VybFwiOiBcImNsc3A6Ly9zZnMxL2Zha2VzdHJlYW1cIiwgXCJlcnJvclwiOiBudWxsfVxuXG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzICE9PSAyMDApIHtcbiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDAzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChuZXcgRXJyb3IoJ0p3dFVuQXV0aG9yaXplZCcpKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHJldHVybiByZWplY3QobmV3IEVycm9yKCdKd3RJbnZhbGlkJykpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL1RPRE8sIGZpZ3VyZSBvdXQgaG93IHRvIGhhbmRsZSBhIGNoYW5nZSBpbiB0aGUgc2ZzIHVybCBmcm9tIHRoZVxuICAgICAgICAgICAgLy8gY2xzcC1qd3QgZnJvbSB0aGUgdGFyZ2V0IHVybCByZXR1cm5lZCBmcm9tIGRlY3J5cHRpbmcgdGhlIGp3dFxuICAgICAgICAgICAgLy8gdG9rZW4uXG4gICAgICAgICAgICAvLyBFeGFtcGxlOlxuICAgICAgICAgICAgLy8gICAgdXNlciBlbnRlcnMgJ2Nsc3Atand0Oi8vc2ZzMS9qd3Q/U3RhcnQ9MCZFbmQ9Li4uJyBmb3Igc291cmNlXG4gICAgICAgICAgICAvLyAgICBjbHNwVXJsID0gJ2Nsc3A6Ly9TRlMyL3N0cmVhbU9uRGlmZmVyZW50U2ZzXG4gICAgICAgICAgICAvLyAtLS0gZHVlIHRvIHRoZSB2aWRlb2pzIGFyY2hpdGVjdHVyZSBpIGRvbid0IHNlZSBhIGNsZWFuIHdheSBvZiBkb2luZyB0aGlzLlxuICAgICAgICAgICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgICAgICAvLyAgICBUaGUgb25seSB3YXkgSSBjYW4gc2VlIGRvaW5nIHRoaXMgY2xlYW5seSBpcyB0byBjaGFuZ2UgdmlkZW9qcyBpdHNlbGYgdG9cbiAgICAgICAgICAgIC8vICAgIGFsbG93IHRoZSAnY2FuSGFuZGxlU291cmNlJyBmdW5jdGlvbiBpbiBNcXR0U291cmNlSGFuZGxlciB0byByZXR1cm4gYVxuICAgICAgICAgICAgLy8gICAgcHJvbWlzZSBub3QgYSB2YWx1ZSwgdGhlbiBhc2N5Y2hyb25vdXNseSBmaW5kIG91dCBpZiBpdCBjYW4gcGxheSB0aGlzXG4gICAgICAgICAgICAvLyAgICBzb3VyY2UgYWZ0ZXIgbWFraW5nIHRoZSBjYWxsIHRvIGRlY3J5cHQgdGhlIGp3dCB0b2tlbi4yMlxuICAgICAgICAgICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgICAgIC8vIE5vdGU6IHRoaXMgY291bGQgZ28gYXdheSBpbiBhcmNoaXRlY3R1cmUgMi4wIGlmIE1RVFQgd2FzIGEgY2x1c3RlciBpbiB0aGlzXG4gICAgICAgICAgICAvLyBjYXNlIHdoYXQgaXMgbm93IHRoZSBzZnMgaXAgYWRkcmVzcyBpbiBjbHNwIHVybCB3aWxsIGFsd2F5cyBiZSB0aGUgc2FtZSBpdCB3aWxsXG4gICAgICAgICAgICAvLyBiZSB0aGUgcHVibGljIGlwIG9mIGNsdXN0ZXIgZ2F0ZXdheS5cbiAgICAgICAgICAgIGNvbnN0IHQgPSByZXNwb25zZS50YXJnZXRfdXJsLnNwbGl0KCcvJyk7XG5cbiAgICAgICAgICAgIC8vIGdldCB0aGUgYWN0dWFsIHN0cmVhbSBuYW1lXG4gICAgICAgICAgICBjb25zdCBzdHJlYW1OYW1lID0gdFt0Lmxlbmd0aCAtIDFdO1xuXG4gICAgICAgICAgICByZXNvbHZlKHN0cmVhbU5hbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFZhbGlkYXRlIHRoZSBoYXNoIHRoYXQgdGhpcyBjb25kdWl0IHdhcyBjb25zdHJ1Y3RlZCB3aXRoLlxuICAgKlxuICAgKiBAcmV0dXJucyBQcm9taXNlXG4gICAqICAgUmVzb2x2ZXMgdGhlIHN0cmVhbU5hbWUgd2hlbiB0aGUgcmVzcG9uc2UgaXMgcmVjZWl2ZWQgQU5EIGlzIHN1Y2Nlc3NmdWwuXG4gICAqICAgUmVqZWN0cyBpZiB0aGUgdHJhbnNhY3Rpb24gZmFpbHMgb3IgaWYgdGhlIHJlc3BvbnNlIGNvZGUgaXMgbm90IDIwMC5cbiAgICovXG4gIHZhbGlkYXRlSGFzaCAoKSB7XG4gICAgdGhpcy5sb2dnZXIuZGVidWcoJ1ZhbGlkYXRpbmcgSGFzaC4uLicpO1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMudHJhbnNhY3Rpb24oXG4gICAgICAgICAgJ2lvdi9oYXNoVmFsaWRhdGUnLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGI2NEhhc2hVUkw6IHRoaXMuc3RyZWFtQ29uZmlndXJhdGlvbi5iNjRfaGFzaF9hY2Nlc3NfdXJsLFxuICAgICAgICAgICAgdG9rZW46IHRoaXMuc3RyZWFtQ29uZmlndXJhdGlvbi5oYXNoLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAvLyByZXNwb25zZSAtPiAge1wic3RhdHVzXCI6IDIwMCwgXCJ0YXJnZXRfdXJsXCI6IFwiY2xzcDovL3NmczEvZmFrZXN0cmVhbVwiLCBcImVycm9yXCI6IG51bGx9XG5cbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgIT09IDIwMCkge1xuICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KG5ldyBFcnJvcignSGFzaFVuQXV0aG9yaXplZCcpKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHJldHVybiByZWplY3QobmV3IEVycm9yKCdIYXNoSW52YWxpZCcpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9UT0RPLCBmaWd1cmUgb3V0IGhvdyB0byBoYW5kbGUgYSBjaGFuZ2UgaW4gdGhlIHNmcyB1cmwgZnJvbSB0aGVcbiAgICAgICAgICAgIC8vIGNsc3AtaGFzaCBmcm9tIHRoZSB0YXJnZXQgdXJsIHJldHVybmVkIGZyb20gZGVjcnlwdGluZyB0aGUgaGFzaFxuICAgICAgICAgICAgLy8gdG9rZW4uXG4gICAgICAgICAgICAvLyBFeGFtcGxlOlxuICAgICAgICAgICAgLy8gICAgdXNlciBlbnRlcnMgJ2Nsc3AtaGFzaDovL3NmczEvaGFzaD9zdGFydD0wJmVuZD0uLi4mdG9rZW49Li4uJyBmb3Igc291cmNlXG4gICAgICAgICAgICAvLyAgICBjbHNwVXJsID0gJ2Nsc3A6Ly9TRlMyL3N0cmVhbU9uRGlmZmVyZW50U2ZzXG4gICAgICAgICAgICAvLyAtLS0gZHVlIHRvIHRoZSB2aWRlb2pzIGFyY2hpdGVjdHVyZSBpIGRvbid0IHNlZSBhIGNsZWFuIHdheSBvZiBkb2luZyB0aGlzLlxuICAgICAgICAgICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgICAgICAvLyAgICBUaGUgb25seSB3YXkgSSBjYW4gc2VlIGRvaW5nIHRoaXMgY2xlYW5seSBpcyB0byBjaGFuZ2UgdmlkZW9qcyBpdHNlbGYgdG9cbiAgICAgICAgICAgIC8vICAgIGFsbG93IHRoZSAnY2FuSGFuZGxlU291cmNlJyBmdW5jdGlvbiBpbiBNcXR0U291cmNlSGFuZGxlciB0byByZXR1cm4gYVxuICAgICAgICAgICAgLy8gICAgcHJvbWlzZSBub3QgYSB2YWx1ZSwgdGhlbiBhc2N5Y2hyb25vdXNseSBmaW5kIG91dCBpZiBpdCBjYW4gcGxheSB0aGlzXG4gICAgICAgICAgICAvLyAgICBzb3VyY2UgYWZ0ZXIgbWFraW5nIHRoZSBjYWxsIHRvIGRlY3J5cHQgdGhlIGhhc2ggdG9rZW4uMjJcbiAgICAgICAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgICAgICAvLyBOb3RlOiB0aGlzIGNvdWxkIGdvIGF3YXkgaW4gYXJjaGl0ZWN0dXJlIDIuMCBpZiBNUVRUIHdhcyBhIGNsdXN0ZXIgaW4gdGhpc1xuICAgICAgICAgICAgLy8gY2FzZSB3aGF0IGlzIG5vdyB0aGUgc2ZzIGlwIGFkZHJlc3MgaW4gY2xzcCB1cmwgd2lsbCBhbHdheXMgYmUgdGhlIHNhbWUgaXQgd2lsbFxuICAgICAgICAgICAgLy8gYmUgdGhlIHB1YmxpYyBpcCBvZiBjbHVzdGVyIGdhdGV3YXkuXG4gICAgICAgICAgICBjb25zdCB0ID0gcmVzcG9uc2UudGFyZ2V0X3VybC5zcGxpdCgnLycpO1xuXG4gICAgICAgICAgICAvLyBnZXQgdGhlIGFjdHVhbCBzdHJlYW0gbmFtZVxuICAgICAgICAgICAgY29uc3Qgc3RyZWFtTmFtZSA9IHRbdC5sZW5ndGggLSAxXTtcblxuICAgICAgICAgICAgcmVzb2x2ZShzdHJlYW1OYW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGBndWlkYCBhbmQgYG1pbWVDb2RlY2AgZm9yIHRoZSBzdHJlYW0uICBUaGUgZ3VpZCBzZXJ2ZXMgYXMgYSBzdHJlYW1cbiAgICogaW5zdGFuY2UgZm9yIGEgZ2l2ZW4gY2FtZXJhIG9yIHZpZGVvIGZlZWQsIGFuZCBpcyBuZWVkZWQgdG8gbWFrZSByZXF1ZXN0c1xuICAgKiBmb3IgdGhlIHN0cmVhbSBpbnN0YW5jZS5cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2V9XG4gICAqL1xuICByZXF1ZXN0U3RyZWFtRGF0YSAoKSB7XG4gICAgdGhpcy5sb2dnZXIuZGVidWcoJ1JlcXVlc3RpbmcgU3RyZWFtLi4uJyk7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IGhhc1JlcXVlc3RUaW1lZG91dCA9IGZhbHNlO1xuXG4gICAgICB0aGlzLnJlcXVlc3RTdHJlYW1EYXRhVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBoYXNSZXF1ZXN0VGltZWRvdXQgPSB0cnVlO1xuXG4gICAgICAgIHJlamVjdChuZXcgRXJyb3IoYFN0cmVhbSBkYXRhIGZvciBzdHJlYW0gJHt0aGlzLnN0cmVhbU5hbWV9IHRpbWVkIG91dCBhZnRlciAke0NvbmR1aXQuU1RSRUFNX0RBVEFfVElNRU9VVF9EVVJBVElPTn0gc2Vjb25kc2ApKTtcbiAgICAgIH0sIENvbmR1aXQuU1RSRUFNX0RBVEFfVElNRU9VVF9EVVJBVElPTiAqIDEwMDApO1xuXG4gICAgICB0aGlzLnRyYW5zYWN0aW9uKFxuICAgICAgICBgaW92L3ZpZGVvLyR7d2luZG93LmJ0b2EodGhpcy5zdHJlYW1OYW1lKX0vcmVxdWVzdGAsXG4gICAgICAgIHtcbiAgICAgICAgICBjbGllbnRJZDogdGhpcy5jbGllbnRJZCxcbiAgICAgICAgfSxcbiAgICAgICAgKHtcbiAgICAgICAgICBtaW1lQ29kZWMsXG4gICAgICAgICAgZ3VpZCxcbiAgICAgICAgfSkgPT4ge1xuICAgICAgICAgIC8vIElmIHdlIHJlY2VpdmVkIHRoZSBtb292IGFmdGVyIHRoZSB0aW1lb3V0LCBkbyBub3RoaW5nXG4gICAgICAgICAgaWYgKGhhc1JlcXVlc3RUaW1lZG91dCkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybignUmVjZWl2ZWQgc3RyZWFtIGRhdGEsIGJ1dCByZXF1ZXN0U3RyZWFtRGF0YVRpbWVvdXQgaGFzIGFscmVhZHkgb2NjdXJyZWQuLi4nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aGlzLmNsZWFyUmVxdWVzdFN0cmVhbURhdGFUaW1lb3V0KCk7XG5cbiAgICAgICAgICAvLyBAdG9kbyAtIGlzIGl0IHBvc3NpYmxlIHRvIGRvIGJldHRlciBlcnJvciBoYW5kbGluZyBoZXJlP1xuICAgICAgICAgIGlmICghbWltZUNvZGVjKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVqZWN0KCdFcnJvciB3aGlsZSByZXF1ZXN0aW5nIHN0cmVhbTogbWltZUNvZGVjIHdhcyBub3QgcmVjZWl2ZWQhJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCFndWlkKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVqZWN0KCdFcnJvciB3aGlsZSByZXF1ZXN0aW5nIHN0cmVhbTogZ3VpZCB3YXMgbm90IHJlY2VpdmVkIScpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJlc29sdmUoe1xuICAgICAgICAgICAgbWltZUNvZGVjLFxuICAgICAgICAgICAgZ3VpZCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxuXG4gIGNsZWFyU3RhdHNJbnRlcnZhbCAoKSB7XG4gICAgaWYgKHRoaXMuc3RhdHNJbnRlcnZhbCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuc3RhdHNJbnRlcnZhbCk7XG4gICAgICB0aGlzLnN0YXRzSW50ZXJ2YWwgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGNsZWFyUmVxdWVzdFN0cmVhbURhdGFUaW1lb3V0ICgpIHtcbiAgICBpZiAodGhpcy5yZXF1ZXN0U3RyZWFtRGF0YVRpbWVvdXQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnJlcXVlc3RTdHJlYW1EYXRhVGltZW91dCk7XG4gICAgICB0aGlzLnJlcXVlc3RTdHJlYW1EYXRhVGltZW91dCA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgY2xlYXJNb292VGltZW91dCAoKSB7XG4gICAgaWYgKHRoaXMubW9vdlRpbWVvdXQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLm1vb3ZUaW1lb3V0KTtcbiAgICAgIHRoaXMubW9vdlRpbWVvdXQgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGNsZWFyRmlyc3RNb29mVGltZW91dCAoKSB7XG4gICAgaWYgKHRoaXMuZmlyc3RNb29mVGltZW91dCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuZmlyc3RNb29mVGltZW91dCk7XG4gICAgICB0aGlzLmZpcnN0TW9vZlRpbWVvdXQgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXF1ZXN0IHRoZSBtb292IGZyb20gdGhlIFNGU1xuICAgKlxuICAgKiBAdG9kbyAtIHdoeSBpcyB0aGUgY2xpZW50SWQgdXNlZCBoZXJlIHJhdGhlciB0aGFuIHRoZSBzdHJlYW0gZ3VpZD9cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2V9XG4gICAqICAgKiBSZXNvbHZlcyB3aGVuIHRoZSBtb292IGlzIHJlY2VpdmVkXG4gICAqICAgKiBSZWplY3RzIGlmIHRoZSBtb292IGlzIG5vdCByZWNlaXZlZCB3aXRoaW4gdGhlIHRpbWUgZGVmaW5lZCBieVxuICAgKiAgICAgTU9PVl9USU1FT1VUX0RVUkFUSU9OXG4gICAqL1xuICBhc3luYyByZXF1ZXN0TW9vdiAoKSB7XG4gICAgdGhpcy5sb2dnZXIuaW5mbygnUmVxdWVzdGluZyB0aGUgbW9vdi4uLicpO1xuXG4gICAgaWYgKCF0aGlzLmd1aWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIGd1aWQgbXVzdCBiZSBzZXQgYmVmb3JlIHJlcXVlc3RpbmcgbW9vZnMnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IGhhc01vb3ZUaW1lZE91dCA9IGZhbHNlO1xuXG4gICAgICB0aGlzLm1vb3ZUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGhhc01vb3ZUaW1lZE91dCA9IHRydWU7XG5cbiAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihgTW9vdiBmb3Igc3RyZWFtICR7dGhpcy5zdHJlYW1OYW1lfSB0aW1lZCBvdXQgYWZ0ZXIgJHtDb25kdWl0Lk1PT1ZfVElNRU9VVF9EVVJBVElPTn0gc2Vjb25kc2ApKTtcbiAgICAgIH0sIENvbmR1aXQuTU9PVl9USU1FT1VUX0RVUkFUSU9OICogMTAwMCk7XG5cbiAgICAgIHRoaXMuc3Vic2NyaWJlKHRoaXMubW9vdlJlcXVlc3RUb3BpYywgKHsgcGF5bG9hZEJ5dGVzIH0pID0+IHtcbiAgICAgICAgLy8gSWYgd2UgcmVjZWl2ZWQgdGhlIG1vb3YgYWZ0ZXIgdGhlIHRpbWVvdXQsIGRvIG5vdGhpbmdcbiAgICAgICAgaWYgKGhhc01vb3ZUaW1lZE91dCkge1xuICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ1JlY2VpdmVkIG1vb3YsIGJ1dCBtb29mVGltZW91dCBoYXMgYWxyZWFkeSBvY2N1cnJlZC4uLicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2xlYXJNb292VGltZW91dCgpO1xuXG4gICAgICAgIGNvbnN0IG1vb3YgPSBwYXlsb2FkQnl0ZXM7XG5cbiAgICAgICAgLy8gQHRvZG8gLSBpbiBvdXIgZXJyb3IgaGFuZGxpbmcsIHdlIGRvIG5vdCB1bnN1YnNjcmliZSBmcm9tIHRoaXNcbiAgICAgICAgLy8gdG9waWMgLSBkb2VzIHRoYXQgaGF2ZSBhIG5lZ2F0aXZlIGVmZmVjdCBvbiB0aGUgU0ZTP1xuXG4gICAgICAgIC8vIEB0b2RvIC0gd2hhdCBpZiB0aGUgdW5zdWJzY3JpYmUgZmFpbHM/XG5cbiAgICAgICAgLy8gT25jZSB3ZSBoYXZlIHRoZSBtb292LCB3ZSBkb24ndCBuZWVkIHRvIGxpc3RlbiBmb3IgaXQgYW55bW9yZVxuICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdQbGF5IGlzIHVuc3Vic2NyaWJpbmcgZnJvbSB0aGUgbW9vdiB0b3BpYy4uLicpO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKHRoaXMubW9vdlJlcXVlc3RUb3BpYyk7XG5cbiAgICAgICAgcmVzb2x2ZSh7IG1vb3YgfSk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVhZHlUb1JlY2V2aWVNb29mc1RvcGljID0gYGlvdi92aWRlby8ke3RoaXMuZ3VpZH0vcGxheWA7XG5cbiAgICAgIC8vIE9uY2Ugd2UgYXJlIGxpc3RlbmluZyBmb3IgdGhlIG1vb3YsIHRlbGwgdGhlIHNlcnZlciAoYnkgcHVibGlzaGluZyB0b1xuICAgICAgLy8gaXQpIHRvIHN0YXJ0IHNlbmRpbmcgdGhlIENMU1Agc3RyZWFtLlxuICAgICAgdGhpcy5wdWJsaXNoKHJlYWR5VG9SZWNldmllTW9vZnNUb3BpYywge1xuICAgICAgICBpbml0U2VnbWVudFRvcGljOiB0aGlzLm1vb3ZSZXF1ZXN0VG9waWMsXG4gICAgICAgIGNsaWVudElkOiB0aGlzLmNsaWVudElkLFxuICAgICAgICBqd3Q6IHRoaXMuc3RyZWFtQ29uZmlndXJhdGlvbi5qd3QsXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXF1ZXN0IG1vb2ZzIGZyb20gdGhlIFNGUy4gIFNob3VsZCBvbmx5IGJlIGNhbGxlZCBhZnRlciBnZXR0aW5nIHRoZSBtb292LlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbk1vb2ZcbiAgICogICBUaGUgZnVuY3Rpb24gdG8gY2FsbCB3aGVuIGEgbW9vZiBpcyByZWNlaXZlZFxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICogICAqIFJlc29sdmVzIHdoZW4gdGhlIGZpcnN0IG1vb2YgaXMgcmVjZWl2ZWRcbiAgICogICAqIFJlamVjdHMgaWYgdGhlIGZpcnN0IG1vb2YgaXMgbm90IHJlY2VpdmVkIHdpdGhpbiB0aGUgdGltZSBkZWZpbmVkIGJ5XG4gICAqICAgICBGSVJTVF9NT09GX1RJTUVPVVRfRFVSQVRJT05cbiAgICovXG4gIGFzeW5jIHJlcXVlc3RNb29mcyAob25Nb29mID0gKCkgPT4ge30pIHtcbiAgICB0aGlzLmxvZ2dlci5pbmZvKCdTZXR0aW5nIHVwIG1vb2YgbGlzdGVuZXIuLi4nKTtcblxuICAgIGlmICghdGhpcy5ndWlkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBndWlkIG11c3QgYmUgc2V0IGJlZm9yZSByZXF1ZXN0aW5nIG1vb2ZzJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBoYXNGaXJzdE1vb2ZUaW1lZE91dCA9IGZhbHNlO1xuICAgICAgbGV0IGhhc1JlY2VpdmVkRmlyc3RNb29mID0gZmFsc2U7XG5cbiAgICAgIHRoaXMuZmlyc3RNb29mVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBoYXNGaXJzdE1vb2ZUaW1lZE91dCA9IHRydWU7XG5cbiAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihgRmlyc3QgbW9vZiBmb3Igc3RyZWFtICR7dGhpcy5zdHJlYW1OYW1lfSB0aW1lZCBvdXQgYWZ0ZXIgJHtDb25kdWl0LkZJUlNUX01PT0ZfVElNRU9VVF9EVVJBVElPTn0gc2Vjb25kc2ApKTtcbiAgICAgIH0sIENvbmR1aXQuRklSU1RfTU9PRl9USU1FT1VUX0RVUkFUSU9OICogMTAwMCk7XG5cbiAgICAgIGNvbnN0IG1vb2ZSZWNlaXZlZFRvcGljID0gYGlvdi92aWRlby8ke3RoaXMuZ3VpZH0vbGl2ZWA7XG5cbiAgICAgIC8vIFNldCB1cCB0aGUgbGlzdGVuZXIgZm9yIHRoZSBzdHJlYW0gaXRzZWxmICh0aGUgbW9vZiB2aWRlbyBzZWdtZW50cylcbiAgICAgIHRoaXMuc3Vic2NyaWJlKG1vb2ZSZWNlaXZlZFRvcGljLCAobXF0dE1lc3NhZ2UpID0+IHtcbiAgICAgICAgaWYgKCFoYXNSZWNlaXZlZEZpcnN0TW9vZikge1xuICAgICAgICAgIC8vIElmIHdlIHJlY2VpdmVkIHRoZSBmaXJzdCBtb29mIGFmdGVyIHRoZSB0aW1lb3V0LCBkbyBub3RoaW5nXG4gICAgICAgICAgaWYgKGhhc0ZpcnN0TW9vZlRpbWVkT3V0KSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKCdSZWNlaXZlZCBmaXJzdCBtb29mLCBidXQgbW9vZlRpbWVvdXQgaGFzIGFscmVhZHkgb2NjdXJyZWQuLi4nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBJZiB0aGUgZmlyc3RNb29mVGltZW91dCBzdGlsbCBleGlzdHMsIGNhbmNlbCBpdCwgc2luY2UgdGhlIHJlcXVlc3RcbiAgICAgICAgICAvLyBkaWQgbm90IHRpbWVvdXRcbiAgICAgICAgICB0aGlzLmNsZWFyRmlyc3RNb29mVGltZW91dCgpO1xuXG4gICAgICAgICAgLy8gU2luY2UgdGhpcyBpcyB0aGUgZmlyc3QgbW9vZiwgcmVzb2x2ZVxuICAgICAgICAgIGhhc1JlY2VpdmVkRmlyc3RNb29mID0gdHJ1ZTtcblxuICAgICAgICAgIHJlc29sdmUoeyBtb29mUmVjZWl2ZWRUb3BpYyB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEB0b2RvIC0gc2hvdWxkIHdlIGhhdmUgYSB0aW1lb3V0IHRoYXQgY2hlY2tzIHRpbWUgYmV0d2VlbiBtb29mcz9cbiAgICAgICAgLy8gZS5nLiBpZiB3ZSBhcmUgZ2V0dGluZyBtb29mcywgdGhlbiBhZnRlciAzMCBzZWNvbmRzIHdlIGhhdmVuJ3RcbiAgICAgICAgLy8gcmVjZWl2ZWQgYW5vdGhlciBtb29mLCBzaG91bGQgdGhhdCB0aHJvdyBhbiBlcnJvcj9cblxuICAgICAgICBvbk1vb2YobXF0dE1lc3NhZ2UpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQGNhbGxiYWNrIENvbmR1aXQtcmVzeW5jU3RyZWFtQ2JcbiAgICogQHBhcmFtIHthbnl9IC0gQHRvZG8gLSBkb2N1bWVudCB0aGlzXG4gICAqL1xuXG4gIC8qKlxuICAgKiBAdG9kbyAtIHByb3ZpZGUgbWV0aG9kIGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIEB0b2RvIC0gcmV0dXJuIGEgUHJvbWlzZVxuICAgKlxuICAgKiBAcGFyYW0ge0NvbmR1aXQtcmVzeW5jU3RyZWFtQ2J9IG9uUmVzeW5jXG4gICAqICAgVGhlIGNhbGxiYWNrIGZvciB0aGUgcmVzeW5jIG9wZXJhdGlvblxuICAgKi9cbiAgcmVzeW5jU3RyZWFtIChvblJlc3luYykge1xuICAgIC8vIHN1YnNjcmliZSB0byBhIHN5bmMgdG9waWMgdGhhdCB3aWxsIGJlIGNhbGxlZCBpZiB0aGUgc3RyZWFtIHRoYXQgaXNcbiAgICAvLyBmZWVkaW5nIHRoZSBtc2Ugc2VydmljZSBkaWVzIGFuZCBoYXMgdG8gYmUgcmVzdGFydGVkIHRoYXQgdGhpcyBwbGF5ZXJcbiAgICAvLyBzaG91bGQgcmVzdGFydCB0aGUgc3RyZWFtXG4gICAgdGhpcy5zdWJzY3JpYmUoYGlvdi92aWRlby8ke3RoaXMuZ3VpZH0vcmVzeW5jYCwgb25SZXN5bmMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBjYWxsYmFjayBDb25kdWl0LWdldFN0cmVhbUxpc3RDYWxsYmFja1xuICAgKiBAcGFyYW0ge2FueX0gLSB0aGUgbGlzdCBvZiBhdmFpbGFibGUgQ0xTUCBzdHJlYW1zIG9uIHRoZSBTRlNcbiAgICovXG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbGlzdCBvZiBhdmFpbGFibGUgQ0xTUCBzdHJlYW1zIGZyb20gdGhlIFNGU1xuICAgKlxuICAgKiBOb3RlIC0gdGhpcyBpc24ndCBjdXJyZW50bHkgdXNlZCBhbnl3aGVyZVxuICAgKlxuICAgKiBAdG9kbyAtIHJldHVybiBhIFByb21pc2VcbiAgICpcbiAgICogQHBhcmFtIHtDb25kdWl0LWdldFN0cmVhbUxpc3RDYWxsYmFja30gY2JcbiAgICpcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICBnZXRTdHJlYW1MaXN0IChjYikge1xuICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdHZXR0aW5nIFN0cmVhbSBMaXN0Li4uJyk7XG5cbiAgICB0aGlzLnRyYW5zYWN0aW9uKFxuICAgICAgJ2lvdi92aWRlby9saXN0Jywge30sXG4gICAgICBjYlxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlciBmb3IgYW4gaWZyYW1lIHdpbmRvdyBtZXNzYWdlLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnRcbiAgICogICBXZSBleHBlY3QgZXZlbnQgdG8gaGF2ZSBcImRhdGEuZXZlbnRcIiwgd2hpY2ggcmVwcmVzZW50cyB0aGUgZXZlbnQgdGhhdFxuICAgKiAgIG9jY3VycmVkIHJlbGF0aXZlIHRvIHRoZSBjbHNwIHN0cmVhbS4gIFwicmVhZHlcIiBtZWFucyB0aGUgc3RyZWFtIGlzIHJlYWR5LFxuICAgKiAgIFwiZmFpbFwiIG1lYW5zIHRoZXJlIHdhcyBhbiBlcnJvciwgXCJkYXRhXCIgbWVhbnMgYSB2aWRlbyBzZWdtZW50IC8gbW9vZiB3YXNcbiAgICogICBzZW50LlxuICAgKi9cbiAgb25NZXNzYWdlIChldmVudCkge1xuICAgIGNvbnN0IGV2ZW50VHlwZSA9IGV2ZW50LmRhdGEuZXZlbnQ7XG5cbiAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhgTWVzc2FnZSByZWNlaXZlZCBmb3IgXCIke2V2ZW50VHlwZX1cIiBldmVudGApO1xuXG4gICAgdHJ5IHtcbiAgICAgIHN3aXRjaCAoZXZlbnRUeXBlKSB7XG4gICAgICAgIGNhc2UgQ29uZHVpdC5yb3V0ZXJFdmVudHMuREFUQV9SRUNFSVZFRDoge1xuICAgICAgICAgIHRoaXMuX29uTXF0dERhdGEoZXZlbnQuZGF0YSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBDb25kdWl0LnJvdXRlckV2ZW50cy5DT05ORUNUSU9OX0xPU1Q6IHtcbiAgICAgICAgICB0aGlzLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICB0aGlzLl9yZWNvbm5lY3QoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIENvbmR1aXQucm91dGVyRXZlbnRzLldJTkRPV19NRVNTQUdFX0ZBSUw6IHtcbiAgICAgICAgICAvLyBAdG9kbyAtIGRvIHdlIHJlYWxseSBuZWVkIHRvIGRpc2Nvbm5lY3Q/XG4gICAgICAgICAgdGhpcy5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBDb25kdWl0LnJvdXRlckV2ZW50cy5DUkVBVEVEOlxuICAgICAgICBjYXNlIENvbmR1aXQucm91dGVyRXZlbnRzLkNPTk5FQ1RfU1VDQ0VTUzpcbiAgICAgICAgY2FzZSBDb25kdWl0LnJvdXRlckV2ZW50cy5ESVNDT05ORUNUX1NVQ0NFU1M6IHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoYE5vIG1hdGNoIGZvciBldmVudDogJHtldmVudFR5cGV9YCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aGlzLmxvZ2dlci5kZWJ1Zygnb25NZXNzYWdlRXJyb3InKTtcblxuICAgICAgdGhpcy5fb25NZXNzYWdlRXJyb3IoZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUbyBiZSBjYWxsZWQgd2hlbiBhIHNlZ21lbnQgLyBtb29mIGlzIFwic2hvd25cIi4gIEluIHJlYWxpc3RpYyB0ZXJtcywgdGhpcyBpc1xuICAgKiBtZWFudCB0byBiZSBjYWxsZWQgd2hlbiB0aGUgbW9vZiBpcyBhcHBlbmRlZCB0byB0aGUgTVNFIFNvdXJjZUJ1ZmZlci4gIFRoaXNcbiAgICogbWV0aG9kIGlzIG1lYW50IHRvIHVwZGF0ZSBzdGF0cy5cbiAgICpcbiAgICogQHBhcmFtIHtBcnJheX0gYnl0ZUFycmF5XG4gICAqICAgVGhlIHJhdyBzZWdtZW50IC8gbW9vZlxuICAgKi9cbiAgc2VnbWVudFVzZWQgKGJ5dGVBcnJheSkge1xuICAgIC8vIEB0b2RvIC0gaXQgYXBwZWFycyB0aGF0IHRoaXMgaXMgbmV2ZXIgdXNlZCFcbiAgICBpZiAoKHRoaXMuTG9nU291cmNlQnVmZmVyID09PSB0cnVlKSAmJiAodGhpcy5Mb2dTb3VyY2VCdWZmZXJUb3BpYyAhPT0gbnVsbCkpIHtcbiAgICAgIHRoaXMuZGlyZWN0U2VuZCh7XG4gICAgICAgIG1ldGhvZDogQ29uZHVpdC5pZnJhbWVDb21tYW5kcy5TRU5ELFxuICAgICAgICB0b3BpYzogdGhpcy5Mb2dTb3VyY2VCdWZmZXJUb3BpYyxcbiAgICAgICAgYnl0ZUFycmF5LFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy5zdGF0c01zZy5ieXRlQ291bnQgKz0gYnl0ZUFycmF5Lmxlbmd0aDtcbiAgfVxuXG4gIC8qKlxuICAgKiBFdmVyeSB0aW1lIGEgc2VnbWVudCAvIG1vb2YgaXMgcmVjZWl2ZWQgZnJvbSB0aGUgc2VydmVyLCBpdCBzaG91bGQgYmVcbiAgICogcGFzc2VkIHRvIHRoaXMgbWV0aG9kXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gbWVzc2FnZVxuICAgKi9cbiAgX29uTXF0dERhdGEgKG1lc3NhZ2UpIHtcbiAgICBjb25zdCB0b3BpYyA9IG1lc3NhZ2UuZGVzdGluYXRpb25OYW1lO1xuXG4gICAgdGhpcy5sb2dnZXIuZGVidWcoYEhhbmRsaW5nIG1lc3NhZ2UgZm9yIHRvcGljIFwiJHt0b3BpY31cImApO1xuXG4gICAgaWYgKCF0b3BpYykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNZXNzYWdlIGNvbnRhaW5lZCBubyB0b3BpYyB0byBoYW5kbGUhJyk7XG4gICAgfVxuXG4gICAgY29uc3QgaGFuZGxlciA9IHRoaXMuaGFuZGxlcnNbdG9waWNdO1xuXG4gICAgaWYgKCFoYW5kbGVyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIGhhbmRsZXIgZm9yICR7dG9waWN9YCk7XG4gICAgfVxuXG4gICAgaGFuZGxlcihtZXNzYWdlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAdG9kbyAtIHByb3ZpZGUgbWV0aG9kIGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIEB0b2RvIC0gcmV0dXJuIGEgUHJvbWlzZVxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gdG9waWNcbiAgICogICBUaGUgdG9waWMgdG8gc3Vic2NyaWJlIHRvXG4gICAqIEBwYXJhbSB7Q29uZHVpdC1zdWJzY3JpYmVDYn0gY2JcbiAgICogICBUaGUgY2FsbGJhY2sgZm9yIHRoZSBzdWJzY3JpYmUgb3BlcmF0aW9uXG4gICAqL1xuICBzdWJzY3JpYmUgKHRvcGljLCBoYW5kbGVyKSB7XG4gICAgdGhpcy5sb2dnZXIuZGVidWcoYFN1YnNjcmliaW5nIHRvIHRvcGljIFwiJHt0b3BpY31cImApO1xuXG4gICAgdGhpcy5oYW5kbGVyc1t0b3BpY10gPSBoYW5kbGVyO1xuXG4gICAgdGhpcy5fY29tbWFuZCh7XG4gICAgICBtZXRob2Q6IENvbmR1aXQuaWZyYW1lQ29tbWFuZHMuU1VCU0NSSUJFLFxuICAgICAgdG9waWMsXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQHRvZG8gLSBwcm92aWRlIG1ldGhvZCBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBAdG9kbyAtIHJldHVybiBhIFByb21pc2VcbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IHRvcGljXG4gICAqICAgVGhlIHRvcGljIHRvIHVuc3Vic2NyaWJlIGZyb21cbiAgICovXG4gIHVuc3Vic2NyaWJlICh0b3BpYykge1xuICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBVbnN1YnNjcmliaW5nIGZyb20gdG9waWMgXCIke3RvcGljfVwiYCk7XG5cbiAgICBkZWxldGUgdGhpcy5oYW5kbGVyc1t0b3BpY107XG5cbiAgICB0aGlzLl9jb21tYW5kKHtcbiAgICAgIG1ldGhvZDogQ29uZHVpdC5pZnJhbWVDb21tYW5kcy5VTlNVQlNDUklCRSxcbiAgICAgIHRvcGljLFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEB0b2RvIC0gcHJvdmlkZSBtZXRob2QgZGVzY3JpcHRpb25cbiAgICpcbiAgICogQHRvZG8gLSByZXR1cm4gYSBQcm9taXNlXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0b3BpY1xuICAgKiAgIFRoZSB0b3BpYyB0byBwdWJsaXNoIHRvXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG4gICAqICAgVGhlIGRhdGEgdG8gcHVibGlzaFxuICAgKi9cbiAgcHVibGlzaCAodG9waWMsIGRhdGEpIHtcbiAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhgUHVibGlzaGluZyB0byB0b3BpYyBcIiR7dG9waWN9XCJgKTtcblxuICAgIHRoaXMuX2NvbW1hbmQoe1xuICAgICAgbWV0aG9kOiBDb25kdWl0LmlmcmFtZUNvbW1hbmRzLlBVQkxJU0gsXG4gICAgICB0b3BpYyxcbiAgICAgIGRhdGEsXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQHRvZG8gLSBwcm92aWRlIG1ldGhvZCBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBAdG9kbyAtIHJldHVybiBhIFByb21pc2VcbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IHRvcGljXG4gICAqICAgVGhlIHRvcGljIHRvIHNlbmQgdG9cbiAgICogQHBhcmFtIHtBcnJheX0gYnl0ZUFycmF5XG4gICAqICAgVGhlIHJhdyBkYXRhIHRvIHNlbmRcbiAgICovXG4gIGRpcmVjdFNlbmQgKHRvcGljLCBieXRlQXJyYXkpIHtcbiAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnZGlyZWN0U2VuZC4uLicpO1xuXG4gICAgdGhpcy5fY29tbWFuZCh7XG4gICAgICBtZXRob2Q6IENvbmR1aXQuaWZyYW1lQ29tbWFuZHMuU0VORCxcbiAgICAgIHRvcGljLFxuICAgICAgYnl0ZUFycmF5LFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEB0b2RvIC0gcHJvdmlkZSBtZXRob2QgZGVzY3JpcHRpb25cbiAgICpcbiAgICogQHRvZG8gLSByZXR1cm4gYSBQcm9taXNlXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0b3BpY1xuICAgKiAgIFRoZSB0b3BpYyB0byBwZXJmb3JtIGEgdHJhbnNhY3Rpb24gb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG1lc3NhZ2VEYXRhXG4gICAqICAgVGhlIGRhdGEgdG8gYmUgcHVibGlzaGVkXG4gICAqIEBwYXJhbSB7Q29uZHVpdC10cmFuc2FjdGlvbkNifSBjYlxuICAgKi9cbiAgdHJhbnNhY3Rpb24gKFxuICAgIHRvcGljLFxuICAgIG1lc3NhZ2VEYXRhID0ge30sXG4gICAgY2JcbiAgKSB7XG4gICAgdGhpcy5sb2dnZXIuZGVidWcoYHRyYW5zYWN0aW9uIGZvciAke3RvcGljfS4uLmApO1xuXG4gICAgbWVzc2FnZURhdGEucmVzcF90b3BpYyA9IGAke3RoaXMuY2xpZW50SWR9L3Jlc3BvbnNlLyR7cGFyc2VJbnQoTWF0aC5yYW5kb20oKSAqIDEwMDAwMDApfWA7XG5cbiAgICB0aGlzLnN1YnNjcmliZShtZXNzYWdlRGF0YS5yZXNwX3RvcGljLCAocmVzcG9uc2UpID0+IHtcbiAgICAgIGlmIChjYikge1xuICAgICAgICBjYihKU09OLnBhcnNlKHJlc3BvbnNlLnBheWxvYWRTdHJpbmcpKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy51bnN1YnNjcmliZShtZXNzYWdlRGF0YS5yZXNwX3RvcGljKTtcbiAgICB9KTtcblxuICAgIHRoaXMucHVibGlzaCh0b3BpYywgbWVzc2FnZURhdGEpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqXG4gICAqIEdlbmVyYXRlIGFuIGlmcmFtZSB3aXRoIGFuIGVtYmVkZGVkIG1xdHQgcm91dGVyLiAgVGhlIHJvdXRlciB3aWxsIGJlIHdoYXRcbiAgICogdGhpcyBDb25kdWl0IGluc3RhbmNlIGNvbW11bmljYXRlcyB3aXRoIGluIHN1YnNlcXVlbnQgY29tbWFuZHMuXG4gICAqXG4gICAqIEByZXR1cm5zIEVsZW1lbnRcbiAgICovXG4gIF9nZW5lcmF0ZUlmcmFtZSAoKSB7XG4gICAgdGhpcy5sb2dnZXIuZGVidWcoJ0dlbmVyYXRpbmcgSWZyYW1lLi4uJyk7XG5cbiAgICBjb25zdCBpZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTtcblxuICAgIGlmcmFtZS5zZXRBdHRyaWJ1dGUoJ2lkJywgdGhpcy5jbGllbnRJZCk7XG5cbiAgICAvLyBUaGlzIGlmcmFtZSBzaG91bGQgYmUgaW52aXNpYmxlXG4gICAgaWZyYW1lLndpZHRoID0gMDtcbiAgICBpZnJhbWUuaGVpZ2h0ID0gMDtcbiAgICBpZnJhbWUuc2V0QXR0cmlidXRlKCdzdHlsZScsICdkaXNwbGF5Om5vbmU7Jyk7XG5cbiAgICBpZnJhbWUuc3JjZG9jID0gYFxuICAgICAgPGh0bWw+XG4gICAgICAgIDxoZWFkPlxuICAgICAgICAgIDxzY3JpcHQgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiPlxuICAgICAgICAgICAgLy8gSW5jbHVkZSB0aGUgbG9nZ2VyXG4gICAgICAgICAgICB3aW5kb3cuTG9nZ2VyID0gJHtMb2dnZXIudG9TdHJpbmcoKX07XG5cbiAgICAgICAgICAgIC8vIENvbmZpZ3VyZSB0aGUgQ0xTUCBwcm9wZXJ0aWVzXG4gICAgICAgICAgICB3aW5kb3cubXF0dFJvdXRlckNvbmZpZyA9IHtcbiAgICAgICAgICAgICAgbG9nSWQ6ICcke3RoaXMubG9nSWR9JyxcbiAgICAgICAgICAgICAgY2xpZW50SWQ6ICcke3RoaXMuY2xpZW50SWR9JyxcbiAgICAgICAgICAgICAgaG9zdDogJyR7dGhpcy5zdHJlYW1Db25maWd1cmF0aW9uLmhvc3R9JyxcbiAgICAgICAgICAgICAgcG9ydDogJHt0aGlzLnN0cmVhbUNvbmZpZ3VyYXRpb24ucG9ydH0sXG4gICAgICAgICAgICAgIHVzZVNTTDogJHt0aGlzLnN0cmVhbUNvbmZpZ3VyYXRpb24udXNlU1NMfSxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHdpbmRvdy5jb25kdWl0Q29tbWFuZHMgPSAke0pTT04uc3RyaW5naWZ5KENvbmR1aXQuaWZyYW1lQ29tbWFuZHMpfTtcblxuICAgICAgICAgICAgd2luZG93LmlmcmFtZUV2ZW50SGFuZGxlcnMgPSAke1JvdXRlci50b1N0cmluZygpfSgpO1xuICAgICAgICAgIDwvc2NyaXB0PlxuICAgICAgICA8L2hlYWQ+XG4gICAgICAgIDxib2R5XG4gICAgICAgICAgb25sb2FkPVwid2luZG93LmlmcmFtZUV2ZW50SGFuZGxlcnMub25sb2FkKCk7XCJcbiAgICAgICAgICBvbnVubG9hZD1cIndpbmRvdy5pZnJhbWVFdmVudEhhbmRsZXJzLm9udW5sb2FkKCk7XCJcbiAgICAgICAgPlxuICAgICAgICAgIDxkaXYgaWQ9XCJtZXNzYWdlXCI+PC9kaXY+XG4gICAgICAgIDwvYm9keT5cbiAgICAgIDwvaHRtbD5cbiAgICBgO1xuXG4gICAgcmV0dXJuIGlmcmFtZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBdHRlbXB0IHRvIHJlY29ubmVjdCBhIGNlcnRhaW4gbnVtYmVyIG9mIHRpbWVzXG4gICAqXG4gICAqIEBhc3luY1xuICAgKi9cbiAgYXN5bmMgX3JlY29ubmVjdCAoKSB7XG4gICAgdGhpcy5sb2dnZXIuaW5mbygnUmVjb25uZWN0aW5nLi4uJyk7XG5cbiAgICB0aGlzLnJlY29ubmVjdGlvbkF0dGVtcHRzKys7XG5cbiAgICBpZiAodGhpcy5yZWNvbm5lY3Rpb25BdHRlbXB0cyA+IE1BWF9SRUNPTk5FQ1RJT05fQVRURU1QVFMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHJlY29ubmVjdCBhZnRlciAke3RoaXMucmVjb25uZWN0aW9uQXR0ZW1wdHN9IGF0dGVtcHRzLmApO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBhd2FpdCB0aGlzLmNvbm5lY3QoKTtcblxuICAgICAgdGhpcy5yZWNvbm5lY3Rpb25BdHRlbXB0cyA9IDA7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoZXJyb3IpO1xuICAgICAgdGhpcy5fcmVjb25uZWN0KCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqXG4gICAqIFBhc3MgYW4gbXF0dCBjb21tYW5kIHRvIHRoZSBpZnJhbWUuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtZXNzYWdlXG4gICAqL1xuICBfY29tbWFuZCAobWVzc2FnZSkge1xuICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdTZW5kaW5nIGEgbWVzc2FnZSB0byB0aGUgaWZyYW1lLi4uJyk7XG5cbiAgICB0cnkge1xuICAgICAgLy8gQHRvZG8gLSB3ZSBzaG91bGQgbm90IGJlIGRpc3BhdGNoaW5nIHRvICcqJyAtIHdlIHNob3VsZCBwcm92aWRlIHRoZSBTRlNcbiAgICAgIC8vIGhvc3QgaGVyZSBpbnN0ZWFkXG4gICAgICAvLyBAc2VlIC0gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dpbmRvdy9wb3N0TWVzc2FnZVxuICAgICAgdGhpcy5pZnJhbWUuY29udGVudFdpbmRvdy5wb3N0TWVzc2FnZShtZXNzYWdlLCAnKicpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIEB0b2RvIC0gd2Ugc2hvdWxkIHByb2JhYmx5IHRocm93IGhlcmUuLi5cbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICpcbiAgICogU2VuZCBzdGF0cyB0byB0aGUgc2VydmVyXG4gICAqL1xuICBwdWJsaXNoU3RhdHMgKCkge1xuICAgIHRoaXMuc3RhdHNNc2cuaW5rYnBzID0gKHRoaXMuc3RhdHNNc2cuYnl0ZUNvdW50ICogOCkgLyAzMDAwMC4wO1xuICAgIHRoaXMuc3RhdHNNc2cuYnl0ZUNvdW50ID0gMDtcblxuICAgIHRoaXMucHVibGlzaCgnaW92L3N0YXRzJywgdGhpcy5zdGF0c01zZyk7XG5cbiAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnaW92IHN0YXR1cycsIHRoaXMuc3RhdHNNc2cpO1xuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/conduit/Conduit.js\n");

/***/ }),

/***/ "./src/js/conduit/ConduitCollection.js":
/*!*********************************************!*\
  !*** ./src/js/conduit/ConduitCollection.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ConduitCollection; });\n/* harmony import */ var paho_mqtt__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! paho-mqtt */ \"./node_modules/paho-mqtt/paho-mqtt.js\");\n/* harmony import */ var paho_mqtt__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(paho_mqtt__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Conduit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Conduit */ \"./src/js/conduit/Conduit.js\");\n/* harmony import */ var _utils_logger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/logger */ \"./src/js/utils/logger.js\");\n\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n // Even though the export of paho-mqtt is { Client, Message }, there is an\n// internal reference that the library makes to itself, and it expects\n// itself to exist at Paho.MQTT.  FIRED!\n\nwindow.Paho = {\n  MQTT: paho_mqtt__WEBPACK_IMPORTED_MODULE_0___default.a\n};\nvar collection;\n\nvar ConduitCollection =\n/*#__PURE__*/\nfunction () {\n  _createClass(ConduitCollection, null, [{\n    key: \"asSingleton\",\n    value: function asSingleton() {\n      if (!collection) {\n        collection = ConduitCollection.factory();\n      }\n\n      return collection;\n    }\n  }, {\n    key: \"factory\",\n    value: function factory() {\n      return new ConduitCollection();\n    }\n    /**\n     * @private\n     */\n\n  }]);\n\n  function ConduitCollection() {\n    var _this = this;\n\n    _classCallCheck(this, ConduitCollection);\n\n    _defineProperty(this, \"_onWindowMessage\", function (event) {\n      var clientId = event.data.clientId;\n      var eventType = event.data.event;\n\n      if (!clientId) {\n        // A window message was received that is not related to CLSP\n        return;\n      }\n\n      _this.logger.debug('window on message');\n\n      if (!_this.has(clientId)) {\n        // When the mqtt connection is interupted due to a listener being removed,\n        // a fail event is always sent.  It is not necessary to log this as an error\n        // in the console, because it is not an error.\n        // @todo - the fail event no longer exists - what is the name of the new\n        // corresponding event?\n        if (eventType === 'fail') {\n          return;\n        } // Do not throw an error on disconnection\n\n\n        if (eventType === _Conduit__WEBPACK_IMPORTED_MODULE_1__[\"default\"].routerEvents.DISCONNECT_SUCCESS) {\n          return;\n        } // Don't show an error for iovs that have been deleted\n\n\n        if (_this.deletedConduitClientIds.includes(clientId)) {\n          _this.logger.warn(\"Received a message for deleted conduit \".concat(clientId));\n\n          return;\n        }\n\n        throw new Error(\"Unable to route message of type \".concat(eventType, \" for Conduit with clientId \\\"\").concat(clientId, \"\\\".  A Conduit with that clientId does not exist.\"));\n      } // If the document is hidden, don't execute the onMessage handler.  If the\n      // handler is executed, for some reason, the conduit will continue to\n      // request/receive data from the server, which will eventually result in\n      // unconstrained resource utilization, and ultimately a browser crash\n\n\n      if (document.hidden) {\n        return;\n      }\n\n      var conduit = _this.get(clientId);\n\n      conduit.onMessage(event);\n    });\n\n    this.logger = Object(_utils_logger__WEBPACK_IMPORTED_MODULE_2__[\"default\"])().factory('ConduitCollection');\n    this.logger.debug('Constructing...');\n    this.totalConduitCount = 0;\n    this.conduits = {};\n    this.deletedConduitClientIds = [];\n    window.addEventListener('message', this._onWindowMessage);\n  }\n  /**\n   * @private\n   *\n   * The listener for the \"message\" event on the window.  Its job is to\n   * identify messages that are intended for a specific Conduit / stream and\n   * route them to the correct one.  The most common example of this is when a\n   * Router receives a moof/segment from a server, and posts a message to the\n   * window.  This listener will route that moof/segment to the proper Conduit.\n   *\n   * @param {Object} event\n   *   The window message event\n   *\n   * @returns {void}\n   */\n\n\n  _createClass(ConduitCollection, [{\n    key: \"create\",\n\n    /**\n     * Create a Conduit for a specific stream, and add it to this collection.\n     *\n     * @returns {Conduit}\n     */\n    value: function () {\n      var _create = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee(logId, clientId, streamConfiguration, containerElement, onMessageError) {\n        var conduit;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.logger.debug(\"creating a conduit with logId \".concat(logId, \" and clientId \").concat(clientId));\n                conduit = _Conduit__WEBPACK_IMPORTED_MODULE_1__[\"default\"].factory(logId, clientId, streamConfiguration, containerElement, onMessageError);\n\n                this._add(conduit);\n\n                this.totalConduitCount++;\n                return _context.abrupt(\"return\", conduit);\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function create(_x, _x2, _x3, _x4, _x5) {\n        return _create.apply(this, arguments);\n      }\n\n      return create;\n    }()\n    /**\n     * Add a Conduit instance to this collection.\n     *\n     * @private\n     *\n     * @param {Conduit} conduit\n     *   The conduit instance to add\n     *\n     * @returns {this}\n     */\n\n  }, {\n    key: \"_add\",\n    value: function _add(conduit) {\n      var clientId = conduit.clientId;\n      this.conduits[clientId] = conduit;\n      return this;\n    }\n    /**\n     * Determine whether or not a Conduit with the passed clientId exists in this\n     * collection.\n     *\n     * @param {String} clientId\n     *   The clientId of the conduit to find\n     *\n     * @returns {Boolean}\n     *   True if the conduit with the given clientId exists\n     *   False if the conduit with the given clientId does not exist\n     */\n\n  }, {\n    key: \"has\",\n    value: function has(clientId) {\n      return this.conduits.hasOwnProperty(clientId);\n    }\n    /**\n     * Get a Conduit with the passed clientId from this collection.\n     *\n     * @param {String} clientId\n     *   The clientId of the conduit instance to get\n     *\n     * @returns {Conduit|undefined}\n     *   If a Conduit with this clientId doest not exist, undefined is returned.\n     */\n\n  }, {\n    key: \"get\",\n    value: function get(clientId) {\n      return this.conduits[clientId];\n    }\n    /**\n     * Remove a conduit instance from this collection and destroy it.\n     *\n     * @param {String} clientId\n     *   The clientId of the conduit to remove and destroy\n     *\n     * @returns {this}\n     */\n\n  }, {\n    key: \"remove\",\n    value: function remove(clientId) {\n      var conduit = this.get(clientId);\n\n      if (!conduit) {\n        return;\n      }\n\n      delete this.conduits[clientId];\n      conduit.destroy();\n      this.deletedConduitClientIds.push(clientId);\n      return this;\n    }\n    /**\n     * Destroy this collection and destroy all conduit instances in it.\n     *\n     * @returns {void}\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this.destroyed) {\n        return;\n      }\n\n      this.destroyed = true;\n      window.removeEventListener('message', this._onWindowMessage);\n\n      for (var clientId in this.conduits) {\n        this.remove(clientId);\n      }\n\n      this.conduits = null;\n      this.deletedConduitClientIds = null;\n    }\n  }]);\n\n  return ConduitCollection;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvY29uZHVpdC9Db25kdWl0Q29sbGVjdGlvbi5qcz80Yzc1Il0sIm5hbWVzIjpbIndpbmRvdyIsIlBhaG8iLCJNUVRUIiwiY29sbGVjdGlvbiIsIkNvbmR1aXRDb2xsZWN0aW9uIiwiZmFjdG9yeSIsImV2ZW50IiwiY2xpZW50SWQiLCJkYXRhIiwiZXZlbnRUeXBlIiwibG9nZ2VyIiwiZGVidWciLCJoYXMiLCJDb25kdWl0Iiwicm91dGVyRXZlbnRzIiwiRElTQ09OTkVDVF9TVUNDRVNTIiwiZGVsZXRlZENvbmR1aXRDbGllbnRJZHMiLCJpbmNsdWRlcyIsIndhcm4iLCJFcnJvciIsImRvY3VtZW50IiwiaGlkZGVuIiwiY29uZHVpdCIsImdldCIsIm9uTWVzc2FnZSIsIkxvZ2dlciIsInRvdGFsQ29uZHVpdENvdW50IiwiY29uZHVpdHMiLCJhZGRFdmVudExpc3RlbmVyIiwiX29uV2luZG93TWVzc2FnZSIsImxvZ0lkIiwic3RyZWFtQ29uZmlndXJhdGlvbiIsImNvbnRhaW5lckVsZW1lbnQiLCJvbk1lc3NhZ2VFcnJvciIsIl9hZGQiLCJoYXNPd25Qcm9wZXJ0eSIsImRlc3Ryb3kiLCJwdXNoIiwiZGVzdHJveWVkIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInJlbW92ZSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQWE7Ozs7Ozs7Ozs7Ozs7O0FBRWI7QUFFQTtDQUdBO0FBQ0E7QUFDQTs7QUFDQUEsTUFBTSxDQUFDQyxJQUFQLEdBQWM7QUFDWkMsTUFBSSxFQUFFRCxnREFBSUE7QUFERSxDQUFkO0FBSUEsSUFBSUUsVUFBSjs7SUFFcUJDLGlCOzs7OztrQ0FDRztBQUNwQixVQUFJLENBQUNELFVBQUwsRUFBaUI7QUFDZkEsa0JBQVUsR0FBR0MsaUJBQWlCLENBQUNDLE9BQWxCLEVBQWI7QUFDRDs7QUFFRCxhQUFPRixVQUFQO0FBQ0Q7Ozs4QkFFaUI7QUFDaEIsYUFBTyxJQUFJQyxp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QUFMLEVBQWM7QUFDWjtBQUNEOztBQUVELGFBQU8sS0FBS0ssUUFBTCxDQUFjcEIsUUFBZCxDQUFQO0FBRUFlLGFBQU8sQ0FBQ2MsT0FBUjtBQUVBLFdBQUtwQix1QkFBTCxDQUE2QnFCLElBQTdCLENBQWtDOUIsUUFBbEM7QUFFQSxhQUFPLElBQVA7QUFDRDtBQUVEOzs7Ozs7Ozs4QkFLVTtBQUNSLFVBQUksS0FBSytCLFNBQVQsRUFBb0I7QUFDbEI7QUFDRDs7QUFFRCxXQUFLQSxTQUFMLEdBQWlCLElBQWpCO0FBRUF0QyxZQUFNLENBQUN1QyxtQkFBUCxDQUEyQixTQUEzQixFQUFzQyxLQUFLVixnQkFBM0M7O0FBRUEsV0FBSyxJQUFJdEIsUUFBVCxJQUFxQixLQUFLb0IsUUFBMUIsRUFBb0M7QUFDbEMsYUFBS2EsTUFBTCxDQUFZakMsUUFBWjtBQUNEOztBQUVELFdBQUtvQixRQUFMLEdBQWdCLElBQWhCO0FBQ0EsV0FBS1gsdUJBQUwsR0FBK0IsSUFBL0I7QUFDRCIsImZpbGUiOiIuL3NyYy9qcy9jb25kdWl0L0NvbmR1aXRDb2xsZWN0aW9uLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgUGFobyBmcm9tICdwYWhvLW1xdHQnO1xuXG5pbXBvcnQgQ29uZHVpdCBmcm9tICcuL0NvbmR1aXQnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcuLi91dGlscy9sb2dnZXInO1xuXG4vLyBFdmVuIHRob3VnaCB0aGUgZXhwb3J0IG9mIHBhaG8tbXF0dCBpcyB7IENsaWVudCwgTWVzc2FnZSB9LCB0aGVyZSBpcyBhblxuLy8gaW50ZXJuYWwgcmVmZXJlbmNlIHRoYXQgdGhlIGxpYnJhcnkgbWFrZXMgdG8gaXRzZWxmLCBhbmQgaXQgZXhwZWN0c1xuLy8gaXRzZWxmIHRvIGV4aXN0IGF0IFBhaG8uTVFUVC4gIEZJUkVEIVxud2luZG93LlBhaG8gPSB7XG4gIE1RVFQ6IFBhaG8sXG59O1xuXG5sZXQgY29sbGVjdGlvbjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29uZHVpdENvbGxlY3Rpb24ge1xuICBzdGF0aWMgYXNTaW5nbGV0b24gKCkge1xuICAgIGlmICghY29sbGVjdGlvbikge1xuICAgICAgY29sbGVjdGlvbiA9IENvbmR1aXRDb2xsZWN0aW9uLmZhY3RvcnkoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY29sbGVjdGlvbjtcbiAgfVxuXG4gIHN0YXRpYyBmYWN0b3J5ICgpIHtcbiAgICByZXR1cm4gbmV3IENvbmR1aXRDb2xsZWN0aW9uKCk7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGNvbnN0cnVjdG9yICgpIHtcbiAgICB0aGlzLmxvZ2dlciA9IExvZ2dlcigpLmZhY3RvcnkoJ0NvbmR1aXRDb2xsZWN0aW9uJyk7XG4gICAgdGhpcy5sb2dnZXIuZGVidWcoJ0NvbnN0cnVjdGluZy4uLicpO1xuXG4gICAgdGhpcy50b3RhbENvbmR1aXRDb3VudCA9IDA7XG5cbiAgICB0aGlzLmNvbmR1aXRzID0ge307XG4gICAgdGhpcy5kZWxldGVkQ29uZHVpdENsaWVudElkcyA9IFtdO1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCB0aGlzLl9vbldpbmRvd01lc3NhZ2UpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqXG4gICAqIFRoZSBsaXN0ZW5lciBmb3IgdGhlIFwibWVzc2FnZVwiIGV2ZW50IG9uIHRoZSB3aW5kb3cuICBJdHMgam9iIGlzIHRvXG4gICAqIGlkZW50aWZ5IG1lc3NhZ2VzIHRoYXQgYXJlIGludGVuZGVkIGZvciBhIHNwZWNpZmljIENvbmR1aXQgLyBzdHJlYW0gYW5kXG4gICAqIHJvdXRlIHRoZW0gdG8gdGhlIGNvcnJlY3Qgb25lLiAgVGhlIG1vc3QgY29tbW9uIGV4YW1wbGUgb2YgdGhpcyBpcyB3aGVuIGFcbiAgICogUm91dGVyIHJlY2VpdmVzIGEgbW9vZi9zZWdtZW50IGZyb20gYSBzZXJ2ZXIsIGFuZCBwb3N0cyBhIG1lc3NhZ2UgdG8gdGhlXG4gICAqIHdpbmRvdy4gIFRoaXMgbGlzdGVuZXIgd2lsbCByb3V0ZSB0aGF0IG1vb2Yvc2VnbWVudCB0byB0aGUgcHJvcGVyIENvbmR1aXQuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudFxuICAgKiAgIFRoZSB3aW5kb3cgbWVzc2FnZSBldmVudFxuICAgKlxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gIF9vbldpbmRvd01lc3NhZ2UgPSAoZXZlbnQpID0+IHtcbiAgICBjb25zdCBjbGllbnRJZCA9IGV2ZW50LmRhdGEuY2xpZW50SWQ7XG4gICAgY29uc3QgZXZlbnRUeXBlID0gZXZlbnQuZGF0YS5ldmVudDtcblxuICAgIGlmICghY2xpZW50SWQpIHtcbiAgICAgIC8vIEEgd2luZG93IG1lc3NhZ2Ugd2FzIHJlY2VpdmVkIHRoYXQgaXMgbm90IHJlbGF0ZWQgdG8gQ0xTUFxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMubG9nZ2VyLmRlYnVnKCd3aW5kb3cgb24gbWVzc2FnZScpO1xuXG4gICAgaWYgKCF0aGlzLmhhcyhjbGllbnRJZCkpIHtcbiAgICAgIC8vIFdoZW4gdGhlIG1xdHQgY29ubmVjdGlvbiBpcyBpbnRlcnVwdGVkIGR1ZSB0byBhIGxpc3RlbmVyIGJlaW5nIHJlbW92ZWQsXG4gICAgICAvLyBhIGZhaWwgZXZlbnQgaXMgYWx3YXlzIHNlbnQuICBJdCBpcyBub3QgbmVjZXNzYXJ5IHRvIGxvZyB0aGlzIGFzIGFuIGVycm9yXG4gICAgICAvLyBpbiB0aGUgY29uc29sZSwgYmVjYXVzZSBpdCBpcyBub3QgYW4gZXJyb3IuXG4gICAgICAvLyBAdG9kbyAtIHRoZSBmYWlsIGV2ZW50IG5vIGxvbmdlciBleGlzdHMgLSB3aGF0IGlzIHRoZSBuYW1lIG9mIHRoZSBuZXdcbiAgICAgIC8vIGNvcnJlc3BvbmRpbmcgZXZlbnQ/XG4gICAgICBpZiAoZXZlbnRUeXBlID09PSAnZmFpbCcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBEbyBub3QgdGhyb3cgYW4gZXJyb3Igb24gZGlzY29ubmVjdGlvblxuICAgICAgaWYgKGV2ZW50VHlwZSA9PT0gQ29uZHVpdC5yb3V0ZXJFdmVudHMuRElTQ09OTkVDVF9TVUNDRVNTKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gRG9uJ3Qgc2hvdyBhbiBlcnJvciBmb3IgaW92cyB0aGF0IGhhdmUgYmVlbiBkZWxldGVkXG4gICAgICBpZiAodGhpcy5kZWxldGVkQ29uZHVpdENsaWVudElkcy5pbmNsdWRlcyhjbGllbnRJZCkpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIud2FybihgUmVjZWl2ZWQgYSBtZXNzYWdlIGZvciBkZWxldGVkIGNvbmR1aXQgJHtjbGllbnRJZH1gKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuYWJsZSB0byByb3V0ZSBtZXNzYWdlIG9mIHR5cGUgJHtldmVudFR5cGV9IGZvciBDb25kdWl0IHdpdGggY2xpZW50SWQgXCIke2NsaWVudElkfVwiLiAgQSBDb25kdWl0IHdpdGggdGhhdCBjbGllbnRJZCBkb2VzIG5vdCBleGlzdC5gKTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgZG9jdW1lbnQgaXMgaGlkZGVuLCBkb24ndCBleGVjdXRlIHRoZSBvbk1lc3NhZ2UgaGFuZGxlci4gIElmIHRoZVxuICAgIC8vIGhhbmRsZXIgaXMgZXhlY3V0ZWQsIGZvciBzb21lIHJlYXNvbiwgdGhlIGNvbmR1aXQgd2lsbCBjb250aW51ZSB0b1xuICAgIC8vIHJlcXVlc3QvcmVjZWl2ZSBkYXRhIGZyb20gdGhlIHNlcnZlciwgd2hpY2ggd2lsbCBldmVudHVhbGx5IHJlc3VsdCBpblxuICAgIC8vIHVuY29uc3RyYWluZWQgcmVzb3VyY2UgdXRpbGl6YXRpb24sIGFuZCB1bHRpbWF0ZWx5IGEgYnJvd3NlciBjcmFzaFxuICAgIGlmIChkb2N1bWVudC5oaWRkZW4pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBjb25kdWl0ID0gdGhpcy5nZXQoY2xpZW50SWQpO1xuXG4gICAgY29uZHVpdC5vbk1lc3NhZ2UoZXZlbnQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBDb25kdWl0IGZvciBhIHNwZWNpZmljIHN0cmVhbSwgYW5kIGFkZCBpdCB0byB0aGlzIGNvbGxlY3Rpb24uXG4gICAqXG4gICAqIEByZXR1cm5zIHtDb25kdWl0fVxuICAgKi9cbiAgYXN5bmMgY3JlYXRlIChcbiAgICBsb2dJZCxcbiAgICBjbGllbnRJZCxcbiAgICBzdHJlYW1Db25maWd1cmF0aW9uLFxuICAgIGNvbnRhaW5lckVsZW1lbnQsXG4gICAgb25NZXNzYWdlRXJyb3JcbiAgKSB7XG4gICAgdGhpcy5sb2dnZXIuZGVidWcoYGNyZWF0aW5nIGEgY29uZHVpdCB3aXRoIGxvZ0lkICR7bG9nSWR9IGFuZCBjbGllbnRJZCAke2NsaWVudElkfWApO1xuXG4gICAgY29uc3QgY29uZHVpdCA9IENvbmR1aXQuZmFjdG9yeShcbiAgICAgIGxvZ0lkLFxuICAgICAgY2xpZW50SWQsXG4gICAgICBzdHJlYW1Db25maWd1cmF0aW9uLFxuICAgICAgY29udGFpbmVyRWxlbWVudCxcbiAgICAgIG9uTWVzc2FnZUVycm9yXG4gICAgKTtcblxuICAgIHRoaXMuX2FkZChjb25kdWl0KTtcblxuICAgIHRoaXMudG90YWxDb25kdWl0Q291bnQrKztcblxuICAgIHJldHVybiBjb25kdWl0O1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIENvbmR1aXQgaW5zdGFuY2UgdG8gdGhpcyBjb2xsZWN0aW9uLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKlxuICAgKiBAcGFyYW0ge0NvbmR1aXR9IGNvbmR1aXRcbiAgICogICBUaGUgY29uZHVpdCBpbnN0YW5jZSB0byBhZGRcbiAgICpcbiAgICogQHJldHVybnMge3RoaXN9XG4gICAqL1xuICBfYWRkIChjb25kdWl0KSB7XG4gICAgY29uc3QgY2xpZW50SWQgPSBjb25kdWl0LmNsaWVudElkO1xuXG4gICAgdGhpcy5jb25kdWl0c1tjbGllbnRJZF0gPSBjb25kdWl0O1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lIHdoZXRoZXIgb3Igbm90IGEgQ29uZHVpdCB3aXRoIHRoZSBwYXNzZWQgY2xpZW50SWQgZXhpc3RzIGluIHRoaXNcbiAgICogY29sbGVjdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IGNsaWVudElkXG4gICAqICAgVGhlIGNsaWVudElkIG9mIHRoZSBjb25kdWl0IHRvIGZpbmRcbiAgICpcbiAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAqICAgVHJ1ZSBpZiB0aGUgY29uZHVpdCB3aXRoIHRoZSBnaXZlbiBjbGllbnRJZCBleGlzdHNcbiAgICogICBGYWxzZSBpZiB0aGUgY29uZHVpdCB3aXRoIHRoZSBnaXZlbiBjbGllbnRJZCBkb2VzIG5vdCBleGlzdFxuICAgKi9cbiAgaGFzIChjbGllbnRJZCkge1xuICAgIHJldHVybiB0aGlzLmNvbmR1aXRzLmhhc093blByb3BlcnR5KGNsaWVudElkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYSBDb25kdWl0IHdpdGggdGhlIHBhc3NlZCBjbGllbnRJZCBmcm9tIHRoaXMgY29sbGVjdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IGNsaWVudElkXG4gICAqICAgVGhlIGNsaWVudElkIG9mIHRoZSBjb25kdWl0IGluc3RhbmNlIHRvIGdldFxuICAgKlxuICAgKiBAcmV0dXJucyB7Q29uZHVpdHx1bmRlZmluZWR9XG4gICAqICAgSWYgYSBDb25kdWl0IHdpdGggdGhpcyBjbGllbnRJZCBkb2VzdCBub3QgZXhpc3QsIHVuZGVmaW5lZCBpcyByZXR1cm5lZC5cbiAgICovXG4gIGdldCAoY2xpZW50SWQpIHtcbiAgICByZXR1cm4gdGhpcy5jb25kdWl0c1tjbGllbnRJZF07XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGEgY29uZHVpdCBpbnN0YW5jZSBmcm9tIHRoaXMgY29sbGVjdGlvbiBhbmQgZGVzdHJveSBpdC5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IGNsaWVudElkXG4gICAqICAgVGhlIGNsaWVudElkIG9mIHRoZSBjb25kdWl0IHRvIHJlbW92ZSBhbmQgZGVzdHJveVxuICAgKlxuICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICovXG4gIHJlbW92ZSAoY2xpZW50SWQpIHtcbiAgICBjb25zdCBjb25kdWl0ID0gdGhpcy5nZXQoY2xpZW50SWQpO1xuXG4gICAgaWYgKCFjb25kdWl0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZGVsZXRlIHRoaXMuY29uZHVpdHNbY2xpZW50SWRdO1xuXG4gICAgY29uZHVpdC5kZXN0cm95KCk7XG5cbiAgICB0aGlzLmRlbGV0ZWRDb25kdWl0Q2xpZW50SWRzLnB1c2goY2xpZW50SWQpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogRGVzdHJveSB0aGlzIGNvbGxlY3Rpb24gYW5kIGRlc3Ryb3kgYWxsIGNvbmR1aXQgaW5zdGFuY2VzIGluIGl0LlxuICAgKlxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgaWYgKHRoaXMuZGVzdHJveWVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5kZXN0cm95ZWQgPSB0cnVlO1xuXG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCB0aGlzLl9vbldpbmRvd01lc3NhZ2UpO1xuXG4gICAgZm9yIChsZXQgY2xpZW50SWQgaW4gdGhpcy5jb25kdWl0cykge1xuICAgICAgdGhpcy5yZW1vdmUoY2xpZW50SWQpO1xuICAgIH1cblxuICAgIHRoaXMuY29uZHVpdHMgPSBudWxsO1xuICAgIHRoaXMuZGVsZXRlZENvbmR1aXRDbGllbnRJZHMgPSBudWxsO1xuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/conduit/ConduitCollection.js\n");

/***/ }),

/***/ "./src/js/conduit/Router.js":
/*!**********************************!*\
  !*** ./src/js/conduit/Router.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n\n/**\n * The Router is the lowest level controller of the actual MQTT connection.\n *\n * Note that this is the code that gets duplicated in each iframe.\n * Keep the contents of the exported function light and ES5 only.\n *\n * @todo - have a custom loader for webpack that can convert this to ES5 and\n * minify it in a self-contained way at the time it is required so that we can\n * use ES6 and multiple files.\n *\n * @todo - should all thrown errors send a message to the parent Conduit?\n */\n\n/**\n * This Router will manage an MQTT connection for a given clientId, and pass\n * the relevant data and messages back up to the Conduit.\n *\n * @see - https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe\n * @see - https://developer.mozilla.org/en-US/docs/Web/HTML/Element/body\n * @see - https://www.eclipse.org/paho/files/jsdoc/index.html\n *\n * @export - the function that provides the Router and constants\n */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function () {\n  // The error code from Paho MQTT that represents the socket not being\n  // connected\n  var PAHO_MQTT_ERROR_CODE_NOT_CONNECTED = 'AMQJS0011E';\n  var PAHO_MQTT_ERROR_CODE_ALREADY_CONNECTED = 'AMQJS0011E';\n  var Paho = window.parent.Paho;\n  /**\n   * A Router that can be used to set up an MQTT connection to the specified\n   * host and port, using a Conduit-provided clientId that will be a part of\n   * every message that is passed from this iframe window to the parent window,\n   * so that the conduit can identify what client the message is for.\n   *\n   * @param {String} logId\n   *   a string that identifies this router in log messages\n   * @param {String} clientId\n   *   the guid to be used to construct the topic\n   * @param {String} host\n   *   the host (url or ip) of the SFS that is providing the stream\n   * @param {Number} port\n   *   the port the stream is served over\n   * @param {Boolean} useSSL\n   *   true to request the stream over clsps, false to request the stream over clsp\n   */\n\n  function Router(logId, clientId, host, port, useSSL) {\n    try {\n      this.logId = logId;\n      this.logger = window.Logger().factory(\"Router \".concat(this.logId));\n      this.clientId = clientId;\n      this.host = host;\n      this.port = port;\n      this.useSSL = useSSL;\n      this.logger.debug('Constructing...');\n      this.retryInterval = 2000;\n      this.Reconnect = null;\n      this.connectionTimeout = 120; // @todo - there is a \"private\" method named \"_doConnect\" in the paho mqtt\n      // library that is responsible for instantiating the WebSocket.  We have\n      // seen at least 1 instance where the instantiation of the WebSocket fails\n      // which was due to the error \"ERR_NAME_NOT_RESOLVED\", but it does not\n      // seem like this error is \"passed\" up to the caller (e.g. Router.connect)\n      // and therefore we cannot respond to it.  If we could, perhaps we could\n      // attempt to reconnect, or at least send a message to Router's parent.\n      // Given this, should we override Paho.MQTT.Client._doConnect and wrap\n      // the original prototype method call in a try/catch that we can control\n      // and respond to?  I'm not even sure that that would solve the problem.\n      // Presumably, the instantiation of the WebSocket would throw, which would\n      // be caught by our Router.connect try/catch block...\n\n      this.mqttClient = new Paho.MQTT.Client(this.host, this.port, '/mqtt', this.clientId);\n      this.mqttClient.onConnectionLost = this._onConnectionLost.bind(this);\n      this.mqttClient.onMessageArrived = this._onMessageArrived.bind(this);\n      this.boundWindowMessageEventHandler = this._windowMessageEventHandler.bind(this);\n      window.addEventListener('message', this.boundWindowMessageEventHandler, false);\n    } catch (error) {\n      this.logger.error('IFRAME error for clientId: ' + clientId);\n      this.logger.error(error);\n    }\n  } // All events that are emitted by the Router are prefixed with `clsp_router`\n\n\n  Router.events = {\n    // Triggered when the Router is successfully instantiated.\n    // Can only be triggered at time of router instantiation.\n    CREATED: 'clsp_router_created',\n    // Triggered when there is an error during Router instantiation.\n    // Can only be triggered at time of router instantiation.\n    CREATE_FAILURE: 'clsp_router_create_failure',\n    // Triggered when a segment / moof is transmitted.\n    // Can be triggered for as long as the connection is open.\n    DATA_RECEIVED: 'clsp_router_mqtt_data',\n    // Triggered when the connection to the mqtt server is established.\n    // Can only be triggered at time of connection.\n    CONNECT_SUCCESS: 'clsp_router_connect_success',\n    // Triggered when trying to connect to the mqtt server fails.\n    // Can only be triggered at time of connection.\n    CONNECT_FAILURE: 'clsp_router_connect_failure',\n    // Triggered when the connection to the mqtt server has been established, but is later lost.\n    // Can be triggered for as long as the connection is open.\n    CONNECTION_LOST: 'clsp_router_connection_lost',\n    // Triggered when the connection to the mqtt server is terminated normally.\n    // Can only be triggered at time of disconnection.\n    DISCONNECT_SUCCESS: 'clsp_router_disconnect_success',\n    // Triggered when trying to subscribe to a topic fails.\n    // Can only be triggered when a subscribe is attempted.\n    SUBSCRIBE_FAILURE: 'clsp_router_subscribe_failure',\n    // When trying to unsubscribe from a topic fails.\n    // Can only be triggered when an unsubscribe is attempted.\n    UNSUBSCRIBE_FAILURE: 'clsp_router_unsubscribe_failure',\n    // Triggered when an error is encountered while processing window messages.\n    // Can be triggered any time.\n    WINDOW_MESSAGE_FAIL: 'clsp_router_window_message_fail'\n  };\n\n  Router.factory = function (logId, clientId, host, port, useSSL) {\n    return new Router(logId, clientId, host, port, useSSL);\n  };\n  /**\n   * @private\n   *\n   * Post a \"message\" with the current `clientId` to the parent window.\n   *\n   * @param {Object} message\n   *   The message to send to the parent window\n   *\n   * @returns {void}\n   */\n\n\n  Router.prototype._sendToParent = function (message) {\n    this.logger.debug('Sending message to parent window...');\n\n    if (this.destroyed) {\n      return;\n    }\n\n    if (typeof message !== 'object') {\n      throw new Error('_sendToParent must be passed an object');\n    }\n\n    message.clientId = this.clientId;\n\n    switch (message.event) {\n      case Router.events.CREATED:\n      case Router.events.CONNECT_SUCCESS:\n      case Router.events.DISCONNECT_SUCCESS:\n        {\n          // no validation needed\n          break;\n        }\n\n      case Router.events.DATA_RECEIVED:\n        {\n          if (!message.hasOwnProperty('destinationName') || !message.hasOwnProperty('payloadString') || !message.hasOwnProperty('payloadBytes')) {\n            throw new Error('improperly formatted \"data\" message sent to _sendToParent');\n          }\n\n          break;\n        }\n\n      case Router.events.CONNECT_FAILURE:\n      case Router.events.CONNECTION_LOST:\n      case Router.events.SUBSCRIBE_FAILURE:\n      case Router.events.UNSUBSCRIBE_FAILURE:\n      case Router.events.WINDOW_MESSAGE_FAIL:\n        {\n          if (!message.hasOwnProperty('reason')) {\n            throw new Error('improperly formatted \"fail\" message sent to _sendToParent');\n          }\n\n          break;\n        }\n\n      default:\n        {\n          throw new Error('Unknown event ' + message.event + ' sent to _sendToParent');\n        }\n    }\n\n    try {\n      window.parent.postMessage(message, '*');\n    } catch (error) {\n      // When the connection to the SFS fails, and the conduit is destroyed,\n      // there is still a message that is attempted to be sent to the parent.\n      // In this case, the only way this \"orphaned\" iframe object can\n      // communicate with the console is by throwing an error.  Therefore, it is\n      // difficult to debug and I do not know what the final message is.  Having\n      // the error written to the console here will still allow errors under\n      // \"normal\" operations to be written to the console, but will suppress the\n      // final unwanted error.\n      // eslint-disable-next-line no-console\n      console.error(error);\n    }\n  };\n  /**\n   * @private\n   *\n   * To be called when a message has arrived in this Paho.MQTT.client\n   *\n   * The idea here is that when the server sends an MQTT message, whether a\n   * moof, moov, or something else, that data needs to be sent to the appropriate\n   * player (client).  So when this router gets that chunk of data, it sends it\n   * back to the Conduit with the clientId, and the Conduit is then responsible\n   * for passing it to the appropriate player.\n   *\n   * @see - https://www.eclipse.org/paho/files/jsdoc/Paho.MQTT.Client.html\n   *\n   * @param {Object} mqttMessage\n   *   The incoming message\n   *\n   * @returns {void}\n   */\n\n\n  Router.prototype._onMessageArrived = function (mqttMessage) {\n    this.logger.debug('Received MQTT message...');\n\n    try {\n      var payloadString = '';\n\n      try {\n        payloadString = mqttMessage.payloadString;\n      } catch (error) {// I have no idea what is going on here, but every single time we do the\n        // assignment above, an error is thrown.  When I console.log(payloadString)\n        // it appears to be an empty string.  However, if that assignment is not\n        // done, no video gets displayed!!\n        // There should be some way to only use the payloadBytes here...\n      }\n\n      this._sendToParent({\n        event: Router.events.DATA_RECEIVED,\n        destinationName: mqttMessage.destinationName,\n        payloadString: payloadString,\n        // @todo - why is this necessary when it doesn't exist?\n        payloadBytes: mqttMessage.payloadBytes || null\n      });\n    } catch (error) {\n      this.logger.error(error);\n    }\n  };\n  /**\n   * @private\n   *\n   * Called when an mqttClient connection has been lost\n   *\n   * @see - https://www.eclipse.org/paho/files/jsdoc/Paho.MQTT.Client.html\n   *\n   * @param {Object} response\n   *   The response object\n   *\n   * @returns {void}\n   */\n\n\n  Router.prototype._onConnectionLost = function (response) {\n    this.logger.debug('MQTT connection lost');\n    var errorCode = parseInt(response.errorCode);\n\n    if (errorCode === 0) {\n      // The connection was \"properly\" terminated\n      this._sendToParent({\n        event: Router.events.DISCONNECT_SUCCESS\n      });\n\n      return;\n    }\n\n    this.logger.warn('MQTT connection lost improperly!');\n\n    this._sendToParent({\n      event: Router.events.CONNECTION_LOST,\n      reason: 'connection lost error code \"' + errorCode + '\" with message: ' + response.errorMessage\n    });\n  };\n  /**\n   * @private\n   *\n   * Any time a \"message\" event occurs on the window, respond to it by\n   * inspecting the message's \"method\" property and taking the appropriate\n   * action.\n   *\n   * @param {Object} event\n   *   The window message event\n   *\n   * @returns {void}\n   */\n\n\n  Router.prototype._windowMessageEventHandler = function (event) {\n    var message = event.data;\n    var method = message.method;\n    this.logger.debug('Handling incoming window message for \"' + method + '\"...');\n\n    try {\n      switch (method) {\n        case window.conduitCommands.SUBSCRIBE:\n          {\n            this._subscribe(message.topic);\n\n            break;\n          }\n\n        case window.conduitCommands.UNSUBSCRIBE:\n          {\n            this._unsubscribe(message.topic);\n\n            break;\n          }\n\n        case window.conduitCommands.PUBLISH:\n          {\n            var payload = null;\n\n            try {\n              payload = JSON.stringify(message.data);\n            } catch (error) {\n              this.logger.error('ERROR: Unable to handle the \"publish\" window message event!');\n              this.logger.error('json stringify error: ' + message.data); // @todo - should we throw here?\n              // throw error;\n\n              return;\n            }\n\n            this._publish(payload, message.topic);\n\n            break;\n          }\n\n        case window.conduitCommands.CONNECT:\n          {\n            this.connect();\n            break;\n          }\n\n        case window.conduitCommands.DISCONNECT:\n          {\n            this.disconnect();\n            break;\n          }\n\n        case window.conduitCommands.SEND:\n          {\n            this._publish(message.byteArray, message.topic);\n\n            break;\n          }\n\n        default:\n          {\n            this.logger.error('unknown message method: ' + method);\n          }\n      }\n    } catch (error) {\n      this.logger.error(error);\n\n      this._sendToParent({\n        event: Router.events.WINDOW_MESSAGE_FAIL,\n        reason: 'window message event failure'\n      });\n    }\n  };\n  /**\n   * @private\n   *\n   * Success handler for \"connect\".  Registers the window message event handler,\n   * and notifies the parent window that this client is \"ready\".\n   *\n   * @todo - track the \"connected\" status to prevent multiple window message\n   * event handlers from being attached\n   *\n   * @see - https://www.eclipse.org/paho/files/jsdoc/Paho.MQTT.Client.html\n   *\n   * @param {Object} response\n   *   The response object\n   *\n   * @returns {void}\n   */\n\n\n  Router.prototype._connect_onSuccess = function (response) {\n    this.logger.info('Successfully established MQTT connection');\n\n    this._sendToParent({\n      event: Router.events.CONNECT_SUCCESS\n    });\n  };\n  /**\n   * @private\n   *\n   * Failure handler for \"connect\".  Sends a \"fail\" message to the parent\n   * window\n   *\n   * @see - https://www.eclipse.org/paho/files/jsdoc/Paho.MQTT.Client.html\n   *\n   * @param {Object} response\n   *   The response object\n   *\n   * @returns {void}\n   */\n\n\n  Router.prototype._connect_onFailure = function (response) {\n    this.logger.info('MQTT Connection Failure!');\n\n    this._sendToParent({\n      event: Router.events.CONNECT_FAILURE,\n      reason: 'Connection Failed - Error code ' + parseInt(response.errorCode) + ': ' + response.errorMessage\n    });\n  };\n  /**\n   * @private\n   *\n   * Success handler for \"subscribe\".\n   *\n   * @see - https://www.eclipse.org/paho/files/jsdoc/Paho.MQTT.Client.html\n   *\n   * @param {String} topic\n   *   The topic that was successfully subscribed to\n   * @param {Object} response\n   *   The response object\n   *\n   * @returns {void}\n   */\n\n\n  Router.prototype._subscribe_onSuccess = function (topic, response) {\n    this.logger.debug('Successfully subscribed to topic \"' + topic + '\"'); // @todo\n  };\n  /**\n   * @private\n   *\n   * Failure handler for \"subscribe\".  Sends a \"fail\" message to the parent\n   * window\n   *\n   * @see - https://www.eclipse.org/paho/files/jsdoc/Paho.MQTT.Client.html\n   *\n   * @param {String} topic\n   *   The topic that was attempted to be subscribed to\n   * @param {Object} response\n   *   The response object\n   *\n   * @returns {void}\n   */\n\n\n  Router.prototype._subscribe_onFailure = function (topic, response) {\n    this.logger.error('Failed to subscribe to topic \"' + topic + '\"');\n\n    this._sendToParent({\n      event: Router.events.SUBSCRIBE_FAILURE,\n      reason: 'Subscribe Failed - Error code ' + parseInt(response.errorCode) + ': ' + response.errorMessage\n    });\n  };\n  /**\n   * @private\n   *\n   * Start receiving messages for the given topic\n   *\n   * @see - https://www.eclipse.org/paho/files/jsdoc/Paho.MQTT.Client.html\n   *\n   * @param {String} topic\n   *   The topic to subscribe to\n   *\n   * @returns {void}\n   */\n\n\n  Router.prototype._subscribe = function (topic) {\n    this.logger.debug('Subscribing to topic \"' + topic + '\"');\n\n    if (!topic) {\n      throw new Error('topic is a required argument when subscribing');\n    }\n\n    this.mqttClient.subscribe(topic, {\n      onSuccess: this._subscribe_onSuccess.bind(this, topic),\n      onFailure: this._subscribe_onFailure.bind(this, topic)\n    });\n  };\n  /**\n   * @private\n   *\n   * Success handler for \"unsubscribe\".\n   *\n   * @see - https://www.eclipse.org/paho/files/jsdoc/Paho.MQTT.Client.html\n   *\n   * @param {String} topic\n   *   The topic that was successfully unsubscribed from\n   * @param {Object} response\n   *   The response object\n   *\n   * @returns {void}\n   */\n\n\n  Router.prototype._unsubscribe_onSuccess = function (topic, response) {\n    this.logger.debug('Successfully unsubscribed from topic \"' + topic + '\"'); // @todo\n  };\n  /**\n   * @private\n   *\n   * Failure handler for \"unsubscribe\".  Sends a \"fail\" message to the parent\n   * window\n   *\n   * @see - https://www.eclipse.org/paho/files/jsdoc/Paho.MQTT.Client.html\n   *\n   * @param {String} topic\n   *   The topic that was successfully subscribed to\n   * @param {Object} response\n   *   The response object\n   *\n   * @returns {void}\n   */\n\n\n  Router.prototype._unsubscribe_onFailure = function (topic, response) {\n    this.logger.debug('Failed to unsubscribe from topic \"' + topic + '\"');\n\n    this._sendToParent({\n      event: Router.events.UNSUBSCRIBE_FAILURE,\n      reason: 'Unsubscribe Failed - Error code ' + parseInt(response.errorCode) + ': ' + response.errorMessage\n    });\n  };\n  /**\n   * @private\n   *\n   * Stop receiving messages for the given topic\n   *\n   * @see - https://www.eclipse.org/paho/files/jsdoc/Paho.MQTT.Client.html\n   *\n   * @param {String} topic\n   *   The topic to unsubscribe from\n   *\n   * @returns {void}\n   */\n\n\n  Router.prototype._unsubscribe = function (topic) {\n    this.logger.debug('Unsubscribing from topic \"' + topic + '\"');\n\n    if (!topic) {\n      throw new Error('topic is a required argument when unsubscribing');\n    }\n\n    this.mqttClient.unsubscribe(topic, {\n      onSuccess: this._unsubscribe_onSuccess.bind(this, topic),\n      onFailure: this._unsubscribe_onFailure.bind(this, topic)\n    });\n  };\n  /**\n   * @private\n   *\n   * Publish a message to the clients that are listening for the given topic\n   *\n   * @see - https://www.eclipse.org/paho/files/jsdoc/Paho.MQTT.Message.html\n   *\n   * @param {String|ArrayBuffer} payload\n   *   The message data to be sent\n   * @param {String} topic\n   *   The topic to publish to\n   *\n   * @returns {void}\n   */\n\n\n  Router.prototype._publish = function (payload, topic) {\n    this.logger.debug('Publishing to topic \"' + topic + '\"');\n\n    if (!payload) {\n      throw new Error('payload is a required argument when publishing');\n    }\n\n    if (!topic) {\n      throw new Error('topic is a required argument when publishing');\n    }\n\n    var mqttMessage = new Paho.MQTT.Message(payload);\n    mqttMessage.destinationName = topic;\n    this.mqttClient.send(mqttMessage);\n  };\n  /**\n   * Connect this Messaging client to its server\n   *\n   * @see - https://www.eclipse.org/paho/files/jsdoc/Paho.MQTT.Message.html\n   * @see - https://www.eclipse.org/paho/files/jsdoc/Paho.MQTT.Client.html\n   *\n   * @returns {void}\n   */\n\n\n  Router.prototype.connect = function () {\n    this.logger.info('Connecting...'); // last will message sent on disconnect\n\n    var willMessage = new Paho.MQTT.Message(JSON.stringify({\n      clientId: this.clientId\n    }));\n    willMessage.destinationName = 'iov/clientDisconnect';\n    var connectionOptions = {\n      timeout: this.connectionTimeout,\n      onSuccess: this._connect_onSuccess.bind(this),\n      onFailure: this._connect_onFailure.bind(this),\n      willMessage: willMessage // @todo - should `reconnect` be set here?\n\n    };\n\n    if (this.useSSL === true) {\n      connectionOptions.useSSL = true;\n    }\n\n    try {\n      this.mqttClient.connect(connectionOptions);\n      this.logger.info('Connected');\n    } catch (error) {\n      if (error.message.startsWith(PAHO_MQTT_ERROR_CODE_ALREADY_CONNECTED)) {\n        // if we're already connected, there's no error to report\n        return;\n      }\n\n      this.logger.error('Failed to connect', error);\n\n      this._sendToParent({\n        event: Router.events.CONNECT_FAILURE,\n        reason: 'General error when trying to connect.'\n      });\n    }\n  };\n  /**\n   * Disconnect the messaging client from the server.  To get confirmation of\n   * the disconnection, the caller must listen for the following event:\n   * `Router.events.CONNECTION_LOST`\n   *\n   * @see - https://www.eclipse.org/paho/files/jsdoc/Paho.MQTT.Client.html\n   *\n   * @returns {void}\n   */\n\n\n  Router.prototype.disconnect = function () {\n    this.logger.info('Disconnecting');\n\n    try {\n      this.mqttClient.disconnect();\n    } catch (error) {\n      if (error.message.startsWith(PAHO_MQTT_ERROR_CODE_NOT_CONNECTED)) {\n        // if we're not connected when we attempted to disconnect, there's no\n        // error to report\n        return;\n      }\n\n      this.logger.error('ERROR while disconnecting');\n      this.logger.error(error);\n      throw error;\n    }\n  };\n  /**\n   * Destroy the Router and free all resources\n   *\n   * @returns {void}\n   */\n\n\n  Router.prototype.destroy = function () {\n    this.logger.info('Destroying...');\n\n    if (this.destroyed) {\n      return;\n    }\n\n    this.destroyed = true;\n    window.removeEventListener('message', this.boundWindowMessageEventHandler);\n    this.boundWindowMessageEventHandler = null;\n    this.disconnect(); // @todo - is there a way to \"destroy\" the client?  I didn't see anything\n    // in the documentation\n\n    this.mqttClient = null;\n  }; // This is a series of \"controllers\" to keep the conduit's iframe as dumb as\n  // possible.  Call each of these in the corresponding attribute on the\n  // \"body\" tag.\n\n\n  return {\n    onload: function onload() {\n      try {\n        window.router = Router.factory(window.mqttRouterConfig.logId, window.mqttRouterConfig.clientId, window.mqttRouterConfig.host, window.mqttRouterConfig.port, window.mqttRouterConfig.useSSL);\n\n        window.router._sendToParent({\n          event: Router.events.CREATED\n        });\n\n        window.router.logger.info('onload - Router created');\n      } catch (error) {\n        // eslint-disable-next-line no-console\n        console.error(error);\n        window.parent.postMessage({\n          event: Router.events.CREATE_FAILURE,\n          reason: error\n        }, '*');\n      }\n    },\n    onunload: function onunload() {\n      if (!window.router) {\n        return;\n      }\n\n      try {\n        window.router.logger.info('onunload - Router being destroyed in onunload...');\n        window.router.destroy();\n        window.router.logger.info('onunload - Router destroyed in onunload');\n      } catch (error) {\n        if (error.message.startsWith(PAHO_MQTT_ERROR_CODE_NOT_CONNECTED)) {\n          // if there wasn't a connection, do not show an error\n          return;\n        }\n\n        window.router.logger.error(error);\n      }\n    },\n    Router: Router\n  };\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvY29uZHVpdC9Sb3V0ZXIuanM/NDU0NSJdLCJuYW1lcyI6WyJQQUhPX01RVFRfRVJST1JfQ09ERV9OT1RfQ09OTkVDVEVEIiwiUEFIT19NUVRUX0VSUk9SX0NPREVfQUxSRUFEWV9DT05ORUNURUQiLCJQYWhvIiwid2luZG93IiwicGFyZW50IiwiUm91dGVyIiwibG9nSWQiLCJjbGllbnRJZCIsImhvc3QiLCJwb3J0IiwidXNlU1NMIiwibG9nZ2VyIiwiTG9nZ2VyIiwiZmFjdG9yeSIsImRlYnVnIiwicmV0cnlJbnRlcnZhbCIsIlJlY29ubmVjdCIsImNvbm5lY3Rpb25UaW1lb3V0IiwibXF0dENsaWVudCIsIk1RVFQiLCJDbGllbnQiLCJvbkNvbm5lY3Rpb25Mb3N0IiwiX29uQ29ubmVjdGlvbkxvc3QiLCJiaW5kIiwib25NZXNzYWdlQXJyaXZlZCIsIl9vbk1lc3NhZ2VBcnJpdmVkIiwiYm91bmRXaW5kb3dNZXNzYWdlRXZlbnRIYW5kbGVyIiwiX3dpbmRvd01lc3NhZ2VFdmVudEhhbmRsZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiZXJyb3IiLCJldmVudHMiLCJDUkVBVEVEIiwiQ1JFQVRFX0ZBSUxVUkUiLCJEQVRBX1JFQ0VJVkVEIiwiQ09OTkVDVF9TVUNDRVNTIiwiQ09OTkVDVF9GQUlMVVJFIiwiQ09OTkVDVElPTl9MT1NUIiwiRElTQ09OTkVDVF9TVUNDRVNTIiwiU1VCU0NSSUJFX0ZBSUxVUkUiLCJVTlNVQlNDUklCRV9GQUlMVVJFIiwiV0lORE9XX01FU1NBR0VfRkFJTCIsInByb3RvdHlwZSIsIl9zZW5kVG9QYXJlbnQiLCJtZXNzYWdlIiwiZGVzdHJveWVkIiwiRXJyb3IiLCJldmVudCIsImhhc093blByb3BlcnR5IiwicG9zdE1lc3NhZ2UiLCJjb25zb2xlIiwibXF0dE1lc3NhZ2UiLCJwYXlsb2FkU3RyaW5nIiwiZGVzdGluYXRpb25OYW1lIiwicGF5bG9hZEJ5dGVzIiwicmVzcG9uc2UiLCJlcnJvckNvZGUiLCJwYXJzZUludCIsIndhcm4iLCJyZWFzb24iLCJlcnJvck1lc3NhZ2UiLCJkYXRhIiwibWV0aG9kIiwiY29uZHVpdENvbW1hbmRzIiwiU1VCU0NSSUJFIiwiX3N1YnNjcmliZSIsInRvcGljIiwiVU5TVUJTQ1JJQkUiLCJfdW5zdWJzY3JpYmUiLCJQVUJMSVNIIiwicGF5bG9hZCIsIkpTT04iLCJzdHJpbmdpZnkiLCJfcHVibGlzaCIsIkNPTk5FQ1QiLCJjb25uZWN0IiwiRElTQ09OTkVDVCIsImRpc2Nvbm5lY3QiLCJTRU5EIiwiYnl0ZUFycmF5IiwiX2Nvbm5lY3Rfb25TdWNjZXNzIiwiaW5mbyIsIl9jb25uZWN0X29uRmFpbHVyZSIsIl9zdWJzY3JpYmVfb25TdWNjZXNzIiwiX3N1YnNjcmliZV9vbkZhaWx1cmUiLCJzdWJzY3JpYmUiLCJvblN1Y2Nlc3MiLCJvbkZhaWx1cmUiLCJfdW5zdWJzY3JpYmVfb25TdWNjZXNzIiwiX3Vuc3Vic2NyaWJlX29uRmFpbHVyZSIsInVuc3Vic2NyaWJlIiwiTWVzc2FnZSIsInNlbmQiLCJ3aWxsTWVzc2FnZSIsImNvbm5lY3Rpb25PcHRpb25zIiwidGltZW91dCIsInN0YXJ0c1dpdGgiLCJkZXN0cm95IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIm9ubG9hZCIsInJvdXRlciIsIm1xdHRSb3V0ZXJDb25maWciLCJvbnVubG9hZCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBYTtBQUViOzs7Ozs7Ozs7Ozs7O0FBYUE7Ozs7Ozs7Ozs7O0FBVWUsMkVBQVk7QUFDekI7QUFDQTtBQUNBLE1BQUlBLGtDQUFrQyxHQUFHLFlBQXpDO0FBQ0EsTUFBSUMsc0NBQXNDLEdBQUcsWUFBN0M7QUFDQSxNQUFJQyxJQUFJLEdBQUdDLE1BQU0sQ0FBQ0MsTUFBUCxDQUFjRixJQUF6QjtBQUVBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFpQkEsV0FBU0csTUFBVCxDQUNFQyxLQURGLEVBRUVDLFFBRkYsRUFHRUMsSUFIRixFQUlFQyxJQUpGLEVBS0VDLE1BTEYsRUFNRTtBQUNBLFFBQUk7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QUFkLENBQXFCcUUsSUFBckIsQ0FBMEIseUNBQTFCO0FBQ0QsT0FKRCxDQUtBLE9BQU9uRCxLQUFQLEVBQWM7QUFDWixZQUFJQSxLQUFLLENBQUNjLE9BQU4sQ0FBY29ELFVBQWQsQ0FBeUIvRixrQ0FBekIsQ0FBSixFQUFrRTtBQUNoRTtBQUNBO0FBQ0Q7O0FBRURHLGNBQU0sQ0FBQ2dHLE1BQVAsQ0FBY3hGLE1BQWQsQ0FBcUJrQixLQUFyQixDQUEyQkEsS0FBM0I7QUFDRDtBQUNGLEtBN0NJO0FBOENMeEIsVUFBTSxFQUFFQTtBQTlDSCxHQUFQO0FBZ0RELEMiLCJmaWxlIjoiLi9zcmMvanMvY29uZHVpdC9Sb3V0ZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogVGhlIFJvdXRlciBpcyB0aGUgbG93ZXN0IGxldmVsIGNvbnRyb2xsZXIgb2YgdGhlIGFjdHVhbCBNUVRUIGNvbm5lY3Rpb24uXG4gKlxuICogTm90ZSB0aGF0IHRoaXMgaXMgdGhlIGNvZGUgdGhhdCBnZXRzIGR1cGxpY2F0ZWQgaW4gZWFjaCBpZnJhbWUuXG4gKiBLZWVwIHRoZSBjb250ZW50cyBvZiB0aGUgZXhwb3J0ZWQgZnVuY3Rpb24gbGlnaHQgYW5kIEVTNSBvbmx5LlxuICpcbiAqIEB0b2RvIC0gaGF2ZSBhIGN1c3RvbSBsb2FkZXIgZm9yIHdlYnBhY2sgdGhhdCBjYW4gY29udmVydCB0aGlzIHRvIEVTNSBhbmRcbiAqIG1pbmlmeSBpdCBpbiBhIHNlbGYtY29udGFpbmVkIHdheSBhdCB0aGUgdGltZSBpdCBpcyByZXF1aXJlZCBzbyB0aGF0IHdlIGNhblxuICogdXNlIEVTNiBhbmQgbXVsdGlwbGUgZmlsZXMuXG4gKlxuICogQHRvZG8gLSBzaG91bGQgYWxsIHRocm93biBlcnJvcnMgc2VuZCBhIG1lc3NhZ2UgdG8gdGhlIHBhcmVudCBDb25kdWl0P1xuICovXG5cbi8qKlxuICogVGhpcyBSb3V0ZXIgd2lsbCBtYW5hZ2UgYW4gTVFUVCBjb25uZWN0aW9uIGZvciBhIGdpdmVuIGNsaWVudElkLCBhbmQgcGFzc1xuICogdGhlIHJlbGV2YW50IGRhdGEgYW5kIG1lc3NhZ2VzIGJhY2sgdXAgdG8gdGhlIENvbmR1aXQuXG4gKlxuICogQHNlZSAtIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvRWxlbWVudC9pZnJhbWVcbiAqIEBzZWUgLSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVE1ML0VsZW1lbnQvYm9keVxuICogQHNlZSAtIGh0dHBzOi8vd3d3LmVjbGlwc2Uub3JnL3BhaG8vZmlsZXMvanNkb2MvaW5kZXguaHRtbFxuICpcbiAqIEBleHBvcnQgLSB0aGUgZnVuY3Rpb24gdGhhdCBwcm92aWRlcyB0aGUgUm91dGVyIGFuZCBjb25zdGFudHNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICAvLyBUaGUgZXJyb3IgY29kZSBmcm9tIFBhaG8gTVFUVCB0aGF0IHJlcHJlc2VudHMgdGhlIHNvY2tldCBub3QgYmVpbmdcbiAgLy8gY29ubmVjdGVkXG4gIHZhciBQQUhPX01RVFRfRVJST1JfQ09ERV9OT1RfQ09OTkVDVEVEID0gJ0FNUUpTMDAxMUUnO1xuICB2YXIgUEFIT19NUVRUX0VSUk9SX0NPREVfQUxSRUFEWV9DT05ORUNURUQgPSAnQU1RSlMwMDExRSc7XG4gIHZhciBQYWhvID0gd2luZG93LnBhcmVudC5QYWhvO1xuXG4gIC8qKlxuICAgKiBBIFJvdXRlciB0aGF0IGNhbiBiZSB1c2VkIHRvIHNldCB1cCBhbiBNUVRUIGNvbm5lY3Rpb24gdG8gdGhlIHNwZWNpZmllZFxuICAgKiBob3N0IGFuZCBwb3J0LCB1c2luZyBhIENvbmR1aXQtcHJvdmlkZWQgY2xpZW50SWQgdGhhdCB3aWxsIGJlIGEgcGFydCBvZlxuICAgKiBldmVyeSBtZXNzYWdlIHRoYXQgaXMgcGFzc2VkIGZyb20gdGhpcyBpZnJhbWUgd2luZG93IHRvIHRoZSBwYXJlbnQgd2luZG93LFxuICAgKiBzbyB0aGF0IHRoZSBjb25kdWl0IGNhbiBpZGVudGlmeSB3aGF0IGNsaWVudCB0aGUgbWVzc2FnZSBpcyBmb3IuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBsb2dJZFxuICAgKiAgIGEgc3RyaW5nIHRoYXQgaWRlbnRpZmllcyB0aGlzIHJvdXRlciBpbiBsb2cgbWVzc2FnZXNcbiAgICogQHBhcmFtIHtTdHJpbmd9IGNsaWVudElkXG4gICAqICAgdGhlIGd1aWQgdG8gYmUgdXNlZCB0byBjb25zdHJ1Y3QgdGhlIHRvcGljXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBob3N0XG4gICAqICAgdGhlIGhvc3QgKHVybCBvciBpcCkgb2YgdGhlIFNGUyB0aGF0IGlzIHByb3ZpZGluZyB0aGUgc3RyZWFtXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBwb3J0XG4gICAqICAgdGhlIHBvcnQgdGhlIHN0cmVhbSBpcyBzZXJ2ZWQgb3ZlclxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IHVzZVNTTFxuICAgKiAgIHRydWUgdG8gcmVxdWVzdCB0aGUgc3RyZWFtIG92ZXIgY2xzcHMsIGZhbHNlIHRvIHJlcXVlc3QgdGhlIHN0cmVhbSBvdmVyIGNsc3BcbiAgICovXG4gIGZ1bmN0aW9uIFJvdXRlciAoXG4gICAgbG9nSWQsXG4gICAgY2xpZW50SWQsXG4gICAgaG9zdCxcbiAgICBwb3J0LFxuICAgIHVzZVNTTFxuICApIHtcbiAgICB0cnkge1xuICAgICAgdGhpcy5sb2dJZCA9IGxvZ0lkO1xuXG4gICAgICB0aGlzLmxvZ2dlciA9IHdpbmRvdy5Mb2dnZXIoKS5mYWN0b3J5KGBSb3V0ZXIgJHt0aGlzLmxvZ0lkfWApO1xuXG4gICAgICB0aGlzLmNsaWVudElkID0gY2xpZW50SWQ7XG5cbiAgICAgIHRoaXMuaG9zdCA9IGhvc3Q7XG4gICAgICB0aGlzLnBvcnQgPSBwb3J0O1xuICAgICAgdGhpcy51c2VTU0wgPSB1c2VTU0w7XG5cbiAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdDb25zdHJ1Y3RpbmcuLi4nKTtcblxuICAgICAgdGhpcy5yZXRyeUludGVydmFsID0gMjAwMDtcbiAgICAgIHRoaXMuUmVjb25uZWN0ID0gbnVsbDtcbiAgICAgIHRoaXMuY29ubmVjdGlvblRpbWVvdXQgPSAxMjA7XG5cbiAgICAgIC8vIEB0b2RvIC0gdGhlcmUgaXMgYSBcInByaXZhdGVcIiBtZXRob2QgbmFtZWQgXCJfZG9Db25uZWN0XCIgaW4gdGhlIHBhaG8gbXF0dFxuICAgICAgLy8gbGlicmFyeSB0aGF0IGlzIHJlc3BvbnNpYmxlIGZvciBpbnN0YW50aWF0aW5nIHRoZSBXZWJTb2NrZXQuICBXZSBoYXZlXG4gICAgICAvLyBzZWVuIGF0IGxlYXN0IDEgaW5zdGFuY2Ugd2hlcmUgdGhlIGluc3RhbnRpYXRpb24gb2YgdGhlIFdlYlNvY2tldCBmYWlsc1xuICAgICAgLy8gd2hpY2ggd2FzIGR1ZSB0byB0aGUgZXJyb3IgXCJFUlJfTkFNRV9OT1RfUkVTT0xWRURcIiwgYnV0IGl0IGRvZXMgbm90XG4gICAgICAvLyBzZWVtIGxpa2UgdGhpcyBlcnJvciBpcyBcInBhc3NlZFwiIHVwIHRvIHRoZSBjYWxsZXIgKGUuZy4gUm91dGVyLmNvbm5lY3QpXG4gICAgICAvLyBhbmQgdGhlcmVmb3JlIHdlIGNhbm5vdCByZXNwb25kIHRvIGl0LiAgSWYgd2UgY291bGQsIHBlcmhhcHMgd2UgY291bGRcbiAgICAgIC8vIGF0dGVtcHQgdG8gcmVjb25uZWN0LCBvciBhdCBsZWFzdCBzZW5kIGEgbWVzc2FnZSB0byBSb3V0ZXIncyBwYXJlbnQuXG4gICAgICAvLyBHaXZlbiB0aGlzLCBzaG91bGQgd2Ugb3ZlcnJpZGUgUGFoby5NUVRULkNsaWVudC5fZG9Db25uZWN0IGFuZCB3cmFwXG4gICAgICAvLyB0aGUgb3JpZ2luYWwgcHJvdG90eXBlIG1ldGhvZCBjYWxsIGluIGEgdHJ5L2NhdGNoIHRoYXQgd2UgY2FuIGNvbnRyb2xcbiAgICAgIC8vIGFuZCByZXNwb25kIHRvPyAgSSdtIG5vdCBldmVuIHN1cmUgdGhhdCB0aGF0IHdvdWxkIHNvbHZlIHRoZSBwcm9ibGVtLlxuICAgICAgLy8gUHJlc3VtYWJseSwgdGhlIGluc3RhbnRpYXRpb24gb2YgdGhlIFdlYlNvY2tldCB3b3VsZCB0aHJvdywgd2hpY2ggd291bGRcbiAgICAgIC8vIGJlIGNhdWdodCBieSBvdXIgUm91dGVyLmNvbm5lY3QgdHJ5L2NhdGNoIGJsb2NrLi4uXG4gICAgICB0aGlzLm1xdHRDbGllbnQgPSBuZXcgUGFoby5NUVRULkNsaWVudChcbiAgICAgICAgdGhpcy5ob3N0LFxuICAgICAgICB0aGlzLnBvcnQsXG4gICAgICAgICcvbXF0dCcsXG4gICAgICAgIHRoaXMuY2xpZW50SWRcbiAgICAgICk7XG5cbiAgICAgIHRoaXMubXF0dENsaWVudC5vbkNvbm5lY3Rpb25Mb3N0ID0gdGhpcy5fb25Db25uZWN0aW9uTG9zdC5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5tcXR0Q2xpZW50Lm9uTWVzc2FnZUFycml2ZWQgPSB0aGlzLl9vbk1lc3NhZ2VBcnJpdmVkLmJpbmQodGhpcyk7XG5cbiAgICAgIHRoaXMuYm91bmRXaW5kb3dNZXNzYWdlRXZlbnRIYW5kbGVyID0gdGhpcy5fd2luZG93TWVzc2FnZUV2ZW50SGFuZGxlci5iaW5kKHRoaXMpO1xuXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgJ21lc3NhZ2UnLFxuICAgICAgICB0aGlzLmJvdW5kV2luZG93TWVzc2FnZUV2ZW50SGFuZGxlcixcbiAgICAgICAgZmFsc2VcbiAgICAgICk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ0lGUkFNRSBlcnJvciBmb3IgY2xpZW50SWQ6ICcgKyBjbGllbnRJZCk7XG4gICAgICB0aGlzLmxvZ2dlci5lcnJvcihlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgLy8gQWxsIGV2ZW50cyB0aGF0IGFyZSBlbWl0dGVkIGJ5IHRoZSBSb3V0ZXIgYXJlIHByZWZpeGVkIHdpdGggYGNsc3Bfcm91dGVyYFxuICBSb3V0ZXIuZXZlbnRzID0ge1xuICAgIC8vIFRyaWdnZXJlZCB3aGVuIHRoZSBSb3V0ZXIgaXMgc3VjY2Vzc2Z1bGx5IGluc3RhbnRpYXRlZC5cbiAgICAvLyBDYW4gb25seSBiZSB0cmlnZ2VyZWQgYXQgdGltZSBvZiByb3V0ZXIgaW5zdGFudGlhdGlvbi5cbiAgICBDUkVBVEVEOiAnY2xzcF9yb3V0ZXJfY3JlYXRlZCcsXG4gICAgLy8gVHJpZ2dlcmVkIHdoZW4gdGhlcmUgaXMgYW4gZXJyb3IgZHVyaW5nIFJvdXRlciBpbnN0YW50aWF0aW9uLlxuICAgIC8vIENhbiBvbmx5IGJlIHRyaWdnZXJlZCBhdCB0aW1lIG9mIHJvdXRlciBpbnN0YW50aWF0aW9uLlxuICAgIENSRUFURV9GQUlMVVJFOiAnY2xzcF9yb3V0ZXJfY3JlYXRlX2ZhaWx1cmUnLFxuICAgIC8vIFRyaWdnZXJlZCB3aGVuIGEgc2VnbWVudCAvIG1vb2YgaXMgdHJhbnNtaXR0ZWQuXG4gICAgLy8gQ2FuIGJlIHRyaWdnZXJlZCBmb3IgYXMgbG9uZyBhcyB0aGUgY29ubmVjdGlvbiBpcyBvcGVuLlxuICAgIERBVEFfUkVDRUlWRUQ6ICdjbHNwX3JvdXRlcl9tcXR0X2RhdGEnLFxuICAgIC8vIFRyaWdnZXJlZCB3aGVuIHRoZSBjb25uZWN0aW9uIHRvIHRoZSBtcXR0IHNlcnZlciBpcyBlc3RhYmxpc2hlZC5cbiAgICAvLyBDYW4gb25seSBiZSB0cmlnZ2VyZWQgYXQgdGltZSBvZiBjb25uZWN0aW9uLlxuICAgIENPTk5FQ1RfU1VDQ0VTUzogJ2Nsc3Bfcm91dGVyX2Nvbm5lY3Rfc3VjY2VzcycsXG4gICAgLy8gVHJpZ2dlcmVkIHdoZW4gdHJ5aW5nIHRvIGNvbm5lY3QgdG8gdGhlIG1xdHQgc2VydmVyIGZhaWxzLlxuICAgIC8vIENhbiBvbmx5IGJlIHRyaWdnZXJlZCBhdCB0aW1lIG9mIGNvbm5lY3Rpb24uXG4gICAgQ09OTkVDVF9GQUlMVVJFOiAnY2xzcF9yb3V0ZXJfY29ubmVjdF9mYWlsdXJlJyxcbiAgICAvLyBUcmlnZ2VyZWQgd2hlbiB0aGUgY29ubmVjdGlvbiB0byB0aGUgbXF0dCBzZXJ2ZXIgaGFzIGJlZW4gZXN0YWJsaXNoZWQsIGJ1dCBpcyBsYXRlciBsb3N0LlxuICAgIC8vIENhbiBiZSB0cmlnZ2VyZWQgZm9yIGFzIGxvbmcgYXMgdGhlIGNvbm5lY3Rpb24gaXMgb3Blbi5cbiAgICBDT05ORUNUSU9OX0xPU1Q6ICdjbHNwX3JvdXRlcl9jb25uZWN0aW9uX2xvc3QnLFxuICAgIC8vIFRyaWdnZXJlZCB3aGVuIHRoZSBjb25uZWN0aW9uIHRvIHRoZSBtcXR0IHNlcnZlciBpcyB0ZXJtaW5hdGVkIG5vcm1hbGx5LlxuICAgIC8vIENhbiBvbmx5IGJlIHRyaWdnZXJlZCBhdCB0aW1lIG9mIGRpc2Nvbm5lY3Rpb24uXG4gICAgRElTQ09OTkVDVF9TVUNDRVNTOiAnY2xzcF9yb3V0ZXJfZGlzY29ubmVjdF9zdWNjZXNzJyxcbiAgICAvLyBUcmlnZ2VyZWQgd2hlbiB0cnlpbmcgdG8gc3Vic2NyaWJlIHRvIGEgdG9waWMgZmFpbHMuXG4gICAgLy8gQ2FuIG9ubHkgYmUgdHJpZ2dlcmVkIHdoZW4gYSBzdWJzY3JpYmUgaXMgYXR0ZW1wdGVkLlxuICAgIFNVQlNDUklCRV9GQUlMVVJFOiAnY2xzcF9yb3V0ZXJfc3Vic2NyaWJlX2ZhaWx1cmUnLFxuICAgIC8vIFdoZW4gdHJ5aW5nIHRvIHVuc3Vic2NyaWJlIGZyb20gYSB0b3BpYyBmYWlscy5cbiAgICAvLyBDYW4gb25seSBiZSB0cmlnZ2VyZWQgd2hlbiBhbiB1bnN1YnNjcmliZSBpcyBhdHRlbXB0ZWQuXG4gICAgVU5TVUJTQ1JJQkVfRkFJTFVSRTogJ2Nsc3Bfcm91dGVyX3Vuc3Vic2NyaWJlX2ZhaWx1cmUnLFxuICAgIC8vIFRyaWdnZXJlZCB3aGVuIGFuIGVycm9yIGlzIGVuY291bnRlcmVkIHdoaWxlIHByb2Nlc3Npbmcgd2luZG93IG1lc3NhZ2VzLlxuICAgIC8vIENhbiBiZSB0cmlnZ2VyZWQgYW55IHRpbWUuXG4gICAgV0lORE9XX01FU1NBR0VfRkFJTDogJ2Nsc3Bfcm91dGVyX3dpbmRvd19tZXNzYWdlX2ZhaWwnLFxuICB9O1xuXG4gIFJvdXRlci5mYWN0b3J5ID0gZnVuY3Rpb24gKFxuICAgIGxvZ0lkLFxuICAgIGNsaWVudElkLFxuICAgIGhvc3QsXG4gICAgcG9ydCxcbiAgICB1c2VTU0xcbiAgKSB7XG4gICAgcmV0dXJuIG5ldyBSb3V0ZXIoXG4gICAgICBsb2dJZCxcbiAgICAgIGNsaWVudElkLFxuICAgICAgaG9zdCxcbiAgICAgIHBvcnQsXG4gICAgICB1c2VTU0xcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKlxuICAgKiBQb3N0IGEgXCJtZXNzYWdlXCIgd2l0aCB0aGUgY3VycmVudCBgY2xpZW50SWRgIHRvIHRoZSBwYXJlbnQgd2luZG93LlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gbWVzc2FnZVxuICAgKiAgIFRoZSBtZXNzYWdlIHRvIHNlbmQgdG8gdGhlIHBhcmVudCB3aW5kb3dcbiAgICpcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICBSb3V0ZXIucHJvdG90eXBlLl9zZW5kVG9QYXJlbnQgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdTZW5kaW5nIG1lc3NhZ2UgdG8gcGFyZW50IHdpbmRvdy4uLicpO1xuXG4gICAgaWYgKHRoaXMuZGVzdHJveWVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBtZXNzYWdlICE9PSAnb2JqZWN0Jykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdfc2VuZFRvUGFyZW50IG11c3QgYmUgcGFzc2VkIGFuIG9iamVjdCcpO1xuICAgIH1cblxuICAgIG1lc3NhZ2UuY2xpZW50SWQgPSB0aGlzLmNsaWVudElkO1xuXG4gICAgc3dpdGNoIChtZXNzYWdlLmV2ZW50KSB7XG4gICAgICBjYXNlIFJvdXRlci5ldmVudHMuQ1JFQVRFRDpcbiAgICAgIGNhc2UgUm91dGVyLmV2ZW50cy5DT05ORUNUX1NVQ0NFU1M6XG4gICAgICBjYXNlIFJvdXRlci5ldmVudHMuRElTQ09OTkVDVF9TVUNDRVNTOiB7XG4gICAgICAgIC8vIG5vIHZhbGlkYXRpb24gbmVlZGVkXG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBSb3V0ZXIuZXZlbnRzLkRBVEFfUkVDRUlWRUQ6IHtcbiAgICAgICAgaWYgKCFtZXNzYWdlLmhhc093blByb3BlcnR5KCdkZXN0aW5hdGlvbk5hbWUnKSB8fCAhbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eSgncGF5bG9hZFN0cmluZycpIHx8ICFtZXNzYWdlLmhhc093blByb3BlcnR5KCdwYXlsb2FkQnl0ZXMnKSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignaW1wcm9wZXJseSBmb3JtYXR0ZWQgXCJkYXRhXCIgbWVzc2FnZSBzZW50IHRvIF9zZW5kVG9QYXJlbnQnKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgUm91dGVyLmV2ZW50cy5DT05ORUNUX0ZBSUxVUkU6XG4gICAgICBjYXNlIFJvdXRlci5ldmVudHMuQ09OTkVDVElPTl9MT1NUOlxuICAgICAgY2FzZSBSb3V0ZXIuZXZlbnRzLlNVQlNDUklCRV9GQUlMVVJFOlxuICAgICAgY2FzZSBSb3V0ZXIuZXZlbnRzLlVOU1VCU0NSSUJFX0ZBSUxVUkU6XG4gICAgICBjYXNlIFJvdXRlci5ldmVudHMuV0lORE9XX01FU1NBR0VfRkFJTDoge1xuICAgICAgICBpZiAoIW1lc3NhZ2UuaGFzT3duUHJvcGVydHkoJ3JlYXNvbicpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbXByb3Blcmx5IGZvcm1hdHRlZCBcImZhaWxcIiBtZXNzYWdlIHNlbnQgdG8gX3NlbmRUb1BhcmVudCcpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gZXZlbnQgJyArIG1lc3NhZ2UuZXZlbnQgKyAnIHNlbnQgdG8gX3NlbmRUb1BhcmVudCcpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICB3aW5kb3cucGFyZW50LnBvc3RNZXNzYWdlKG1lc3NhZ2UsICcqJyk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gV2hlbiB0aGUgY29ubmVjdGlvbiB0byB0aGUgU0ZTIGZhaWxzLCBhbmQgdGhlIGNvbmR1aXQgaXMgZGVzdHJveWVkLFxuICAgICAgLy8gdGhlcmUgaXMgc3RpbGwgYSBtZXNzYWdlIHRoYXQgaXMgYXR0ZW1wdGVkIHRvIGJlIHNlbnQgdG8gdGhlIHBhcmVudC5cbiAgICAgIC8vIEluIHRoaXMgY2FzZSwgdGhlIG9ubHkgd2F5IHRoaXMgXCJvcnBoYW5lZFwiIGlmcmFtZSBvYmplY3QgY2FuXG4gICAgICAvLyBjb21tdW5pY2F0ZSB3aXRoIHRoZSBjb25zb2xlIGlzIGJ5IHRocm93aW5nIGFuIGVycm9yLiAgVGhlcmVmb3JlLCBpdCBpc1xuICAgICAgLy8gZGlmZmljdWx0IHRvIGRlYnVnIGFuZCBJIGRvIG5vdCBrbm93IHdoYXQgdGhlIGZpbmFsIG1lc3NhZ2UgaXMuICBIYXZpbmdcbiAgICAgIC8vIHRoZSBlcnJvciB3cml0dGVuIHRvIHRoZSBjb25zb2xlIGhlcmUgd2lsbCBzdGlsbCBhbGxvdyBlcnJvcnMgdW5kZXJcbiAgICAgIC8vIFwibm9ybWFsXCIgb3BlcmF0aW9ucyB0byBiZSB3cml0dGVuIHRvIHRoZSBjb25zb2xlLCBidXQgd2lsbCBzdXBwcmVzcyB0aGVcbiAgICAgIC8vIGZpbmFsIHVud2FudGVkIGVycm9yLlxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICpcbiAgICogVG8gYmUgY2FsbGVkIHdoZW4gYSBtZXNzYWdlIGhhcyBhcnJpdmVkIGluIHRoaXMgUGFoby5NUVRULmNsaWVudFxuICAgKlxuICAgKiBUaGUgaWRlYSBoZXJlIGlzIHRoYXQgd2hlbiB0aGUgc2VydmVyIHNlbmRzIGFuIE1RVFQgbWVzc2FnZSwgd2hldGhlciBhXG4gICAqIG1vb2YsIG1vb3YsIG9yIHNvbWV0aGluZyBlbHNlLCB0aGF0IGRhdGEgbmVlZHMgdG8gYmUgc2VudCB0byB0aGUgYXBwcm9wcmlhdGVcbiAgICogcGxheWVyIChjbGllbnQpLiAgU28gd2hlbiB0aGlzIHJvdXRlciBnZXRzIHRoYXQgY2h1bmsgb2YgZGF0YSwgaXQgc2VuZHMgaXRcbiAgICogYmFjayB0byB0aGUgQ29uZHVpdCB3aXRoIHRoZSBjbGllbnRJZCwgYW5kIHRoZSBDb25kdWl0IGlzIHRoZW4gcmVzcG9uc2libGVcbiAgICogZm9yIHBhc3NpbmcgaXQgdG8gdGhlIGFwcHJvcHJpYXRlIHBsYXllci5cbiAgICpcbiAgICogQHNlZSAtIGh0dHBzOi8vd3d3LmVjbGlwc2Uub3JnL3BhaG8vZmlsZXMvanNkb2MvUGFoby5NUVRULkNsaWVudC5odG1sXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtcXR0TWVzc2FnZVxuICAgKiAgIFRoZSBpbmNvbWluZyBtZXNzYWdlXG4gICAqXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgUm91dGVyLnByb3RvdHlwZS5fb25NZXNzYWdlQXJyaXZlZCA9IGZ1bmN0aW9uIChtcXR0TWVzc2FnZSkge1xuICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdSZWNlaXZlZCBNUVRUIG1lc3NhZ2UuLi4nKTtcblxuICAgIHRyeSB7XG4gICAgICB2YXIgcGF5bG9hZFN0cmluZyA9ICcnO1xuXG4gICAgICB0cnkge1xuICAgICAgICBwYXlsb2FkU3RyaW5nID0gbXF0dE1lc3NhZ2UucGF5bG9hZFN0cmluZztcbiAgICAgIH1cbiAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBJIGhhdmUgbm8gaWRlYSB3aGF0IGlzIGdvaW5nIG9uIGhlcmUsIGJ1dCBldmVyeSBzaW5nbGUgdGltZSB3ZSBkbyB0aGVcbiAgICAgICAgLy8gYXNzaWdubWVudCBhYm92ZSwgYW4gZXJyb3IgaXMgdGhyb3duLiAgV2hlbiBJIGNvbnNvbGUubG9nKHBheWxvYWRTdHJpbmcpXG4gICAgICAgIC8vIGl0IGFwcGVhcnMgdG8gYmUgYW4gZW1wdHkgc3RyaW5nLiAgSG93ZXZlciwgaWYgdGhhdCBhc3NpZ25tZW50IGlzIG5vdFxuICAgICAgICAvLyBkb25lLCBubyB2aWRlbyBnZXRzIGRpc3BsYXllZCEhXG4gICAgICAgIC8vIFRoZXJlIHNob3VsZCBiZSBzb21lIHdheSB0byBvbmx5IHVzZSB0aGUgcGF5bG9hZEJ5dGVzIGhlcmUuLi5cbiAgICAgIH1cblxuICAgICAgdGhpcy5fc2VuZFRvUGFyZW50KHtcbiAgICAgICAgZXZlbnQ6IFJvdXRlci5ldmVudHMuREFUQV9SRUNFSVZFRCxcbiAgICAgICAgZGVzdGluYXRpb25OYW1lOiBtcXR0TWVzc2FnZS5kZXN0aW5hdGlvbk5hbWUsXG4gICAgICAgIHBheWxvYWRTdHJpbmc6IHBheWxvYWRTdHJpbmcsIC8vIEB0b2RvIC0gd2h5IGlzIHRoaXMgbmVjZXNzYXJ5IHdoZW4gaXQgZG9lc24ndCBleGlzdD9cbiAgICAgICAgcGF5bG9hZEJ5dGVzOiBtcXR0TWVzc2FnZS5wYXlsb2FkQnl0ZXMgfHwgbnVsbCxcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRoaXMubG9nZ2VyLmVycm9yKGVycm9yKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqXG4gICAqIENhbGxlZCB3aGVuIGFuIG1xdHRDbGllbnQgY29ubmVjdGlvbiBoYXMgYmVlbiBsb3N0XG4gICAqXG4gICAqIEBzZWUgLSBodHRwczovL3d3dy5lY2xpcHNlLm9yZy9wYWhvL2ZpbGVzL2pzZG9jL1BhaG8uTVFUVC5DbGllbnQuaHRtbFxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gcmVzcG9uc2VcbiAgICogICBUaGUgcmVzcG9uc2Ugb2JqZWN0XG4gICAqXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgUm91dGVyLnByb3RvdHlwZS5fb25Db25uZWN0aW9uTG9zdCA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdNUVRUIGNvbm5lY3Rpb24gbG9zdCcpO1xuXG4gICAgdmFyIGVycm9yQ29kZSA9IHBhcnNlSW50KHJlc3BvbnNlLmVycm9yQ29kZSk7XG5cbiAgICBpZiAoZXJyb3JDb2RlID09PSAwKSB7XG4gICAgICAvLyBUaGUgY29ubmVjdGlvbiB3YXMgXCJwcm9wZXJseVwiIHRlcm1pbmF0ZWRcbiAgICAgIHRoaXMuX3NlbmRUb1BhcmVudCh7XG4gICAgICAgIGV2ZW50OiBSb3V0ZXIuZXZlbnRzLkRJU0NPTk5FQ1RfU1VDQ0VTUyxcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5sb2dnZXIud2FybignTVFUVCBjb25uZWN0aW9uIGxvc3QgaW1wcm9wZXJseSEnKTtcblxuICAgIHRoaXMuX3NlbmRUb1BhcmVudCh7XG4gICAgICBldmVudDogUm91dGVyLmV2ZW50cy5DT05ORUNUSU9OX0xPU1QsXG4gICAgICByZWFzb246ICdjb25uZWN0aW9uIGxvc3QgZXJyb3IgY29kZSBcIicgKyBlcnJvckNvZGUgKyAnXCIgd2l0aCBtZXNzYWdlOiAnICsgcmVzcG9uc2UuZXJyb3JNZXNzYWdlLFxuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKlxuICAgKiBBbnkgdGltZSBhIFwibWVzc2FnZVwiIGV2ZW50IG9jY3VycyBvbiB0aGUgd2luZG93LCByZXNwb25kIHRvIGl0IGJ5XG4gICAqIGluc3BlY3RpbmcgdGhlIG1lc3NhZ2UncyBcIm1ldGhvZFwiIHByb3BlcnR5IGFuZCB0YWtpbmcgdGhlIGFwcHJvcHJpYXRlXG4gICAqIGFjdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50XG4gICAqICAgVGhlIHdpbmRvdyBtZXNzYWdlIGV2ZW50XG4gICAqXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgUm91dGVyLnByb3RvdHlwZS5fd2luZG93TWVzc2FnZUV2ZW50SGFuZGxlciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgIHZhciBtZXNzYWdlID0gZXZlbnQuZGF0YTtcbiAgICB2YXIgbWV0aG9kID0gbWVzc2FnZS5tZXRob2Q7XG5cbiAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnSGFuZGxpbmcgaW5jb21pbmcgd2luZG93IG1lc3NhZ2UgZm9yIFwiJyArIG1ldGhvZCArICdcIi4uLicpO1xuXG4gICAgdHJ5IHtcbiAgICAgIHN3aXRjaCAobWV0aG9kKSB7XG4gICAgICAgIGNhc2Ugd2luZG93LmNvbmR1aXRDb21tYW5kcy5TVUJTQ1JJQkU6IHtcbiAgICAgICAgICB0aGlzLl9zdWJzY3JpYmUobWVzc2FnZS50b3BpYyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSB3aW5kb3cuY29uZHVpdENvbW1hbmRzLlVOU1VCU0NSSUJFOiB7XG4gICAgICAgICAgdGhpcy5fdW5zdWJzY3JpYmUobWVzc2FnZS50b3BpYyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSB3aW5kb3cuY29uZHVpdENvbW1hbmRzLlBVQkxJU0g6IHtcbiAgICAgICAgICB2YXIgcGF5bG9hZCA9IG51bGw7XG5cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgcGF5bG9hZCA9IEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UuZGF0YSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ0VSUk9SOiBVbmFibGUgdG8gaGFuZGxlIHRoZSBcInB1Ymxpc2hcIiB3aW5kb3cgbWVzc2FnZSBldmVudCEnKTtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdqc29uIHN0cmluZ2lmeSBlcnJvcjogJyArIG1lc3NhZ2UuZGF0YSk7XG5cbiAgICAgICAgICAgIC8vIEB0b2RvIC0gc2hvdWxkIHdlIHRocm93IGhlcmU/XG4gICAgICAgICAgICAvLyB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aGlzLl9wdWJsaXNoKHBheWxvYWQsIG1lc3NhZ2UudG9waWMpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2Ugd2luZG93LmNvbmR1aXRDb21tYW5kcy5DT05ORUNUOiB7XG4gICAgICAgICAgdGhpcy5jb25uZWN0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSB3aW5kb3cuY29uZHVpdENvbW1hbmRzLkRJU0NPTk5FQ1Q6IHtcbiAgICAgICAgICB0aGlzLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIHdpbmRvdy5jb25kdWl0Q29tbWFuZHMuU0VORDoge1xuICAgICAgICAgIHRoaXMuX3B1Ymxpc2gobWVzc2FnZS5ieXRlQXJyYXksIG1lc3NhZ2UudG9waWMpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcigndW5rbm93biBtZXNzYWdlIG1ldGhvZDogJyArIG1ldGhvZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aGlzLmxvZ2dlci5lcnJvcihlcnJvcik7XG5cbiAgICAgIHRoaXMuX3NlbmRUb1BhcmVudCh7XG4gICAgICAgIGV2ZW50OiBSb3V0ZXIuZXZlbnRzLldJTkRPV19NRVNTQUdFX0ZBSUwsXG4gICAgICAgIHJlYXNvbjogJ3dpbmRvdyBtZXNzYWdlIGV2ZW50IGZhaWx1cmUnLFxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKlxuICAgKiBTdWNjZXNzIGhhbmRsZXIgZm9yIFwiY29ubmVjdFwiLiAgUmVnaXN0ZXJzIHRoZSB3aW5kb3cgbWVzc2FnZSBldmVudCBoYW5kbGVyLFxuICAgKiBhbmQgbm90aWZpZXMgdGhlIHBhcmVudCB3aW5kb3cgdGhhdCB0aGlzIGNsaWVudCBpcyBcInJlYWR5XCIuXG4gICAqXG4gICAqIEB0b2RvIC0gdHJhY2sgdGhlIFwiY29ubmVjdGVkXCIgc3RhdHVzIHRvIHByZXZlbnQgbXVsdGlwbGUgd2luZG93IG1lc3NhZ2VcbiAgICogZXZlbnQgaGFuZGxlcnMgZnJvbSBiZWluZyBhdHRhY2hlZFxuICAgKlxuICAgKiBAc2VlIC0gaHR0cHM6Ly93d3cuZWNsaXBzZS5vcmcvcGFoby9maWxlcy9qc2RvYy9QYWhvLk1RVFQuQ2xpZW50Lmh0bWxcbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IHJlc3BvbnNlXG4gICAqICAgVGhlIHJlc3BvbnNlIG9iamVjdFxuICAgKlxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gIFJvdXRlci5wcm90b3R5cGUuX2Nvbm5lY3Rfb25TdWNjZXNzID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgdGhpcy5sb2dnZXIuaW5mbygnU3VjY2Vzc2Z1bGx5IGVzdGFibGlzaGVkIE1RVFQgY29ubmVjdGlvbicpO1xuXG4gICAgdGhpcy5fc2VuZFRvUGFyZW50KHtcbiAgICAgIGV2ZW50OiBSb3V0ZXIuZXZlbnRzLkNPTk5FQ1RfU1VDQ0VTUyxcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICpcbiAgICogRmFpbHVyZSBoYW5kbGVyIGZvciBcImNvbm5lY3RcIi4gIFNlbmRzIGEgXCJmYWlsXCIgbWVzc2FnZSB0byB0aGUgcGFyZW50XG4gICAqIHdpbmRvd1xuICAgKlxuICAgKiBAc2VlIC0gaHR0cHM6Ly93d3cuZWNsaXBzZS5vcmcvcGFoby9maWxlcy9qc2RvYy9QYWhvLk1RVFQuQ2xpZW50Lmh0bWxcbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IHJlc3BvbnNlXG4gICAqICAgVGhlIHJlc3BvbnNlIG9iamVjdFxuICAgKlxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gIFJvdXRlci5wcm90b3R5cGUuX2Nvbm5lY3Rfb25GYWlsdXJlID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgdGhpcy5sb2dnZXIuaW5mbygnTVFUVCBDb25uZWN0aW9uIEZhaWx1cmUhJyk7XG5cbiAgICB0aGlzLl9zZW5kVG9QYXJlbnQoe1xuICAgICAgZXZlbnQ6IFJvdXRlci5ldmVudHMuQ09OTkVDVF9GQUlMVVJFLFxuICAgICAgcmVhc29uOiAnQ29ubmVjdGlvbiBGYWlsZWQgLSBFcnJvciBjb2RlICcgKyBwYXJzZUludChyZXNwb25zZS5lcnJvckNvZGUpICsgJzogJyArIHJlc3BvbnNlLmVycm9yTWVzc2FnZSxcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICpcbiAgICogU3VjY2VzcyBoYW5kbGVyIGZvciBcInN1YnNjcmliZVwiLlxuICAgKlxuICAgKiBAc2VlIC0gaHR0cHM6Ly93d3cuZWNsaXBzZS5vcmcvcGFoby9maWxlcy9qc2RvYy9QYWhvLk1RVFQuQ2xpZW50Lmh0bWxcbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IHRvcGljXG4gICAqICAgVGhlIHRvcGljIHRoYXQgd2FzIHN1Y2Nlc3NmdWxseSBzdWJzY3JpYmVkIHRvXG4gICAqIEBwYXJhbSB7T2JqZWN0fSByZXNwb25zZVxuICAgKiAgIFRoZSByZXNwb25zZSBvYmplY3RcbiAgICpcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICBSb3V0ZXIucHJvdG90eXBlLl9zdWJzY3JpYmVfb25TdWNjZXNzID0gZnVuY3Rpb24gKHRvcGljLCByZXNwb25zZSkge1xuICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdTdWNjZXNzZnVsbHkgc3Vic2NyaWJlZCB0byB0b3BpYyBcIicgKyB0b3BpYyArICdcIicpO1xuICAgIC8vIEB0b2RvXG4gIH07XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqXG4gICAqIEZhaWx1cmUgaGFuZGxlciBmb3IgXCJzdWJzY3JpYmVcIi4gIFNlbmRzIGEgXCJmYWlsXCIgbWVzc2FnZSB0byB0aGUgcGFyZW50XG4gICAqIHdpbmRvd1xuICAgKlxuICAgKiBAc2VlIC0gaHR0cHM6Ly93d3cuZWNsaXBzZS5vcmcvcGFoby9maWxlcy9qc2RvYy9QYWhvLk1RVFQuQ2xpZW50Lmh0bWxcbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IHRvcGljXG4gICAqICAgVGhlIHRvcGljIHRoYXQgd2FzIGF0dGVtcHRlZCB0byBiZSBzdWJzY3JpYmVkIHRvXG4gICAqIEBwYXJhbSB7T2JqZWN0fSByZXNwb25zZVxuICAgKiAgIFRoZSByZXNwb25zZSBvYmplY3RcbiAgICpcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICBSb3V0ZXIucHJvdG90eXBlLl9zdWJzY3JpYmVfb25GYWlsdXJlID0gZnVuY3Rpb24gKHRvcGljLCByZXNwb25zZSkge1xuICAgIHRoaXMubG9nZ2VyLmVycm9yKCdGYWlsZWQgdG8gc3Vic2NyaWJlIHRvIHRvcGljIFwiJyArIHRvcGljICsgJ1wiJyk7XG5cbiAgICB0aGlzLl9zZW5kVG9QYXJlbnQoe1xuICAgICAgZXZlbnQ6IFJvdXRlci5ldmVudHMuU1VCU0NSSUJFX0ZBSUxVUkUsXG4gICAgICByZWFzb246ICdTdWJzY3JpYmUgRmFpbGVkIC0gRXJyb3IgY29kZSAnICsgcGFyc2VJbnQocmVzcG9uc2UuZXJyb3JDb2RlKSArICc6ICcgKyByZXNwb25zZS5lcnJvck1lc3NhZ2UsXG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqXG4gICAqIFN0YXJ0IHJlY2VpdmluZyBtZXNzYWdlcyBmb3IgdGhlIGdpdmVuIHRvcGljXG4gICAqXG4gICAqIEBzZWUgLSBodHRwczovL3d3dy5lY2xpcHNlLm9yZy9wYWhvL2ZpbGVzL2pzZG9jL1BhaG8uTVFUVC5DbGllbnQuaHRtbFxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gdG9waWNcbiAgICogICBUaGUgdG9waWMgdG8gc3Vic2NyaWJlIHRvXG4gICAqXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgUm91dGVyLnByb3RvdHlwZS5fc3Vic2NyaWJlID0gZnVuY3Rpb24gKHRvcGljKSB7XG4gICAgdGhpcy5sb2dnZXIuZGVidWcoJ1N1YnNjcmliaW5nIHRvIHRvcGljIFwiJyArIHRvcGljICsgJ1wiJyk7XG5cbiAgICBpZiAoIXRvcGljKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3RvcGljIGlzIGEgcmVxdWlyZWQgYXJndW1lbnQgd2hlbiBzdWJzY3JpYmluZycpO1xuICAgIH1cblxuICAgIHRoaXMubXF0dENsaWVudC5zdWJzY3JpYmUodG9waWMsIHtcbiAgICAgIG9uU3VjY2VzczogdGhpcy5fc3Vic2NyaWJlX29uU3VjY2Vzcy5iaW5kKHRoaXMsIHRvcGljKSxcbiAgICAgIG9uRmFpbHVyZTogdGhpcy5fc3Vic2NyaWJlX29uRmFpbHVyZS5iaW5kKHRoaXMsIHRvcGljKSxcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICpcbiAgICogU3VjY2VzcyBoYW5kbGVyIGZvciBcInVuc3Vic2NyaWJlXCIuXG4gICAqXG4gICAqIEBzZWUgLSBodHRwczovL3d3dy5lY2xpcHNlLm9yZy9wYWhvL2ZpbGVzL2pzZG9jL1BhaG8uTVFUVC5DbGllbnQuaHRtbFxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gdG9waWNcbiAgICogICBUaGUgdG9waWMgdGhhdCB3YXMgc3VjY2Vzc2Z1bGx5IHVuc3Vic2NyaWJlZCBmcm9tXG4gICAqIEBwYXJhbSB7T2JqZWN0fSByZXNwb25zZVxuICAgKiAgIFRoZSByZXNwb25zZSBvYmplY3RcbiAgICpcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICBSb3V0ZXIucHJvdG90eXBlLl91bnN1YnNjcmliZV9vblN1Y2Nlc3MgPSBmdW5jdGlvbiAodG9waWMsIHJlc3BvbnNlKSB7XG4gICAgdGhpcy5sb2dnZXIuZGVidWcoJ1N1Y2Nlc3NmdWxseSB1bnN1YnNjcmliZWQgZnJvbSB0b3BpYyBcIicgKyB0b3BpYyArICdcIicpO1xuICAgIC8vIEB0b2RvXG4gIH07XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqXG4gICAqIEZhaWx1cmUgaGFuZGxlciBmb3IgXCJ1bnN1YnNjcmliZVwiLiAgU2VuZHMgYSBcImZhaWxcIiBtZXNzYWdlIHRvIHRoZSBwYXJlbnRcbiAgICogd2luZG93XG4gICAqXG4gICAqIEBzZWUgLSBodHRwczovL3d3dy5lY2xpcHNlLm9yZy9wYWhvL2ZpbGVzL2pzZG9jL1BhaG8uTVFUVC5DbGllbnQuaHRtbFxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gdG9waWNcbiAgICogICBUaGUgdG9waWMgdGhhdCB3YXMgc3VjY2Vzc2Z1bGx5IHN1YnNjcmliZWQgdG9cbiAgICogQHBhcmFtIHtPYmplY3R9IHJlc3BvbnNlXG4gICAqICAgVGhlIHJlc3BvbnNlIG9iamVjdFxuICAgKlxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gIFJvdXRlci5wcm90b3R5cGUuX3Vuc3Vic2NyaWJlX29uRmFpbHVyZSA9IGZ1bmN0aW9uICh0b3BpYywgcmVzcG9uc2UpIHtcbiAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnRmFpbGVkIHRvIHVuc3Vic2NyaWJlIGZyb20gdG9waWMgXCInICsgdG9waWMgKyAnXCInKTtcblxuICAgIHRoaXMuX3NlbmRUb1BhcmVudCh7XG4gICAgICBldmVudDogUm91dGVyLmV2ZW50cy5VTlNVQlNDUklCRV9GQUlMVVJFLFxuICAgICAgcmVhc29uOiAnVW5zdWJzY3JpYmUgRmFpbGVkIC0gRXJyb3IgY29kZSAnICsgcGFyc2VJbnQocmVzcG9uc2UuZXJyb3JDb2RlKSArICc6ICcgKyByZXNwb25zZS5lcnJvck1lc3NhZ2UsXG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqXG4gICAqIFN0b3AgcmVjZWl2aW5nIG1lc3NhZ2VzIGZvciB0aGUgZ2l2ZW4gdG9waWNcbiAgICpcbiAgICogQHNlZSAtIGh0dHBzOi8vd3d3LmVjbGlwc2Uub3JnL3BhaG8vZmlsZXMvanNkb2MvUGFoby5NUVRULkNsaWVudC5odG1sXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0b3BpY1xuICAgKiAgIFRoZSB0b3BpYyB0byB1bnN1YnNjcmliZSBmcm9tXG4gICAqXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgUm91dGVyLnByb3RvdHlwZS5fdW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAodG9waWMpIHtcbiAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnVW5zdWJzY3JpYmluZyBmcm9tIHRvcGljIFwiJyArIHRvcGljICsgJ1wiJyk7XG5cbiAgICBpZiAoIXRvcGljKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3RvcGljIGlzIGEgcmVxdWlyZWQgYXJndW1lbnQgd2hlbiB1bnN1YnNjcmliaW5nJyk7XG4gICAgfVxuXG4gICAgdGhpcy5tcXR0Q2xpZW50LnVuc3Vic2NyaWJlKHRvcGljLCB7XG4gICAgICBvblN1Y2Nlc3M6IHRoaXMuX3Vuc3Vic2NyaWJlX29uU3VjY2Vzcy5iaW5kKHRoaXMsIHRvcGljKSxcbiAgICAgIG9uRmFpbHVyZTogdGhpcy5fdW5zdWJzY3JpYmVfb25GYWlsdXJlLmJpbmQodGhpcywgdG9waWMpLFxuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKlxuICAgKiBQdWJsaXNoIGEgbWVzc2FnZSB0byB0aGUgY2xpZW50cyB0aGF0IGFyZSBsaXN0ZW5pbmcgZm9yIHRoZSBnaXZlbiB0b3BpY1xuICAgKlxuICAgKiBAc2VlIC0gaHR0cHM6Ly93d3cuZWNsaXBzZS5vcmcvcGFoby9maWxlcy9qc2RvYy9QYWhvLk1RVFQuTWVzc2FnZS5odG1sXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfEFycmF5QnVmZmVyfSBwYXlsb2FkXG4gICAqICAgVGhlIG1lc3NhZ2UgZGF0YSB0byBiZSBzZW50XG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0b3BpY1xuICAgKiAgIFRoZSB0b3BpYyB0byBwdWJsaXNoIHRvXG4gICAqXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgUm91dGVyLnByb3RvdHlwZS5fcHVibGlzaCA9IGZ1bmN0aW9uIChwYXlsb2FkLCB0b3BpYykge1xuICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdQdWJsaXNoaW5nIHRvIHRvcGljIFwiJyArIHRvcGljICsgJ1wiJyk7XG5cbiAgICBpZiAoIXBheWxvYWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigncGF5bG9hZCBpcyBhIHJlcXVpcmVkIGFyZ3VtZW50IHdoZW4gcHVibGlzaGluZycpO1xuICAgIH1cblxuICAgIGlmICghdG9waWMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigndG9waWMgaXMgYSByZXF1aXJlZCBhcmd1bWVudCB3aGVuIHB1Ymxpc2hpbmcnKTtcbiAgICB9XG5cbiAgICB2YXIgbXF0dE1lc3NhZ2UgPSBuZXcgUGFoby5NUVRULk1lc3NhZ2UocGF5bG9hZCk7XG5cbiAgICBtcXR0TWVzc2FnZS5kZXN0aW5hdGlvbk5hbWUgPSB0b3BpYztcblxuICAgIHRoaXMubXF0dENsaWVudC5zZW5kKG1xdHRNZXNzYWdlKTtcbiAgfTtcblxuICAvKipcbiAgICogQ29ubmVjdCB0aGlzIE1lc3NhZ2luZyBjbGllbnQgdG8gaXRzIHNlcnZlclxuICAgKlxuICAgKiBAc2VlIC0gaHR0cHM6Ly93d3cuZWNsaXBzZS5vcmcvcGFoby9maWxlcy9qc2RvYy9QYWhvLk1RVFQuTWVzc2FnZS5odG1sXG4gICAqIEBzZWUgLSBodHRwczovL3d3dy5lY2xpcHNlLm9yZy9wYWhvL2ZpbGVzL2pzZG9jL1BhaG8uTVFUVC5DbGllbnQuaHRtbFxuICAgKlxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gIFJvdXRlci5wcm90b3R5cGUuY29ubmVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmxvZ2dlci5pbmZvKCdDb25uZWN0aW5nLi4uJyk7XG5cbiAgICAvLyBsYXN0IHdpbGwgbWVzc2FnZSBzZW50IG9uIGRpc2Nvbm5lY3RcbiAgICB2YXIgd2lsbE1lc3NhZ2UgPSBuZXcgUGFoby5NUVRULk1lc3NhZ2UoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgY2xpZW50SWQ6IHRoaXMuY2xpZW50SWQsXG4gICAgfSkpO1xuXG4gICAgd2lsbE1lc3NhZ2UuZGVzdGluYXRpb25OYW1lID0gJ2lvdi9jbGllbnREaXNjb25uZWN0JztcblxuICAgIHZhciBjb25uZWN0aW9uT3B0aW9ucyA9IHtcbiAgICAgIHRpbWVvdXQ6IHRoaXMuY29ubmVjdGlvblRpbWVvdXQsXG4gICAgICBvblN1Y2Nlc3M6IHRoaXMuX2Nvbm5lY3Rfb25TdWNjZXNzLmJpbmQodGhpcyksXG4gICAgICBvbkZhaWx1cmU6IHRoaXMuX2Nvbm5lY3Rfb25GYWlsdXJlLmJpbmQodGhpcyksXG4gICAgICB3aWxsTWVzc2FnZTogd2lsbE1lc3NhZ2UsXG4gICAgICAvLyBAdG9kbyAtIHNob3VsZCBgcmVjb25uZWN0YCBiZSBzZXQgaGVyZT9cbiAgICB9O1xuXG4gICAgaWYgKHRoaXMudXNlU1NMID09PSB0cnVlKSB7XG4gICAgICBjb25uZWN0aW9uT3B0aW9ucy51c2VTU0wgPSB0cnVlO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICB0aGlzLm1xdHRDbGllbnQuY29ubmVjdChjb25uZWN0aW9uT3B0aW9ucyk7XG4gICAgICB0aGlzLmxvZ2dlci5pbmZvKCdDb25uZWN0ZWQnKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoZXJyb3IubWVzc2FnZS5zdGFydHNXaXRoKFBBSE9fTVFUVF9FUlJPUl9DT0RFX0FMUkVBRFlfQ09OTkVDVEVEKSkge1xuICAgICAgICAvLyBpZiB3ZSdyZSBhbHJlYWR5IGNvbm5lY3RlZCwgdGhlcmUncyBubyBlcnJvciB0byByZXBvcnRcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmxvZ2dlci5lcnJvcignRmFpbGVkIHRvIGNvbm5lY3QnLCBlcnJvcik7XG5cbiAgICAgIHRoaXMuX3NlbmRUb1BhcmVudCh7XG4gICAgICAgIGV2ZW50OiBSb3V0ZXIuZXZlbnRzLkNPTk5FQ1RfRkFJTFVSRSxcbiAgICAgICAgcmVhc29uOiAnR2VuZXJhbCBlcnJvciB3aGVuIHRyeWluZyB0byBjb25uZWN0LicsXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIERpc2Nvbm5lY3QgdGhlIG1lc3NhZ2luZyBjbGllbnQgZnJvbSB0aGUgc2VydmVyLiAgVG8gZ2V0IGNvbmZpcm1hdGlvbiBvZlxuICAgKiB0aGUgZGlzY29ubmVjdGlvbiwgdGhlIGNhbGxlciBtdXN0IGxpc3RlbiBmb3IgdGhlIGZvbGxvd2luZyBldmVudDpcbiAgICogYFJvdXRlci5ldmVudHMuQ09OTkVDVElPTl9MT1NUYFxuICAgKlxuICAgKiBAc2VlIC0gaHR0cHM6Ly93d3cuZWNsaXBzZS5vcmcvcGFoby9maWxlcy9qc2RvYy9QYWhvLk1RVFQuQ2xpZW50Lmh0bWxcbiAgICpcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICBSb3V0ZXIucHJvdG90eXBlLmRpc2Nvbm5lY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5sb2dnZXIuaW5mbygnRGlzY29ubmVjdGluZycpO1xuXG4gICAgdHJ5IHtcbiAgICAgIHRoaXMubXF0dENsaWVudC5kaXNjb25uZWN0KCk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGVycm9yLm1lc3NhZ2Uuc3RhcnRzV2l0aChQQUhPX01RVFRfRVJST1JfQ09ERV9OT1RfQ09OTkVDVEVEKSkge1xuICAgICAgICAvLyBpZiB3ZSdyZSBub3QgY29ubmVjdGVkIHdoZW4gd2UgYXR0ZW1wdGVkIHRvIGRpc2Nvbm5lY3QsIHRoZXJlJ3Mgbm9cbiAgICAgICAgLy8gZXJyb3IgdG8gcmVwb3J0XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ0VSUk9SIHdoaWxlIGRpc2Nvbm5lY3RpbmcnKTtcbiAgICAgIHRoaXMubG9nZ2VyLmVycm9yKGVycm9yKTtcblxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBEZXN0cm95IHRoZSBSb3V0ZXIgYW5kIGZyZWUgYWxsIHJlc291cmNlc1xuICAgKlxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gIFJvdXRlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmxvZ2dlci5pbmZvKCdEZXN0cm95aW5nLi4uJyk7XG5cbiAgICBpZiAodGhpcy5kZXN0cm95ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmRlc3Ryb3llZCA9IHRydWU7XG5cbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIHRoaXMuYm91bmRXaW5kb3dNZXNzYWdlRXZlbnRIYW5kbGVyKTtcblxuICAgIHRoaXMuYm91bmRXaW5kb3dNZXNzYWdlRXZlbnRIYW5kbGVyID0gbnVsbDtcblxuICAgIHRoaXMuZGlzY29ubmVjdCgpO1xuXG4gICAgLy8gQHRvZG8gLSBpcyB0aGVyZSBhIHdheSB0byBcImRlc3Ryb3lcIiB0aGUgY2xpZW50PyAgSSBkaWRuJ3Qgc2VlIGFueXRoaW5nXG4gICAgLy8gaW4gdGhlIGRvY3VtZW50YXRpb25cbiAgICB0aGlzLm1xdHRDbGllbnQgPSBudWxsO1xuICB9O1xuXG4gIC8vIFRoaXMgaXMgYSBzZXJpZXMgb2YgXCJjb250cm9sbGVyc1wiIHRvIGtlZXAgdGhlIGNvbmR1aXQncyBpZnJhbWUgYXMgZHVtYiBhc1xuICAvLyBwb3NzaWJsZS4gIENhbGwgZWFjaCBvZiB0aGVzZSBpbiB0aGUgY29ycmVzcG9uZGluZyBhdHRyaWJ1dGUgb24gdGhlXG4gIC8vIFwiYm9keVwiIHRhZy5cbiAgcmV0dXJuIHtcbiAgICBvbmxvYWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHdpbmRvdy5yb3V0ZXIgPSBSb3V0ZXIuZmFjdG9yeShcbiAgICAgICAgICB3aW5kb3cubXF0dFJvdXRlckNvbmZpZy5sb2dJZCxcbiAgICAgICAgICB3aW5kb3cubXF0dFJvdXRlckNvbmZpZy5jbGllbnRJZCxcbiAgICAgICAgICB3aW5kb3cubXF0dFJvdXRlckNvbmZpZy5ob3N0LFxuICAgICAgICAgIHdpbmRvdy5tcXR0Um91dGVyQ29uZmlnLnBvcnQsXG4gICAgICAgICAgd2luZG93Lm1xdHRSb3V0ZXJDb25maWcudXNlU1NMLFxuICAgICAgICApO1xuXG4gICAgICAgIHdpbmRvdy5yb3V0ZXIuX3NlbmRUb1BhcmVudCh7XG4gICAgICAgICAgZXZlbnQ6IFJvdXRlci5ldmVudHMuQ1JFQVRFRCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgd2luZG93LnJvdXRlci5sb2dnZXIuaW5mbygnb25sb2FkIC0gUm91dGVyIGNyZWF0ZWQnKTtcbiAgICAgIH1cbiAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcblxuICAgICAgICB3aW5kb3cucGFyZW50LnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICBldmVudDogUm91dGVyLmV2ZW50cy5DUkVBVEVfRkFJTFVSRSxcbiAgICAgICAgICByZWFzb246IGVycm9yLFxuICAgICAgICB9LCAnKicpO1xuICAgICAgfVxuICAgIH0sXG4gICAgb251bmxvYWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghd2luZG93LnJvdXRlcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHdpbmRvdy5yb3V0ZXIubG9nZ2VyLmluZm8oJ29udW5sb2FkIC0gUm91dGVyIGJlaW5nIGRlc3Ryb3llZCBpbiBvbnVubG9hZC4uLicpO1xuICAgICAgICB3aW5kb3cucm91dGVyLmRlc3Ryb3koKTtcbiAgICAgICAgd2luZG93LnJvdXRlci5sb2dnZXIuaW5mbygnb251bmxvYWQgLSBSb3V0ZXIgZGVzdHJveWVkIGluIG9udW5sb2FkJyk7XG4gICAgICB9XG4gICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2Uuc3RhcnRzV2l0aChQQUhPX01RVFRfRVJST1JfQ09ERV9OT1RfQ09OTkVDVEVEKSkge1xuICAgICAgICAgIC8vIGlmIHRoZXJlIHdhc24ndCBhIGNvbm5lY3Rpb24sIGRvIG5vdCBzaG93IGFuIGVycm9yXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgd2luZG93LnJvdXRlci5sb2dnZXIuZXJyb3IoZXJyb3IpO1xuICAgICAgfVxuICAgIH0sXG4gICAgUm91dGVyOiBSb3V0ZXIsXG4gIH07XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/conduit/Router.js\n");

/***/ }),

/***/ "./src/js/iov/Iov.js":
/*!***************************!*\
  !*** ./src/js/iov/Iov.js ***!
  \***************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Iov; });\n/* harmony import */ var uuid_v4__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! uuid/v4 */ \"./node_modules/uuid/v4.js\");\n/* harmony import */ var uuid_v4__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uuid_v4__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils_logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/logger */ \"./src/js/utils/logger.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils */ \"./src/js/utils/index.js\");\n/* harmony import */ var _IovPlayer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./IovPlayer */ \"./src/js/iov/IovPlayer.js\");\n/* harmony import */ var _StreamConfiguration__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./StreamConfiguration */ \"./src/js/iov/StreamConfiguration.js\");\n\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n\n/**\n * Internet of Video client. This module uses the MediaSource API to\n * deliver video content streamed through MQTT from distributed sources.\n */\n\nvar Iov =\n/*#__PURE__*/\nfunction () {\n  _createClass(Iov, null, [{\n    key: \"factory\",\n    value: function factory(videoElementId, streamConfiguration, options) {\n      return new Iov(videoElementId, streamConfiguration, options);\n    }\n    /**\n     * @param {String} videoElementId\n     * @param {StreamConfiguration|String} streamConfiguration\n     *   The stream configuration or url of the stream\n     * @param {Object} [options]\n     */\n\n  }]);\n\n  function Iov(videoElementId, streamConfiguration) {\n    var _this = this;\n\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    _classCallCheck(this, Iov);\n\n    _defineProperty(this, \"onConnectionChange\", function () {\n      if (window.navigator.onLine) {\n        _this.logger.debug('Back online...');\n\n        if (_this.iovPlayer.stopped) {\n          // Without this timeout, the video appears blank.  Not sure if there is\n          // some race condition...\n          setTimeout(function () {\n            _this.play();\n          }, Iov.CONNECTION_CHANGE_PLAY_DELAY * 1000);\n        }\n      } else {\n        _this.logger.debug('Offline!');\n\n        _this.stop();\n      }\n    });\n\n    _defineProperty(this, \"onVisibilityChange\", function () {\n      var hiddenStateName = _utils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].windowStateNames.hiddenStateName;\n\n      if (document[hiddenStateName]) {\n        // Stop playing when tab is hidden or window is minimized\n        _this.visibilityChangeTimeout = setTimeout(\n        /*#__PURE__*/\n        _asyncToGenerator(\n        /*#__PURE__*/\n        regeneratorRuntime.mark(function _callee() {\n          return regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _this.logger.debug('Stopping because tab is not visible...');\n\n                  _context.next = 3;\n                  return _this.stop();\n\n                case 3:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        })), Iov.VISIBILITY_CHANGE_STOP_DELAY * 1000);\n        return;\n      }\n\n      if (_this.visibilityChangeTimeout) {\n        clearTimeout(_this.visibilityChangeTimeout);\n      }\n\n      if (_this.iovPlayer.stopped) {\n        _this.logger.debug('Playing because tab became visible...');\n\n        _this.play();\n      }\n    });\n\n    if (!_utils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].supported()) {\n      throw new Error('You are using an unsupported browser - Unable to play CLSP video');\n    }\n\n    if (!videoElementId) {\n      throw new Error('videoElementId is required to construct an Iov');\n    }\n\n    if (!_StreamConfiguration__WEBPACK_IMPORTED_MODULE_4__[\"default\"].isStreamConfiguration(streamConfiguration)) {\n      streamConfiguration = _StreamConfiguration__WEBPACK_IMPORTED_MODULE_4__[\"default\"].fromUrl(streamConfiguration);\n    }\n\n    if (!_StreamConfiguration__WEBPACK_IMPORTED_MODULE_4__[\"default\"].isStreamConfiguration(streamConfiguration)) {\n      throw new Error('invalid streamConfiguration passed to iov constructor');\n    } // This should be unique - it is only used for logging\n\n\n    this.id = options.id || uuid_v4__WEBPACK_IMPORTED_MODULE_0___default()();\n    this.streamConfiguration = streamConfiguration;\n    this.logger = Object(_utils_logger__WEBPACK_IMPORTED_MODULE_1__[\"default\"])().factory(\"Iov \".concat(this.id));\n    this.logger.debug('Constructing...');\n    this.metrics = {}; // @todo - there must be a more proper way to do events than this...\n\n    this.events = {};\n\n    for (var i = 0; i < Iov.EVENT_NAMES.length; i++) {\n      this.events[Iov.EVENT_NAMES[i]] = [];\n    }\n\n    this.destroyed = false;\n    this.onReadyAlreadyCalled = false;\n    this.videoElementId = videoElementId;\n    this.videoElementParent = null;\n    this.iovPlayerCount = 0;\n    var visibilityChangeEventName = _utils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].windowStateNames.visibilityChangeEventName;\n\n    if (visibilityChangeEventName) {\n      document.addEventListener(visibilityChangeEventName, this.onVisibilityChange, false);\n    }\n\n    window.addEventListener('online', this.onConnectionChange, false);\n    window.addEventListener('offline', this.onConnectionChange, false);\n  }\n\n  _createClass(Iov, [{\n    key: \"on\",\n    value: function on(name, action) {\n      this.logger.debug(\"Registering Listener for \".concat(name, \" event...\"));\n\n      if (!Iov.EVENT_NAMES.includes(name)) {\n        throw new Error(\"\\\"\".concat(name, \"\\\" is not a valid event.\\\"\"));\n      }\n\n      if (this.destroyed) {\n        return;\n      }\n\n      this.events[name].push(action);\n    }\n  }, {\n    key: \"trigger\",\n    value: function trigger(name, value) {\n      var sillyMetrics = [];\n\n      if (sillyMetrics.includes(name)) {\n        this.logger.silly(\"Triggering \".concat(name, \" event...\"));\n      } else {\n        this.logger.debug(\"Triggering \".concat(name, \" event...\"));\n      }\n\n      if (this.destroyed) {\n        return;\n      }\n\n      if (!Iov.EVENT_NAMES.includes(name)) {\n        throw new Error(\"\\\"\".concat(name, \"\\\" is not a valid event.\\\"\"));\n      }\n\n      for (var i = 0; i < this.events[name].length; i++) {\n        this.events[name][i](value, this);\n      }\n    }\n  }, {\n    key: \"metric\",\n    value: function metric(type, value) {\n      if (!this.options.enableMetrics) {\n        return;\n      }\n\n      if (!Iov.METRIC_TYPES.includes(type)) {\n        // @todo - should this throw?\n        return;\n      }\n\n      this.metrics[type] = value;\n      this.trigger('metric', {\n        type: type,\n        value: this.metrics[type]\n      });\n    }\n  }, {\n    key: \"_prepareVideoElement\",\n    value: function _prepareVideoElement() {\n      var videoElement = window.document.getElementById(this.videoElementId); // If we have no elements to work with, throw an error\n\n      if (!videoElement) {\n        throw new Error(\"Unable to find an element in the DOM with id \\\"\".concat(this.videoElementId, \"\\\".\"));\n      }\n\n      if (!this.videoElementParent) {\n        videoElement.style.display = 'none';\n        this.videoElementParent = videoElement.parentNode;\n      }\n\n      if (!this.videoElementParent) {\n        throw new Error('There is no iframe container element to attach the iframe to!');\n      }\n\n      this.videoElementParent.classList.add('clsp-video-container');\n      var clspVideoElement = window.document.createElement('video');\n      clspVideoElement.classList.add('clsp-video');\n      clspVideoElement.muted = true; // @todo - is it ok that the most recent video is always first?  what about\n      // the spinner or the not-supported text\n\n      this.videoElementParent.insertBefore(clspVideoElement, this.videoElementParent.childNodes[0]);\n      return clspVideoElement;\n    }\n  }, {\n    key: \"_registerPlayerListeners\",\n    value: function _registerPlayerListeners(iovPlayer) {\n      var _this2 = this;\n\n      // @todo - this seems to be videojs specific, and should be removed or moved\n      // somewhere else\n      iovPlayer.on('firstFrameShown', function () {\n        _this2.trigger('firstFrameShown');\n      });\n      iovPlayer.on('videoReceived', function () {\n        _this2.trigger('videoReceived');\n      });\n      iovPlayer.on('videoInfoReceived', function () {\n        _this2.trigger('videoInfoReceived');\n      });\n    }\n  }, {\n    key: \"generatePlayerLogId\",\n    value: function generatePlayerLogId() {\n      return \"iov:\".concat(this.id, \".player:\").concat(++this.iovPlayerCount);\n    }\n  }, {\n    key: \"initialize\",\n    value: function () {\n      var _initialize = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2() {\n        var _this3 = this;\n\n        var clspVideoElement, iovPlayer;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.logger.debug('Initializing...');\n                clspVideoElement = this._prepareVideoElement();\n                iovPlayer = _IovPlayer__WEBPACK_IMPORTED_MODULE_3__[\"default\"].factory(this.generatePlayerLogId(), clspVideoElement, function () {\n                  return _this3.changeSrc(_this3.streamConfiguration);\n                });\n\n                this._registerPlayerListeners(iovPlayer);\n\n                _context2.next = 6;\n                return iovPlayer.initialize(this.streamConfiguration);\n\n              case 6:\n                this.iovPlayer = iovPlayer;\n\n              case 7:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function initialize() {\n        return _initialize.apply(this, arguments);\n      }\n\n      return initialize;\n    }()\n    /**\n     * @param {StreamConfiguration|String} url\n     *   The StreamConfiguration or url of the new stream\n     */\n\n  }, {\n    key: \"changeSrc\",\n    value: function () {\n      var _changeSrc = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee3(url) {\n        var _this4 = this;\n\n        var clspVideoElement, iovPlayer, streamConfiguration, firstFramePromise;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                this.logger.debug('Changing Stream...');\n\n                if (url) {\n                  _context3.next = 3;\n                  break;\n                }\n\n                throw new Error('url is required to changeSrc');\n\n              case 3:\n                if (this.iovPlayer) {\n                  _context3.next = 5;\n                  break;\n                }\n\n                throw new Error('IovPlayer must be initialized before calling changeSrc');\n\n              case 5:\n                // Handle the case of multiple changeSrc requests.  Only change to the last\n                // stream that was requested\n                if (this.pendingChangeSrcIovPlayer) {\n                  clearTimeout(this.changeSrcTimeout);\n                  this.changeSrcTimeout = null; // @todo - should we await this?\n\n                  this.pendingChangeSrcIovPlayer.destroy();\n                  this.pendingChangeSrcIovPlayer = null;\n                }\n\n                clspVideoElement = this._prepareVideoElement();\n                iovPlayer = _IovPlayer__WEBPACK_IMPORTED_MODULE_3__[\"default\"].factory(this.generatePlayerLogId(), clspVideoElement, function () {\n                  return _this4.changeSrc(_this4.streamConfiguration);\n                });\n                this.pendingChangeSrcIovPlayer = iovPlayer;\n\n                this._registerPlayerListeners(iovPlayer);\n\n                streamConfiguration = _StreamConfiguration__WEBPACK_IMPORTED_MODULE_4__[\"default\"].isStreamConfiguration(url) ? url : _StreamConfiguration__WEBPACK_IMPORTED_MODULE_4__[\"default\"].fromUrl(url);\n                _context3.next = 13;\n                return iovPlayer.initialize(streamConfiguration);\n\n              case 13:\n                firstFramePromise = new Promise(function (resolve, reject) {\n                  iovPlayer.on('firstFrameShown', function () {\n                    _this4.changeSrcTimeout = setTimeout(function () {\n                      _this4.logger.debug('Destroying old player...');\n\n                      if (_this4.iovPlayer) {\n                        // async, but we don't need to wait for it\n                        _this4.iovPlayer.destroy();\n                      }\n\n                      _this4.iovPlayer = iovPlayer;\n                      _this4.streamConfiguration = streamConfiguration;\n                      _this4.changeSrcTimeout = null;\n                      _this4.pendingChangeSrcIovPlayer = false;\n                      resolve();\n                    }, Iov.SHOW_NEXT_VIDEO_DELAY * 1000);\n                  });\n                }); // @todo - should the play method only resolve once the first frame has\n                // been shown?  right now it resolves on first moof recevied\n\n                _context3.next = 16;\n                return this.play(iovPlayer);\n\n              case 16:\n                return _context3.abrupt(\"return\", firstFramePromise);\n\n              case 17:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function changeSrc(_x) {\n        return _changeSrc.apply(this, arguments);\n      }\n\n      return changeSrc;\n    }()\n    /**\n     * @param {StreamConfiguration|url} streamConfiguration\n     *   The StreamConfiguration or url of the stream to use with the cloned\n     *   player\n     */\n\n  }, {\n    key: \"clone\",\n    value: function clone() {\n      var streamConfiguration = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.streamConfiguration;\n      this.logger.debug('clone');\n      var newStreamConfiguration = _StreamConfiguration__WEBPACK_IMPORTED_MODULE_4__[\"default\"].isStreamConfiguration(streamConfiguration) ? streamConfiguration.clone() : _StreamConfiguration__WEBPACK_IMPORTED_MODULE_4__[\"default\"].fromUrl(streamConfiguration); // @todo - is it possible to reuse the iov player?\n\n      return Iov.factory(this.videoElement, newStreamConfiguration);\n    }\n  }, {\n    key: \"play\",\n    value: function () {\n      var _play = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee4() {\n        var iovPlayer,\n            _args4 = arguments;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                iovPlayer = _args4.length > 0 && _args4[0] !== undefined ? _args4[0] : this.iovPlayer;\n                this.logger.debug('Play');\n                _context4.prev = 2;\n                _context4.next = 5;\n                return iovPlayer.play();\n\n              case 5:\n                _context4.next = 13;\n                break;\n\n              case 7:\n                _context4.prev = 7;\n                _context4.t0 = _context4[\"catch\"](2);\n                this.logger.debug('Play error - destroying'); // @todo - display a message in the page saying that the stream couldn't\n                // be played\n\n                _context4.next = 12;\n                return iovPlayer.destroy();\n\n              case 12:\n                throw _context4.t0;\n\n              case 13:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this, [[2, 7]]);\n      }));\n\n      function play() {\n        return _play.apply(this, arguments);\n      }\n\n      return play;\n    }()\n  }, {\n    key: \"stop\",\n    value: function () {\n      var _stop = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee5() {\n        var iovPlayer,\n            _args5 = arguments;\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                iovPlayer = _args5.length > 0 && _args5[0] !== undefined ? _args5[0] : this.iovPlayer;\n                this.logger.debug('Stop');\n                _context5.next = 4;\n                return iovPlayer.stop();\n\n              case 4:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function stop() {\n        return _stop.apply(this, arguments);\n      }\n\n      return stop;\n    }()\n  }, {\n    key: \"restart\",\n    value: function () {\n      var _restart = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee6() {\n        var iovPlayer,\n            _args6 = arguments;\n        return regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                iovPlayer = _args6.length > 0 && _args6[0] !== undefined ? _args6[0] : this.iovPlayer;\n                this.logger.debug('Restart');\n                _context6.next = 4;\n                return iovPlayer.restart();\n\n              case 4:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function restart() {\n        return _restart.apply(this, arguments);\n      }\n\n      return restart;\n    }()\n  }, {\n    key: \"enterFullscreen\",\n    value: function enterFullscreen() {\n      var iovPlayer = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.iovPlayer;\n      this.logger.debug('Enter fullscreen');\n      iovPlayer.enterFullscreen();\n    }\n  }, {\n    key: \"exitFullscreen\",\n    value: function exitFullscreen() {\n      var iovPlayer = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.iovPlayer;\n      this.logger.debug('Exit fullscreen');\n      iovPlayer.exitFullscreen();\n    }\n  }, {\n    key: \"toggleFullscreen\",\n    value: function toggleFullscreen() {\n      var iovPlayer = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.iovPlayer;\n      this.logger.debug('Toggle fullscreen');\n      iovPlayer.toggleFullscreen();\n    }\n    /**\n     * Dereference the necessary properties, clear any intervals and timeouts, and\n     * remove any listeners.  Will also destroy the player.\n     *\n     * @returns {Promise}\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.logger.debug('destroy');\n\n      if (this.destroyed) {\n        return;\n      }\n\n      this.destroyed = true;\n      var visibilityChangeEventName = _utils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].windowStateNames.visibilityChangeEventName;\n\n      if (visibilityChangeEventName) {\n        document.removeEventListener(visibilityChangeEventName, this.onVisibilityChange);\n      }\n\n      window.removeEventListener('online', this.onConnectionChange);\n      window.removeEventListener('offline', this.onConnectionChange);\n      var iovPlayerDestroyPromise = this.iovPlayer ? this.iovPlayer.destroy() : Promise.resolve();\n      this.iovPlayer = null;\n      this.streamConfiguration = null;\n      this.videoElement = null;\n      this.videoElementParent = null;\n      this.events = null;\n      this.metrics = null;\n      return iovPlayerDestroyPromise;\n    }\n  }]);\n\n  return Iov;\n}();\n\n_defineProperty(Iov, \"CONNECTION_CHANGE_PLAY_DELAY\", 2);\n\n_defineProperty(Iov, \"VISIBILITY_CHANGE_STOP_DELAY\", 1);\n\n_defineProperty(Iov, \"SHOW_NEXT_VIDEO_DELAY\", 0.25);\n\n_defineProperty(Iov, \"EVENT_NAMES\", ['metric', 'unsupportedMimeCodec', 'firstFrameShown', 'videoReceived', 'videoInfoReceived']);\n\n_defineProperty(Iov, \"METRIC_TYPES\", []);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvaW92L0lvdi5qcz9hNGUwIl0sIm5hbWVzIjpbIklvdiIsInZpZGVvRWxlbWVudElkIiwic3RyZWFtQ29uZmlndXJhdGlvbiIsIm9wdGlvbnMiLCJ3aW5kb3ciLCJuYXZpZ2F0b3IiLCJvbkxpbmUiLCJsb2dnZXIiLCJkZWJ1ZyIsImlvdlBsYXllciIsInN0b3BwZWQiLCJzZXRUaW1lb3V0IiwicGxheSIsIkNPTk5FQ1RJT05fQ0hBTkdFX1BMQVlfREVMQVkiLCJzdG9wIiwiaGlkZGVuU3RhdGVOYW1lIiwidXRpbHMiLCJ3aW5kb3dTdGF0ZU5hbWVzIiwiZG9jdW1lbnQiLCJ2aXNpYmlsaXR5Q2hhbmdlVGltZW91dCIsIlZJU0lCSUxJVFlfQ0hBTkdFX1NUT1BfREVMQVkiLCJjbGVhclRpbWVvdXQiLCJzdXBwb3J0ZWQiLCJFcnJvciIsIlN0cmVhbUNvbmZpZ3VyYXRpb24iLCJpc1N0cmVhbUNvbmZpZ3VyYXRpb24iLCJmcm9tVXJsIiwiaWQiLCJ1dWlkdjQiLCJMb2dnZXIiLCJmYWN0b3J5IiwibWV0cmljcyIsImV2ZW50cyIsImkiLCJFVkVOVF9OQU1FUyIsImxlbmd0aCIsImRlc3Ryb3llZCIsIm9uUmVhZHlBbHJlYWR5Q2FsbGVkIiwidmlkZW9FbGVtZW50UGFyZW50IiwiaW92UGxheWVyQ291bnQiLCJ2aXNpYmlsaXR5Q2hhbmdlRXZlbnROYW1lIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9uVmlzaWJpbGl0eUNoYW5nZSIsIm9uQ29ubmVjdGlvbkNoYW5nZSIsIm5hbWUiLCJhY3Rpb24iLCJpbmNsdWRlcyIsInB1c2giLCJ2YWx1ZSIsInNpbGx5TWV0cmljcyIsInNpbGx5IiwidHlwZSIsImVuYWJsZU1ldHJpY3MiLCJNRVRSSUNfVFlQRVMiLCJ0cmlnZ2VyIiwidmlkZW9FbGVtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJzdHlsZSIsImRpc3BsYXkiLCJwYXJlbnROb2RlIiwiY2xhc3NMaXN0IiwiYWRkIiwiY2xzcFZpZGVvRWxlbWVudCIsImNyZWF0ZUVsZW1lbnQiLCJtdXRlZCIsImluc2VydEJlZm9yZSIsImNoaWxkTm9kZXMiLCJvbiIsIl9wcmVwYXJlVmlkZW9FbGVtZW50IiwiSW92UGxheWVyIiwiZ2VuZXJhdGVQbGF5ZXJMb2dJZCIsImNoYW5nZVNyYyIsIl9yZWdpc3RlclBsYXllckxpc3RlbmVycyIsImluaXRpYWxpemUiLCJ1cmwiLCJwZW5kaW5nQ2hhbmdlU3JjSW92UGxheWVyIiwiY2hhbmdlU3JjVGltZW91dCIsImRlc3Ryb3kiLCJmaXJzdEZyYW1lUHJvbWlzZSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiU0hPV19ORVhUX1ZJREVPX0RFTEFZIiwibmV3U3RyZWFtQ29uZmlndXJhdGlvbiIsImNsb25lIiwicmVzdGFydCIsImVudGVyRnVsbHNjcmVlbiIsImV4aXRGdWxsc2NyZWVuIiwidG9nZ2xlRnVsbHNjcmVlbiIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJpb3ZQbGF5ZXJEZXN0cm95UHJvbWlzZSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFhOzs7Ozs7Ozs7Ozs7OztBQUViO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7Ozs7SUFLcUJBLEc7Ozs7OzRCQWVIQyxjLEVBQWdCQyxtQixFQUFxQkMsTyxFQUFTO0FBQzVELGFBQU8sSUFBSUgsR0FBSixDQUFRQyxjQUFSLEVBQXdCQyxtQkFBeEIsRUFBNkNDLE9BQTdDLENBQVA7QUFDRDtBQUVEOzs7Ozs7Ozs7QUFNQSxlQUFhRixjQUFiLEVBQTZCQyxtQkFBN0IsRUFBZ0U7QUFBQTs7QUFBQSxRQUFkQyxPQUFjLHVFQUFKLEVBQUk7O0FBQUE7O0FBQUEsZ0RBd0gzQyxZQUFNO0FBQ3pCLFVBQUlDLE1BQU0sQ0FBQ0MsU0FBUCxDQUFpQkMsTUFBckIsRUFBNkI7QUFDM0IsYUFBSSxDQUFDQyxNQUFMLENBQVlDLEtBQVosQ0FBa0IsZ0JBQWxCOztBQUNBLFlBQUksS0FBSSxDQUFD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cy9pb3YvSW92LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXVpZHY0IGZyb20gJ3V1aWQvdjQnO1xuXG5pbXBvcnQgTG9nZ2VyIGZyb20gJy4uL3V0aWxzL2xvZ2dlcic7XG5pbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMnO1xuXG5pbXBvcnQgSW92UGxheWVyIGZyb20gJy4vSW92UGxheWVyJztcbmltcG9ydCBTdHJlYW1Db25maWd1cmF0aW9uIGZyb20gJy4vU3RyZWFtQ29uZmlndXJhdGlvbic7XG5cbi8qKlxuICogSW50ZXJuZXQgb2YgVmlkZW8gY2xpZW50LiBUaGlzIG1vZHVsZSB1c2VzIHRoZSBNZWRpYVNvdXJjZSBBUEkgdG9cbiAqIGRlbGl2ZXIgdmlkZW8gY29udGVudCBzdHJlYW1lZCB0aHJvdWdoIE1RVFQgZnJvbSBkaXN0cmlidXRlZCBzb3VyY2VzLlxuICovXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIElvdiB7XG4gIHN0YXRpYyBDT05ORUNUSU9OX0NIQU5HRV9QTEFZX0RFTEFZID0gMjtcbiAgc3RhdGljIFZJU0lCSUxJVFlfQ0hBTkdFX1NUT1BfREVMQVkgPSAxO1xuICBzdGF0aWMgU0hPV19ORVhUX1ZJREVPX0RFTEFZID0gMC4yNTtcblxuICBzdGF0aWMgRVZFTlRfTkFNRVMgPSBbXG4gICAgJ21ldHJpYycsXG4gICAgJ3Vuc3VwcG9ydGVkTWltZUNvZGVjJyxcbiAgICAnZmlyc3RGcmFtZVNob3duJyxcbiAgICAndmlkZW9SZWNlaXZlZCcsXG4gICAgJ3ZpZGVvSW5mb1JlY2VpdmVkJyxcbiAgXTtcblxuICBzdGF0aWMgTUVUUklDX1RZUEVTID0gW107XG5cbiAgc3RhdGljIGZhY3RvcnkgKHZpZGVvRWxlbWVudElkLCBzdHJlYW1Db25maWd1cmF0aW9uLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBJb3YodmlkZW9FbGVtZW50SWQsIHN0cmVhbUNvbmZpZ3VyYXRpb24sIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB2aWRlb0VsZW1lbnRJZFxuICAgKiBAcGFyYW0ge1N0cmVhbUNvbmZpZ3VyYXRpb258U3RyaW5nfSBzdHJlYW1Db25maWd1cmF0aW9uXG4gICAqICAgVGhlIHN0cmVhbSBjb25maWd1cmF0aW9uIG9yIHVybCBvZiB0aGUgc3RyZWFtXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICovXG4gIGNvbnN0cnVjdG9yICh2aWRlb0VsZW1lbnRJZCwgc3RyZWFtQ29uZmlndXJhdGlvbiwgb3B0aW9ucyA9IHt9KSB7XG4gICAgaWYgKCF1dGlscy5zdXBwb3J0ZWQoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3UgYXJlIHVzaW5nIGFuIHVuc3VwcG9ydGVkIGJyb3dzZXIgLSBVbmFibGUgdG8gcGxheSBDTFNQIHZpZGVvJyk7XG4gICAgfVxuXG4gICAgaWYgKCF2aWRlb0VsZW1lbnRJZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCd2aWRlb0VsZW1lbnRJZCBpcyByZXF1aXJlZCB0byBjb25zdHJ1Y3QgYW4gSW92Jyk7XG4gICAgfVxuXG4gICAgaWYgKCFTdHJlYW1Db25maWd1cmF0aW9uLmlzU3RyZWFtQ29uZmlndXJhdGlvbihzdHJlYW1Db25maWd1cmF0aW9uKSkge1xuICAgICAgc3RyZWFtQ29uZmlndXJhdGlvbiA9IFN0cmVhbUNvbmZpZ3VyYXRpb24uZnJvbVVybChzdHJlYW1Db25maWd1cmF0aW9uKTtcbiAgICB9XG5cbiAgICBpZiAoIVN0cmVhbUNvbmZpZ3VyYXRpb24uaXNTdHJlYW1Db25maWd1cmF0aW9uKHN0cmVhbUNvbmZpZ3VyYXRpb24pKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgc3RyZWFtQ29uZmlndXJhdGlvbiBwYXNzZWQgdG8gaW92IGNvbnN0cnVjdG9yJyk7XG4gICAgfVxuXG4gICAgLy8gVGhpcyBzaG91bGQgYmUgdW5pcXVlIC0gaXQgaXMgb25seSB1c2VkIGZvciBsb2dnaW5nXG4gICAgdGhpcy5pZCA9IG9wdGlvbnMuaWQgfHwgdXVpZHY0KCk7XG5cbiAgICB0aGlzLnN0cmVhbUNvbmZpZ3VyYXRpb24gPSBzdHJlYW1Db25maWd1cmF0aW9uO1xuXG4gICAgdGhpcy5sb2dnZXIgPSBMb2dnZXIoKS5mYWN0b3J5KGBJb3YgJHt0aGlzLmlkfWApO1xuICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdDb25zdHJ1Y3RpbmcuLi4nKTtcblxuICAgIHRoaXMubWV0cmljcyA9IHt9O1xuXG4gICAgLy8gQHRvZG8gLSB0aGVyZSBtdXN0IGJlIGEgbW9yZSBwcm9wZXIgd2F5IHRvIGRvIGV2ZW50cyB0aGFuIHRoaXMuLi5cbiAgICB0aGlzLmV2ZW50cyA9IHt9O1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBJb3YuRVZFTlRfTkFNRVMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuZXZlbnRzW0lvdi5FVkVOVF9OQU1FU1tpXV0gPSBbXTtcbiAgICB9XG5cbiAgICB0aGlzLmRlc3Ryb3llZCA9IGZhbHNlO1xuICAgIHRoaXMub25SZWFkeUFscmVhZHlDYWxsZWQgPSBmYWxzZTtcbiAgICB0aGlzLnZpZGVvRWxlbWVudElkID0gdmlkZW9FbGVtZW50SWQ7XG4gICAgdGhpcy52aWRlb0VsZW1lbnRQYXJlbnQgPSBudWxsO1xuICAgIHRoaXMuaW92UGxheWVyQ291bnQgPSAwO1xuXG4gICAgY29uc3Qge1xuICAgICAgdmlzaWJpbGl0eUNoYW5nZUV2ZW50TmFtZSxcbiAgICB9ID0gdXRpbHMud2luZG93U3RhdGVOYW1lcztcblxuICAgIGlmICh2aXNpYmlsaXR5Q2hhbmdlRXZlbnROYW1lKSB7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICB2aXNpYmlsaXR5Q2hhbmdlRXZlbnROYW1lLFxuICAgICAgICB0aGlzLm9uVmlzaWJpbGl0eUNoYW5nZSxcbiAgICAgICAgZmFsc2VcbiAgICAgICk7XG4gICAgfVxuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAnb25saW5lJyxcbiAgICAgIHRoaXMub25Db25uZWN0aW9uQ2hhbmdlLFxuICAgICAgZmFsc2VcbiAgICApO1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAnb2ZmbGluZScsXG4gICAgICB0aGlzLm9uQ29ubmVjdGlvbkNoYW5nZSxcbiAgICAgIGZhbHNlXG4gICAgKTtcbiAgfVxuXG4gIG9uIChuYW1lLCBhY3Rpb24pIHtcbiAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhgUmVnaXN0ZXJpbmcgTGlzdGVuZXIgZm9yICR7bmFtZX0gZXZlbnQuLi5gKTtcblxuICAgIGlmICghSW92LkVWRU5UX05BTUVTLmluY2x1ZGVzKG5hbWUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFwiJHtuYW1lfVwiIGlzIG5vdCBhIHZhbGlkIGV2ZW50LlwiYCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZGVzdHJveWVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5ldmVudHNbbmFtZV0ucHVzaChhY3Rpb24pO1xuICB9XG5cbiAgdHJpZ2dlciAobmFtZSwgdmFsdWUpIHtcbiAgICBjb25zdCBzaWxseU1ldHJpY3MgPSBbXTtcblxuICAgIGlmIChzaWxseU1ldHJpY3MuaW5jbHVkZXMobmFtZSkpIHtcbiAgICAgIHRoaXMubG9nZ2VyLnNpbGx5KGBUcmlnZ2VyaW5nICR7bmFtZX0gZXZlbnQuLi5gKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhgVHJpZ2dlcmluZyAke25hbWV9IGV2ZW50Li4uYCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZGVzdHJveWVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFJb3YuRVZFTlRfTkFNRVMuaW5jbHVkZXMobmFtZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgXCIke25hbWV9XCIgaXMgbm90IGEgdmFsaWQgZXZlbnQuXCJgKTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZXZlbnRzW25hbWVdLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLmV2ZW50c1tuYW1lXVtpXSh2YWx1ZSwgdGhpcyk7XG4gICAgfVxuICB9XG5cbiAgbWV0cmljICh0eXBlLCB2YWx1ZSkge1xuICAgIGlmICghdGhpcy5vcHRpb25zLmVuYWJsZU1ldHJpY3MpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIUlvdi5NRVRSSUNfVFlQRVMuaW5jbHVkZXModHlwZSkpIHtcbiAgICAgIC8vIEB0b2RvIC0gc2hvdWxkIHRoaXMgdGhyb3c/XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5tZXRyaWNzW3R5cGVdID0gdmFsdWU7XG5cbiAgICB0aGlzLnRyaWdnZXIoJ21ldHJpYycsIHtcbiAgICAgIHR5cGUsXG4gICAgICB2YWx1ZTogdGhpcy5tZXRyaWNzW3R5cGVdLFxuICAgIH0pO1xuICB9XG5cbiAgb25Db25uZWN0aW9uQ2hhbmdlID0gKCkgPT4ge1xuICAgIGlmICh3aW5kb3cubmF2aWdhdG9yLm9uTGluZSkge1xuICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ0JhY2sgb25saW5lLi4uJyk7XG4gICAgICBpZiAodGhpcy5pb3ZQbGF5ZXIuc3RvcHBlZCkge1xuICAgICAgICAvLyBXaXRob3V0IHRoaXMgdGltZW91dCwgdGhlIHZpZGVvIGFwcGVhcnMgYmxhbmsuICBOb3Qgc3VyZSBpZiB0aGVyZSBpc1xuICAgICAgICAvLyBzb21lIHJhY2UgY29uZGl0aW9uLi4uXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMucGxheSgpO1xuICAgICAgICB9LCBJb3YuQ09OTkVDVElPTl9DSEFOR0VfUExBWV9ERUxBWSAqIDEwMDApO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdPZmZsaW5lIScpO1xuICAgICAgdGhpcy5zdG9wKCk7XG4gICAgfVxuICB9O1xuXG4gIG9uVmlzaWJpbGl0eUNoYW5nZSA9ICgpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBoaWRkZW5TdGF0ZU5hbWUsXG4gICAgfSA9IHV0aWxzLndpbmRvd1N0YXRlTmFtZXM7XG5cbiAgICBpZiAoZG9jdW1lbnRbaGlkZGVuU3RhdGVOYW1lXSkge1xuICAgICAgLy8gU3RvcCBwbGF5aW5nIHdoZW4gdGFiIGlzIGhpZGRlbiBvciB3aW5kb3cgaXMgbWluaW1pemVkXG4gICAgICB0aGlzLnZpc2liaWxpdHlDaGFuZ2VUaW1lb3V0ID0gc2V0VGltZW91dChhc3luYyAoKSA9PiB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdTdG9wcGluZyBiZWNhdXNlIHRhYiBpcyBub3QgdmlzaWJsZS4uLicpO1xuICAgICAgICBhd2FpdCB0aGlzLnN0b3AoKTtcbiAgICAgIH0sIElvdi5WSVNJQklMSVRZX0NIQU5HRV9TVE9QX0RFTEFZICogMTAwMCk7XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy52aXNpYmlsaXR5Q2hhbmdlVGltZW91dCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudmlzaWJpbGl0eUNoYW5nZVRpbWVvdXQpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmlvdlBsYXllci5zdG9wcGVkKSB7XG4gICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnUGxheWluZyBiZWNhdXNlIHRhYiBiZWNhbWUgdmlzaWJsZS4uLicpO1xuICAgICAgdGhpcy5wbGF5KCk7XG4gICAgfVxuICB9O1xuXG4gIF9wcmVwYXJlVmlkZW9FbGVtZW50ICgpIHtcbiAgICBjb25zdCB2aWRlb0VsZW1lbnQgPSB3aW5kb3cuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy52aWRlb0VsZW1lbnRJZCk7XG5cbiAgICAvLyBJZiB3ZSBoYXZlIG5vIGVsZW1lbnRzIHRvIHdvcmsgd2l0aCwgdGhyb3cgYW4gZXJyb3JcbiAgICBpZiAoIXZpZGVvRWxlbWVudCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gZmluZCBhbiBlbGVtZW50IGluIHRoZSBET00gd2l0aCBpZCBcIiR7dGhpcy52aWRlb0VsZW1lbnRJZH1cIi5gKTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMudmlkZW9FbGVtZW50UGFyZW50KSB7XG4gICAgICB2aWRlb0VsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIHRoaXMudmlkZW9FbGVtZW50UGFyZW50ID0gdmlkZW9FbGVtZW50LnBhcmVudE5vZGU7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLnZpZGVvRWxlbWVudFBhcmVudCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGVyZSBpcyBubyBpZnJhbWUgY29udGFpbmVyIGVsZW1lbnQgdG8gYXR0YWNoIHRoZSBpZnJhbWUgdG8hJyk7XG4gICAgfVxuXG4gICAgdGhpcy52aWRlb0VsZW1lbnRQYXJlbnQuY2xhc3NMaXN0LmFkZCgnY2xzcC12aWRlby1jb250YWluZXInKTtcblxuICAgIGNvbnN0IGNsc3BWaWRlb0VsZW1lbnQgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKTtcbiAgICBjbHNwVmlkZW9FbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2Nsc3AtdmlkZW8nKTtcbiAgICBjbHNwVmlkZW9FbGVtZW50Lm11dGVkID0gdHJ1ZTtcblxuICAgIC8vIEB0b2RvIC0gaXMgaXQgb2sgdGhhdCB0aGUgbW9zdCByZWNlbnQgdmlkZW8gaXMgYWx3YXlzIGZpcnN0PyAgd2hhdCBhYm91dFxuICAgIC8vIHRoZSBzcGlubmVyIG9yIHRoZSBub3Qtc3VwcG9ydGVkIHRleHRcbiAgICB0aGlzLnZpZGVvRWxlbWVudFBhcmVudC5pbnNlcnRCZWZvcmUoY2xzcFZpZGVvRWxlbWVudCwgdGhpcy52aWRlb0VsZW1lbnRQYXJlbnQuY2hpbGROb2Rlc1swXSk7XG5cbiAgICByZXR1cm4gY2xzcFZpZGVvRWxlbWVudDtcbiAgfVxuXG4gIF9yZWdpc3RlclBsYXllckxpc3RlbmVycyAoaW92UGxheWVyKSB7XG4gICAgLy8gQHRvZG8gLSB0aGlzIHNlZW1zIHRvIGJlIHZpZGVvanMgc3BlY2lmaWMsIGFuZCBzaG91bGQgYmUgcmVtb3ZlZCBvciBtb3ZlZFxuICAgIC8vIHNvbWV3aGVyZSBlbHNlXG4gICAgaW92UGxheWVyLm9uKCdmaXJzdEZyYW1lU2hvd24nLCAoKSA9PiB7XG4gICAgICB0aGlzLnRyaWdnZXIoJ2ZpcnN0RnJhbWVTaG93bicpO1xuICAgIH0pO1xuXG4gICAgaW92UGxheWVyLm9uKCd2aWRlb1JlY2VpdmVkJywgKCkgPT4ge1xuICAgICAgdGhpcy50cmlnZ2VyKCd2aWRlb1JlY2VpdmVkJyk7XG4gICAgfSk7XG5cbiAgICBpb3ZQbGF5ZXIub24oJ3ZpZGVvSW5mb1JlY2VpdmVkJywgKCkgPT4ge1xuICAgICAgdGhpcy50cmlnZ2VyKCd2aWRlb0luZm9SZWNlaXZlZCcpO1xuICAgIH0pO1xuICB9XG5cbiAgZ2VuZXJhdGVQbGF5ZXJMb2dJZCAoKSB7XG4gICAgcmV0dXJuIGBpb3Y6JHt0aGlzLmlkfS5wbGF5ZXI6JHsrK3RoaXMuaW92UGxheWVyQ291bnR9YDtcbiAgfVxuXG4gIGFzeW5jIGluaXRpYWxpemUgKCkge1xuICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdJbml0aWFsaXppbmcuLi4nKTtcblxuICAgIGNvbnN0IGNsc3BWaWRlb0VsZW1lbnQgPSB0aGlzLl9wcmVwYXJlVmlkZW9FbGVtZW50KCk7XG4gICAgY29uc3QgaW92UGxheWVyID0gSW92UGxheWVyLmZhY3RvcnkoXG4gICAgICB0aGlzLmdlbmVyYXRlUGxheWVyTG9nSWQoKSxcbiAgICAgIGNsc3BWaWRlb0VsZW1lbnQsXG4gICAgICAoKSA9PiB0aGlzLmNoYW5nZVNyYyh0aGlzLnN0cmVhbUNvbmZpZ3VyYXRpb24pXG4gICAgKTtcblxuICAgIHRoaXMuX3JlZ2lzdGVyUGxheWVyTGlzdGVuZXJzKGlvdlBsYXllcik7XG5cbiAgICBhd2FpdCBpb3ZQbGF5ZXIuaW5pdGlhbGl6ZSh0aGlzLnN0cmVhbUNvbmZpZ3VyYXRpb24pO1xuXG4gICAgdGhpcy5pb3ZQbGF5ZXIgPSBpb3ZQbGF5ZXI7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtTdHJlYW1Db25maWd1cmF0aW9ufFN0cmluZ30gdXJsXG4gICAqICAgVGhlIFN0cmVhbUNvbmZpZ3VyYXRpb24gb3IgdXJsIG9mIHRoZSBuZXcgc3RyZWFtXG4gICAqL1xuICBhc3luYyBjaGFuZ2VTcmMgKHVybCkge1xuICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdDaGFuZ2luZyBTdHJlYW0uLi4nKTtcblxuICAgIGlmICghdXJsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3VybCBpcyByZXF1aXJlZCB0byBjaGFuZ2VTcmMnKTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuaW92UGxheWVyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0lvdlBsYXllciBtdXN0IGJlIGluaXRpYWxpemVkIGJlZm9yZSBjYWxsaW5nIGNoYW5nZVNyYycpO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSB0aGUgY2FzZSBvZiBtdWx0aXBsZSBjaGFuZ2VTcmMgcmVxdWVzdHMuICBPbmx5IGNoYW5nZSB0byB0aGUgbGFzdFxuICAgIC8vIHN0cmVhbSB0aGF0IHdhcyByZXF1ZXN0ZWRcbiAgICBpZiAodGhpcy5wZW5kaW5nQ2hhbmdlU3JjSW92UGxheWVyKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5jaGFuZ2VTcmNUaW1lb3V0KTtcbiAgICAgIHRoaXMuY2hhbmdlU3JjVGltZW91dCA9IG51bGw7XG5cbiAgICAgIC8vIEB0b2RvIC0gc2hvdWxkIHdlIGF3YWl0IHRoaXM/XG4gICAgICB0aGlzLnBlbmRpbmdDaGFuZ2VTcmNJb3ZQbGF5ZXIuZGVzdHJveSgpO1xuICAgICAgdGhpcy5wZW5kaW5nQ2hhbmdlU3JjSW92UGxheWVyID0gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCBjbHNwVmlkZW9FbGVtZW50ID0gdGhpcy5fcHJlcGFyZVZpZGVvRWxlbWVudCgpO1xuICAgIGNvbnN0IGlvdlBsYXllciA9IElvdlBsYXllci5mYWN0b3J5KFxuICAgICAgdGhpcy5nZW5lcmF0ZVBsYXllckxvZ0lkKCksXG4gICAgICBjbHNwVmlkZW9FbGVtZW50LFxuICAgICAgKCkgPT4gdGhpcy5jaGFuZ2VTcmModGhpcy5zdHJlYW1Db25maWd1cmF0aW9uKVxuICAgICk7XG5cbiAgICB0aGlzLnBlbmRpbmdDaGFuZ2VTcmNJb3ZQbGF5ZXIgPSBpb3ZQbGF5ZXI7XG5cbiAgICB0aGlzLl9yZWdpc3RlclBsYXllckxpc3RlbmVycyhpb3ZQbGF5ZXIpO1xuXG4gICAgY29uc3Qgc3RyZWFtQ29uZmlndXJhdGlvbiA9IFN0cmVhbUNvbmZpZ3VyYXRpb24uaXNTdHJlYW1Db25maWd1cmF0aW9uKHVybClcbiAgICAgID8gdXJsXG4gICAgICA6IFN0cmVhbUNvbmZpZ3VyYXRpb24uZnJvbVVybCh1cmwpO1xuXG4gICAgYXdhaXQgaW92UGxheWVyLmluaXRpYWxpemUoc3RyZWFtQ29uZmlndXJhdGlvbik7XG5cbiAgICBjb25zdCBmaXJzdEZyYW1lUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGlvdlBsYXllci5vbignZmlyc3RGcmFtZVNob3duJywgKCkgPT4ge1xuICAgICAgICB0aGlzLmNoYW5nZVNyY1RpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnRGVzdHJveWluZyBvbGQgcGxheWVyLi4uJyk7XG5cbiAgICAgICAgICBpZiAodGhpcy5pb3ZQbGF5ZXIpIHtcbiAgICAgICAgICAgIC8vIGFzeW5jLCBidXQgd2UgZG9uJ3QgbmVlZCB0byB3YWl0IGZvciBpdFxuICAgICAgICAgICAgdGhpcy5pb3ZQbGF5ZXIuZGVzdHJveSgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMuaW92UGxheWVyID0gaW92UGxheWVyO1xuICAgICAgICAgIHRoaXMuc3RyZWFtQ29uZmlndXJhdGlvbiA9IHN0cmVhbUNvbmZpZ3VyYXRpb247XG5cbiAgICAgICAgICB0aGlzLmNoYW5nZVNyY1RpbWVvdXQgPSBudWxsO1xuICAgICAgICAgIHRoaXMucGVuZGluZ0NoYW5nZVNyY0lvdlBsYXllciA9IGZhbHNlO1xuXG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9LCBJb3YuU0hPV19ORVhUX1ZJREVPX0RFTEFZICogMTAwMCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8vIEB0b2RvIC0gc2hvdWxkIHRoZSBwbGF5IG1ldGhvZCBvbmx5IHJlc29sdmUgb25jZSB0aGUgZmlyc3QgZnJhbWUgaGFzXG4gICAgLy8gYmVlbiBzaG93bj8gIHJpZ2h0IG5vdyBpdCByZXNvbHZlcyBvbiBmaXJzdCBtb29mIHJlY2V2aWVkXG4gICAgYXdhaXQgdGhpcy5wbGF5KGlvdlBsYXllcik7XG5cbiAgICByZXR1cm4gZmlyc3RGcmFtZVByb21pc2U7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtTdHJlYW1Db25maWd1cmF0aW9ufHVybH0gc3RyZWFtQ29uZmlndXJhdGlvblxuICAgKiAgIFRoZSBTdHJlYW1Db25maWd1cmF0aW9uIG9yIHVybCBvZiB0aGUgc3RyZWFtIHRvIHVzZSB3aXRoIHRoZSBjbG9uZWRcbiAgICogICBwbGF5ZXJcbiAgICovXG4gIGNsb25lIChzdHJlYW1Db25maWd1cmF0aW9uID0gdGhpcy5zdHJlYW1Db25maWd1cmF0aW9uKSB7XG4gICAgdGhpcy5sb2dnZXIuZGVidWcoJ2Nsb25lJyk7XG5cbiAgICBjb25zdCBuZXdTdHJlYW1Db25maWd1cmF0aW9uID0gU3RyZWFtQ29uZmlndXJhdGlvbi5pc1N0cmVhbUNvbmZpZ3VyYXRpb24oc3RyZWFtQ29uZmlndXJhdGlvbilcbiAgICAgID8gc3RyZWFtQ29uZmlndXJhdGlvbi5jbG9uZSgpXG4gICAgICA6IFN0cmVhbUNvbmZpZ3VyYXRpb24uZnJvbVVybChzdHJlYW1Db25maWd1cmF0aW9uKTtcblxuICAgIC8vIEB0b2RvIC0gaXMgaXQgcG9zc2libGUgdG8gcmV1c2UgdGhlIGlvdiBwbGF5ZXI/XG4gICAgcmV0dXJuIElvdi5mYWN0b3J5KHRoaXMudmlkZW9FbGVtZW50LCBuZXdTdHJlYW1Db25maWd1cmF0aW9uKTtcbiAgfVxuXG4gIGFzeW5jIHBsYXkgKGlvdlBsYXllciA9IHRoaXMuaW92UGxheWVyKSB7XG4gICAgdGhpcy5sb2dnZXIuZGVidWcoJ1BsYXknKTtcblxuICAgIHRyeSB7XG4gICAgICBhd2FpdCBpb3ZQbGF5ZXIucGxheSgpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdQbGF5IGVycm9yIC0gZGVzdHJveWluZycpO1xuICAgICAgLy8gQHRvZG8gLSBkaXNwbGF5IGEgbWVzc2FnZSBpbiB0aGUgcGFnZSBzYXlpbmcgdGhhdCB0aGUgc3RyZWFtIGNvdWxkbid0XG4gICAgICAvLyBiZSBwbGF5ZWRcbiAgICAgIGF3YWl0IGlvdlBsYXllci5kZXN0cm95KCk7XG5cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHN0b3AgKGlvdlBsYXllciA9IHRoaXMuaW92UGxheWVyKSB7XG4gICAgdGhpcy5sb2dnZXIuZGVidWcoJ1N0b3AnKTtcbiAgICBhd2FpdCBpb3ZQbGF5ZXIuc3RvcCgpO1xuICB9XG5cbiAgYXN5bmMgcmVzdGFydCAoaW92UGxheWVyID0gdGhpcy5pb3ZQbGF5ZXIpIHtcbiAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnUmVzdGFydCcpO1xuICAgIGF3YWl0IGlvdlBsYXllci5yZXN0YXJ0KCk7XG4gIH1cblxuICBlbnRlckZ1bGxzY3JlZW4gKGlvdlBsYXllciA9IHRoaXMuaW92UGxheWVyKSB7XG4gICAgdGhpcy5sb2dnZXIuZGVidWcoJ0VudGVyIGZ1bGxzY3JlZW4nKTtcbiAgICBpb3ZQbGF5ZXIuZW50ZXJGdWxsc2NyZWVuKCk7XG4gIH1cblxuICBleGl0RnVsbHNjcmVlbiAoaW92UGxheWVyID0gdGhpcy5pb3ZQbGF5ZXIpIHtcbiAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnRXhpdCBmdWxsc2NyZWVuJyk7XG4gICAgaW92UGxheWVyLmV4aXRGdWxsc2NyZWVuKCk7XG4gIH1cblxuICB0b2dnbGVGdWxsc2NyZWVuIChpb3ZQbGF5ZXIgPSB0aGlzLmlvdlBsYXllcikge1xuICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdUb2dnbGUgZnVsbHNjcmVlbicpO1xuICAgIGlvdlBsYXllci50b2dnbGVGdWxsc2NyZWVuKCk7XG4gIH1cblxuICAvKipcbiAgICogRGVyZWZlcmVuY2UgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzLCBjbGVhciBhbnkgaW50ZXJ2YWxzIGFuZCB0aW1lb3V0cywgYW5kXG4gICAqIHJlbW92ZSBhbnkgbGlzdGVuZXJzLiAgV2lsbCBhbHNvIGRlc3Ryb3kgdGhlIHBsYXllci5cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2V9XG4gICAqL1xuICBkZXN0cm95ICgpIHtcbiAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnZGVzdHJveScpO1xuXG4gICAgaWYgKHRoaXMuZGVzdHJveWVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5kZXN0cm95ZWQgPSB0cnVlO1xuXG4gICAgY29uc3Qge1xuICAgICAgdmlzaWJpbGl0eUNoYW5nZUV2ZW50TmFtZSxcbiAgICB9ID0gdXRpbHMud2luZG93U3RhdGVOYW1lcztcblxuICAgIGlmICh2aXNpYmlsaXR5Q2hhbmdlRXZlbnROYW1lKSB7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHZpc2liaWxpdHlDaGFuZ2VFdmVudE5hbWUsIHRoaXMub25WaXNpYmlsaXR5Q2hhbmdlKTtcbiAgICB9XG5cbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignb25saW5lJywgdGhpcy5vbkNvbm5lY3Rpb25DaGFuZ2UpO1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdvZmZsaW5lJywgdGhpcy5vbkNvbm5lY3Rpb25DaGFuZ2UpO1xuXG4gICAgY29uc3QgaW92UGxheWVyRGVzdHJveVByb21pc2UgPSB0aGlzLmlvdlBsYXllclxuICAgICAgPyB0aGlzLmlvdlBsYXllci5kZXN0cm95KClcbiAgICAgIDogUHJvbWlzZS5yZXNvbHZlKCk7XG5cbiAgICB0aGlzLmlvdlBsYXllciA9IG51bGw7XG4gICAgdGhpcy5zdHJlYW1Db25maWd1cmF0aW9uID0gbnVsbDtcblxuICAgIHRoaXMudmlkZW9FbGVtZW50ID0gbnVsbDtcbiAgICB0aGlzLnZpZGVvRWxlbWVudFBhcmVudCA9IG51bGw7XG5cbiAgICB0aGlzLmV2ZW50cyA9IG51bGw7XG4gICAgdGhpcy5tZXRyaWNzID0gbnVsbDtcblxuICAgIHJldHVybiBpb3ZQbGF5ZXJEZXN0cm95UHJvbWlzZTtcbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/iov/Iov.js\n");

/***/ }),

/***/ "./src/js/iov/IovCollection.js":
/*!*************************************!*\
  !*** ./src/js/iov/IovCollection.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return IovCollection; });\n/* harmony import */ var _Iov__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Iov */ \"./src/js/iov/Iov.js\");\n/* harmony import */ var _utils_logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/logger */ \"./src/js/utils/logger.js\");\n\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n // @todo - this could cause an overflow!\n\nvar totalIovCount = 0;\nvar collection;\n/**\n * The Iov Collection is meant to be a singleton, and is meant to manage all\n * Iovs in a given browser window/document.  There are certain centralized\n * functions it is meant to perform, such as generating the guids that are\n * needed to establish a connection to a unique topic on the SFS, and to listen\n * to window messages and route the relevant messages to the appropriate Iov\n * instance.\n */\n\nvar IovCollection =\n/*#__PURE__*/\nfunction () {\n  _createClass(IovCollection, null, [{\n    key: \"asSingleton\",\n    value: function asSingleton() {\n      if (!collection) {\n        collection = IovCollection.factory();\n      }\n\n      return collection;\n    }\n  }, {\n    key: \"factory\",\n    value: function factory() {\n      return new IovCollection();\n    }\n    /**\n     * @private\n     */\n\n  }]);\n\n  function IovCollection() {\n    _classCallCheck(this, IovCollection);\n\n    this.logger = Object(_utils_logger__WEBPACK_IMPORTED_MODULE_1__[\"default\"])().factory('IovCollection');\n    this.logger.debug('Constructing...');\n    this.iovs = {};\n  }\n  /**\n   * Create an Iov for a specific stream, and add it to this collection.\n   *\n   * @param {String} url\n   *   The url to the clsp stream\n   * @param {DOMNode} videoElementId\n   *   The id of the video element that will serve as the video player in the\n   *   DOM\n   *\n   * @returns {Iov}\n   */\n\n\n  _createClass(IovCollection, [{\n    key: \"create\",\n    value: function () {\n      var _create = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee(videoElementId, url) {\n        var iov;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                iov = _Iov__WEBPACK_IMPORTED_MODULE_0__[\"default\"].factory(videoElementId, url, {\n                  id: (++totalIovCount).toString()\n                });\n                this.add(iov);\n                _context.next = 4;\n                return iov.initialize();\n\n              case 4:\n                return _context.abrupt(\"return\", iov);\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function create(_x, _x2) {\n        return _create.apply(this, arguments);\n      }\n\n      return create;\n    }()\n    /**\n     * Add an Iov instance to this collection.  It can then be accessed by its id.\n     *\n     * @param {Iov} iov\n     *   The iov instance to add\n     *\n     * @returns {this}\n     */\n\n  }, {\n    key: \"add\",\n    value: function add(iov) {\n      var id = iov.id;\n      this.iovs[id] = iov;\n      return this;\n    }\n    /**\n     * Determine whether or not an iov with the passed id exists in this\n     * collection.\n     *\n     * @param {String} id\n     *   The id of the iov to find\n     *\n     * @returns {Boolean}\n     *   True if the iov with the given id exists\n     *   False if the iov with the given id does not exist\n     */\n\n  }, {\n    key: \"has\",\n    value: function has(id) {\n      return this.iovs.hasOwnProperty(id);\n    }\n    /**\n     * Get an iov with the passed id from this collection.\n     *\n     * @param {String} id\n     *   The id of the iov instance to get\n     *\n     * @returns {Iov|undefined}\n     *   If an iov with this id doest not exist, undefined is returned.\n     */\n\n  }, {\n    key: \"get\",\n    value: function get(id) {\n      return this.iovs[id];\n    }\n    /**\n     * Remove an iov instance from this collection and destroy it.\n     *\n     * @param {String} id\n     *   The id of the iov to remove and destroy\n     *\n     * @returns {this}\n     */\n\n  }, {\n    key: \"remove\",\n    value: function remove(id) {\n      var iov = this.get(id);\n\n      if (!iov) {\n        return;\n      }\n\n      delete this.iovs[id];\n      iov.destroy();\n      return this;\n    }\n    /**\n     * Destroy this collection and destroy all iov instances in this collection.\n     *\n     * @returns {void}\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this.destroyed) {\n        return;\n      }\n\n      this.destroyed = true;\n      window.removeEventListener('message', this._onWindowMessage);\n\n      for (var id in this.iovs) {\n        this.remove(id);\n      }\n\n      this.iovs = null;\n    }\n  }]);\n\n  return IovCollection;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvaW92L0lvdkNvbGxlY3Rpb24uanM/ZTUxOCJdLCJuYW1lcyI6WyJ0b3RhbElvdkNvdW50IiwiY29sbGVjdGlvbiIsIklvdkNvbGxlY3Rpb24iLCJmYWN0b3J5IiwibG9nZ2VyIiwiTG9nZ2VyIiwiZGVidWciLCJpb3ZzIiwidmlkZW9FbGVtZW50SWQiLCJ1cmwiLCJpb3YiLCJJb3YiLCJpZCIsInRvU3RyaW5nIiwiYWRkIiwiaW5pdGlhbGl6ZSIsImhhc093blByb3BlcnR5IiwiZ2V0IiwiZGVzdHJveSIsImRlc3Ryb3llZCIsIndpbmRvdyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJfb25XaW5kb3dNZXNzYWdlIiwicmVtb3ZlIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFhOzs7Ozs7Ozs7Ozs7QUFFYjtDQUdBOztBQUNBLElBQUlBLGFBQWEsR0FBRyxDQUFwQjtBQUNBLElBQUlDLFVBQUo7QUFFQTs7Ozs7Ozs7O0lBUXFCQyxhOzs7OztrQ0FDRztBQUNwQixVQUFJLENBQUNELFVBQUwsRUFBaUI7QUFDZkEsa0JBQVUsR0FBR0MsYUFBYSxDQUFDQyxPQUFkLEVBQWI7QUFDRDs7QUFFRCxhQUFPRixVQUFQO0FBQ0Q7Ozs4QkFFaUI7QUFDaEIsYUFBTyxJQUFJQyxhQUFKLEVBQVA7QUFDRDtBQUVEOzs7Ozs7QUFHQSwyQkFBZTtBQUFBOztBQUNiLFNBQUtFLE1BQUwsR0FBY0MsNkRBQU0sR0FBR0YsT0FBVCxDQUFpQixlQUFqQixDQUFkO0FBQ0EsU0FBS0MsTUFBTCxDQUFZRSxLQUFaLENBQWtCLGlCQUFsQjtBQUVBLFNBQUtDLElBQUwsR0FBWSxFQUFaO0FBQ0Q7QUFFRDs7Ozs7Ozs7Ozs7Ozs7Ozs7OytDQVdjQyxjLEVBQWdCQyxHOzs7Ozs7QUFDdEJDLG1CLEdBQU1DLDRDQUFHLENBQUNSLE9BQUosQ0FDVkssY0FEVSxFQUVWQyxHQUZVLEVBR1Y7QUFDRUcsb0JBQUUsRUFBRSxDQUFDLEVBQUVaLGFBQUgsRUFBa0JhLFFBQWxCO0FBRE4saUJBSFUsQztBQVFaLHFCQUFLQyxHQUFMLENBQVNKLEdBQVQ7O3VCQUVNQSxHQUFHLENBQUNLLFVBQUosRTs7O2lEQUVDTCxHOzs7Ozs7Ozs7Ozs7Ozs7O0FBR1Q7Ozs7Ozs7Ozs7O3dCQVFLQSxHLEVBQUs7QUFDUixVQUFNRSxFQUFFLEdBQUdGLEdBQUcsQ0FBQ0UsRUFBZjtBQUVBLFdBQUtMLElBQUwsQ0FBVUssRUFBVixJQUFnQkYsR0FBaEI7QUFFQSxhQUFPLElBQVA7QUFDRDtBQUVEOzs7Ozs7Ozs7Ozs7Ozt3QkFXS0UsRSxFQUFJO0FBQ1AsYUFBTyxLQUFLTCxJQUFMLENBQVVTLGNBQVYsQ0FBeUJKLEVBQXpCLENBQVA7QUFDRDtBQUVEOzs7Ozs7Ozs7Ozs7d0JBU0tBLEUsRUFBSTtBQUNQLGFBQU8sS0FBS0wsSUFBTCxDQUFVSyxFQUFWLENBQVA7QUFDRDtBQUVEOzs7Ozs7Ozs7OzsyQkFRUUEsRSxFQUFJO0FBQ1YsVUFBTUYsR0FBRyxHQUFHLEtBQUtPLEdBQUwsQ0FBU0wsRUFBVCxDQUFaOztBQUVBLFVBQUksQ0FBQ0YsR0FBTCxFQUFVO0FBQ1I7QUFDRDs7QUFFRCxhQUFPLEtBQUtILElBQUwsQ0FBVUssRUFBVixDQUFQO0FBRUFGLFNBQUcsQ0FBQ1EsT0FBSjtBQUVBLGFBQU8sSUFBUDtBQUNEO0FBRUQ7Ozs7Ozs7OzhCQUtXO0FBQ1QsVUFBSSxLQUFLQyxTQUFULEVBQW9CO0FBQ2xCO0FBQ0Q7O0FBRUQsV0FBS0EsU0FBTCxHQUFpQixJQUFqQjtBQUVBQyxZQUFNLENBQUNDLG1CQUFQLENBQTJCLFNBQTNCLEVBQXNDLEtBQUtDLGdCQUEzQzs7QUFFQSxXQUFLLElBQUlWLEVBQVQsSUFBZSxLQUFLTCxJQUFwQixFQUEwQjtBQUN4QixhQUFLZ0IsTUFBTCxDQUFZWCxFQUFaO0FBQ0Q7O0FBRUQsV0FBS0wsSUFBTCxHQUFZLElBQVo7QUFDRCIsImZpbGUiOiIuL3NyYy9qcy9pb3YvSW92Q29sbGVjdGlvbi5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IElvdiBmcm9tICcuL0lvdic7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy4uL3V0aWxzL2xvZ2dlcic7XG5cbi8vIEB0b2RvIC0gdGhpcyBjb3VsZCBjYXVzZSBhbiBvdmVyZmxvdyFcbmxldCB0b3RhbElvdkNvdW50ID0gMDtcbmxldCBjb2xsZWN0aW9uO1xuXG4vKipcbiAqIFRoZSBJb3YgQ29sbGVjdGlvbiBpcyBtZWFudCB0byBiZSBhIHNpbmdsZXRvbiwgYW5kIGlzIG1lYW50IHRvIG1hbmFnZSBhbGxcbiAqIElvdnMgaW4gYSBnaXZlbiBicm93c2VyIHdpbmRvdy9kb2N1bWVudC4gIFRoZXJlIGFyZSBjZXJ0YWluIGNlbnRyYWxpemVkXG4gKiBmdW5jdGlvbnMgaXQgaXMgbWVhbnQgdG8gcGVyZm9ybSwgc3VjaCBhcyBnZW5lcmF0aW5nIHRoZSBndWlkcyB0aGF0IGFyZVxuICogbmVlZGVkIHRvIGVzdGFibGlzaCBhIGNvbm5lY3Rpb24gdG8gYSB1bmlxdWUgdG9waWMgb24gdGhlIFNGUywgYW5kIHRvIGxpc3RlblxuICogdG8gd2luZG93IG1lc3NhZ2VzIGFuZCByb3V0ZSB0aGUgcmVsZXZhbnQgbWVzc2FnZXMgdG8gdGhlIGFwcHJvcHJpYXRlIElvdlxuICogaW5zdGFuY2UuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIElvdkNvbGxlY3Rpb24ge1xuICBzdGF0aWMgYXNTaW5nbGV0b24gKCkge1xuICAgIGlmICghY29sbGVjdGlvbikge1xuICAgICAgY29sbGVjdGlvbiA9IElvdkNvbGxlY3Rpb24uZmFjdG9yeSgpO1xuICAgIH1cblxuICAgIHJldHVybiBjb2xsZWN0aW9uO1xuICB9XG5cbiAgc3RhdGljIGZhY3RvcnkgKCkge1xuICAgIHJldHVybiBuZXcgSW92Q29sbGVjdGlvbigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgdGhpcy5sb2dnZXIgPSBMb2dnZXIoKS5mYWN0b3J5KCdJb3ZDb2xsZWN0aW9uJyk7XG4gICAgdGhpcy5sb2dnZXIuZGVidWcoJ0NvbnN0cnVjdGluZy4uLicpO1xuXG4gICAgdGhpcy5pb3ZzID0ge307XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGFuIElvdiBmb3IgYSBzcGVjaWZpYyBzdHJlYW0sIGFuZCBhZGQgaXQgdG8gdGhpcyBjb2xsZWN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gdXJsXG4gICAqICAgVGhlIHVybCB0byB0aGUgY2xzcCBzdHJlYW1cbiAgICogQHBhcmFtIHtET01Ob2RlfSB2aWRlb0VsZW1lbnRJZFxuICAgKiAgIFRoZSBpZCBvZiB0aGUgdmlkZW8gZWxlbWVudCB0aGF0IHdpbGwgc2VydmUgYXMgdGhlIHZpZGVvIHBsYXllciBpbiB0aGVcbiAgICogICBET01cbiAgICpcbiAgICogQHJldHVybnMge0lvdn1cbiAgICovXG4gIGFzeW5jIGNyZWF0ZSAodmlkZW9FbGVtZW50SWQsIHVybCkge1xuICAgIGNvbnN0IGlvdiA9IElvdi5mYWN0b3J5KFxuICAgICAgdmlkZW9FbGVtZW50SWQsXG4gICAgICB1cmwsXG4gICAgICB7XG4gICAgICAgIGlkOiAoKyt0b3RhbElvdkNvdW50KS50b1N0cmluZygpLFxuICAgICAgfVxuICAgICk7XG5cbiAgICB0aGlzLmFkZChpb3YpO1xuXG4gICAgYXdhaXQgaW92LmluaXRpYWxpemUoKTtcblxuICAgIHJldHVybiBpb3Y7XG4gIH1cblxuICAvKipcbiAgICogQWRkIGFuIElvdiBpbnN0YW5jZSB0byB0aGlzIGNvbGxlY3Rpb24uICBJdCBjYW4gdGhlbiBiZSBhY2Nlc3NlZCBieSBpdHMgaWQuXG4gICAqXG4gICAqIEBwYXJhbSB7SW92fSBpb3ZcbiAgICogICBUaGUgaW92IGluc3RhbmNlIHRvIGFkZFxuICAgKlxuICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICovXG4gIGFkZCAoaW92KSB7XG4gICAgY29uc3QgaWQgPSBpb3YuaWQ7XG5cbiAgICB0aGlzLmlvdnNbaWRdID0gaW92O1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lIHdoZXRoZXIgb3Igbm90IGFuIGlvdiB3aXRoIHRoZSBwYXNzZWQgaWQgZXhpc3RzIGluIHRoaXNcbiAgICogY29sbGVjdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IGlkXG4gICAqICAgVGhlIGlkIG9mIHRoZSBpb3YgdG8gZmluZFxuICAgKlxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICogICBUcnVlIGlmIHRoZSBpb3Ygd2l0aCB0aGUgZ2l2ZW4gaWQgZXhpc3RzXG4gICAqICAgRmFsc2UgaWYgdGhlIGlvdiB3aXRoIHRoZSBnaXZlbiBpZCBkb2VzIG5vdCBleGlzdFxuICAgKi9cbiAgaGFzIChpZCkge1xuICAgIHJldHVybiB0aGlzLmlvdnMuaGFzT3duUHJvcGVydHkoaWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhbiBpb3Ygd2l0aCB0aGUgcGFzc2VkIGlkIGZyb20gdGhpcyBjb2xsZWN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gaWRcbiAgICogICBUaGUgaWQgb2YgdGhlIGlvdiBpbnN0YW5jZSB0byBnZXRcbiAgICpcbiAgICogQHJldHVybnMge0lvdnx1bmRlZmluZWR9XG4gICAqICAgSWYgYW4gaW92IHdpdGggdGhpcyBpZCBkb2VzdCBub3QgZXhpc3QsIHVuZGVmaW5lZCBpcyByZXR1cm5lZC5cbiAgICovXG4gIGdldCAoaWQpIHtcbiAgICByZXR1cm4gdGhpcy5pb3ZzW2lkXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYW4gaW92IGluc3RhbmNlIGZyb20gdGhpcyBjb2xsZWN0aW9uIGFuZCBkZXN0cm95IGl0LlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gaWRcbiAgICogICBUaGUgaWQgb2YgdGhlIGlvdiB0byByZW1vdmUgYW5kIGRlc3Ryb3lcbiAgICpcbiAgICogQHJldHVybnMge3RoaXN9XG4gICAqL1xuICByZW1vdmUgKGlkKSB7XG4gICAgY29uc3QgaW92ID0gdGhpcy5nZXQoaWQpO1xuXG4gICAgaWYgKCFpb3YpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBkZWxldGUgdGhpcy5pb3ZzW2lkXTtcblxuICAgIGlvdi5kZXN0cm95KCk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXN0cm95IHRoaXMgY29sbGVjdGlvbiBhbmQgZGVzdHJveSBhbGwgaW92IGluc3RhbmNlcyBpbiB0aGlzIGNvbGxlY3Rpb24uXG4gICAqXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgZGVzdHJveSAoKSB7XG4gICAgaWYgKHRoaXMuZGVzdHJveWVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5kZXN0cm95ZWQgPSB0cnVlO1xuXG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCB0aGlzLl9vbldpbmRvd01lc3NhZ2UpO1xuXG4gICAgZm9yIChsZXQgaWQgaW4gdGhpcy5pb3ZzKSB7XG4gICAgICB0aGlzLnJlbW92ZShpZCk7XG4gICAgfVxuXG4gICAgdGhpcy5pb3ZzID0gbnVsbDtcbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/iov/IovCollection.js\n");

/***/ }),

/***/ "./src/js/iov/IovPlayer.js":
/*!*********************************!*\
  !*** ./src/js/iov/IovPlayer.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return IovPlayer; });\n/* harmony import */ var lodash_defaults__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/defaults */ \"./node_modules/lodash/defaults.js\");\n/* harmony import */ var lodash_defaults__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_defaults__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var uuid_v4__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! uuid/v4 */ \"./node_modules/uuid/v4.js\");\n/* harmony import */ var uuid_v4__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uuid_v4__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _conduit_ConduitCollection__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../conduit/ConduitCollection */ \"./src/js/conduit/ConduitCollection.js\");\n/* harmony import */ var _MSEWrapper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./MSEWrapper */ \"./src/js/iov/MSEWrapper.js\");\n/* harmony import */ var _utils_logger__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/logger */ \"./src/js/utils/logger.js\");\n/* harmony import */ var _StreamConfiguration__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./StreamConfiguration */ \"./src/js/iov/StreamConfiguration.js\");\n\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n\n\n/**\n * Responsible for receiving stream input and routing it to the media source\n * buffer for rendering on the video tag. There is some 'light' reworking of\n * the binary data that is required.\n *\n * @todo - this class should have no knowledge of videojs or its player, since\n * it is supposed to be capable of playing video by itself.  The plugin that\n * uses this player should have all of the videojs logic, and none should\n * exist here.\n*/\n\nvar IovPlayer =\n/*#__PURE__*/\nfunction () {\n  _createClass(IovPlayer, null, [{\n    key: \"factory\",\n    value: function factory(logId, videoElement, onConduitMessageError, options) {\n      return new IovPlayer(logId, videoElement, onConduitMessageError, options);\n    }\n  }]);\n\n  function IovPlayer(logId, videoElement) {\n    var _this = this;\n\n    var onConduitMessageError = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.onConduitMessageError;\n    var options = arguments.length > 3 ? arguments[3] : undefined;\n\n    _classCallCheck(this, IovPlayer);\n\n    _defineProperty(this, \"onConduitMessageError\", function (error) {\n      _this.logger.error('Conduit Message Error!');\n\n      _this.logger.error(error);\n    });\n\n    _defineProperty(this, \"onMoof\", function (mqttMessage) {\n      // @todo - this seems like a hack...\n      if (_this.stopped) {\n        return;\n      }\n\n      _this.trigger('videoReceived');\n\n      _this.getSegmentIntervalMetrics(); // Sometimes, the first moof arrives before the mseWrapper has finished\n      // being initialized, so we will need to drop those frames\n\n\n      if (!_this.mseWrapper) {\n        return;\n      }\n\n      _this.mseWrapper.append(mqttMessage.payloadBytes);\n    });\n\n    this.logId = logId;\n    this.logger = Object(_utils_logger__WEBPACK_IMPORTED_MODULE_4__[\"default\"])().factory(\"Iov Player \".concat(this.logId));\n    this.logger.debug('constructor');\n    this.metrics = {}; // @todo - there must be a more proper way to do events than this...\n\n    this.events = {};\n\n    for (var i = 0; i < IovPlayer.EVENT_NAMES.length; i++) {\n      this.events[IovPlayer.EVENT_NAMES[i]] = [];\n    }\n\n    this.videoElement = videoElement;\n    this.conduitCount = 0;\n    this.conduit = null;\n    this.streamConfiguration = null;\n    this.options = lodash_defaults__WEBPACK_IMPORTED_MODULE_0___default()({}, options, {\n      segmentIntervalSampleSize: IovPlayer.SEGMENT_INTERVAL_SAMPLE_SIZE,\n      driftCorrectionConstant: IovPlayer.DRIFT_CORRECTION_CONSTANT,\n      enableMetrics: false\n    });\n    this.onConduitMessageError = onConduitMessageError;\n    this.firstFrameShown = false;\n    this.stopped = false; // Used for determining the size of the internal buffer hidden from the MSE\n    // api by recording the size and time of each chunk of video upon buffer append\n    // and recording the time when the updateend event is called.\n\n    this.LogSourceBuffer = false;\n    this.LogSourceBufferTopic = null;\n    this.latestSegmentReceived = null;\n    this.segmentIntervalAverage = null;\n    this.segmentInterval = null;\n    this.segmentIntervals = [];\n    this.mseWrapper = null;\n    this.moov = null;\n  }\n\n  _createClass(IovPlayer, [{\n    key: \"on\",\n    value: function on(name, action) {\n      this.logger.debug(\"Registering Listener for \".concat(name, \" event...\"));\n\n      if (!IovPlayer.EVENT_NAMES.includes(name)) {\n        throw new Error(\"\\\"\".concat(name, \"\\\" is not a valid event.\\\"\"));\n      }\n\n      if (this.destroyed) {\n        return;\n      }\n\n      this.events[name].push(action);\n    }\n  }, {\n    key: \"trigger\",\n    value: function trigger(name, value) {\n      var sillyMetrics = ['metric', 'videoReceived'];\n\n      if (sillyMetrics.includes(name)) {\n        this.logger.silly(\"Triggering \".concat(name, \" event...\"));\n      } else {\n        this.logger.debug(\"Triggering \".concat(name, \" event...\"));\n      }\n\n      if (this.destroyed) {\n        return;\n      }\n\n      if (!IovPlayer.EVENT_NAMES.includes(name)) {\n        throw new Error(\"\\\"\".concat(name, \"\\\" is not a valid event.\\\"\"));\n      }\n\n      for (var i = 0; i < this.events[name].length; i++) {\n        this.events[name][i](value, this);\n      }\n    }\n  }, {\n    key: \"metric\",\n    value: function metric(type, value) {\n      if (!this.options.enableMetrics) {\n        return;\n      }\n\n      if (!IovPlayer.METRIC_TYPES.includes(type)) {\n        // @todo - should this throw?\n        return;\n      }\n\n      switch (type) {\n        case 'video.driftCorrection':\n          {\n            if (!this.metrics[type]) {\n              this.metrics[type] = 0;\n            }\n\n            this.metrics[type] += value;\n            break;\n          }\n\n        default:\n          {\n            this.metrics[type] = value;\n          }\n      }\n\n      this.trigger('metric', {\n        type: type,\n        value: this.metrics[type]\n      });\n    }\n  }, {\n    key: \"_onError\",\n    value: function _onError(type, message, error) {\n      this.logger.warn(type, ':', message);\n      this.logger.error(error);\n    }\n  }, {\n    key: \"generateConduitLogId\",\n    value: function generateConduitLogId() {\n      return \"\".concat(this.logId, \".conduit:\").concat(++this.conduitCount);\n    }\n  }, {\n    key: \"initialize\",\n    value: function () {\n      var _initialize = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var streamConfiguration,\n            _args = arguments;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                streamConfiguration = _args.length > 0 && _args[0] !== undefined ? _args[0] : this.streamConfiguration;\n\n                if (_StreamConfiguration__WEBPACK_IMPORTED_MODULE_5__[\"default\"].isStreamConfiguration(streamConfiguration)) {\n                  _context.next = 3;\n                  break;\n                }\n\n                throw new Error('streamConfiguration is not valid');\n\n              case 3:\n                this.logger.debug(\"Initializing with \".concat(streamConfiguration.streamName));\n                this.streamConfiguration = streamConfiguration; // This MUST be globally unique!  The MQTT server will broadcast the stream\n                // to a topic that contains this id, so if there is ANY other client\n                // connected that has the same id anywhere in the world, the stream to all\n                // clients that use that topic will fail.  This is why we use guids rather\n                // than an incrementing integer.\n\n                this.clientId = uuid_v4__WEBPACK_IMPORTED_MODULE_1___default()();\n                this.videoElement.id = this.clientId;\n                _context.next = 9;\n                return _conduit_ConduitCollection__WEBPACK_IMPORTED_MODULE_2__[\"default\"].asSingleton().create(this.generateConduitLogId(), this.clientId, this.streamConfiguration, this.videoElement.parentNode, this.onConduitMessageError);\n\n              case 9:\n                this.conduit = _context.sent;\n                _context.next = 12;\n                return this.conduit.initialize();\n\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function initialize() {\n        return _initialize.apply(this, arguments);\n      }\n\n      return initialize;\n    }()\n  }, {\n    key: \"_html5Play\",\n    value: function _html5Play() {\n      var _this2 = this;\n\n      // @see - https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/play\n      try {\n        var promise = this.videoElement.play();\n\n        if (typeof promise !== 'undefined') {\n          promise[\"catch\"](function (error) {\n            _this2._onError('play.promise', 'Error while trying to play clsp video', error);\n          });\n        }\n      } catch (error) {\n        this._onError('play.notPromise', 'Error while trying to play clsp video - the play operation was NOT a promise!', error);\n      }\n    }\n  }, {\n    key: \"reinitializeMseWrapper\",\n    value: function () {\n      var _reinitializeMseWrapper = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee7(mimeCodec) {\n        var _this3 = this;\n\n        return regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                if (!this.mseWrapper) {\n                  _context7.next = 3;\n                  break;\n                }\n\n                _context7.next = 3;\n                return this.mseWrapper.destroy();\n\n              case 3:\n                this.mseWrapper = _MSEWrapper__WEBPACK_IMPORTED_MODULE_3__[\"default\"].factory(this.videoElement);\n                this.mseWrapper.on('metric', function (_ref) {\n                  var type = _ref.type,\n                      value = _ref.value;\n\n                  _this3.trigger('metric', {\n                    type: type,\n                    value: value\n                  });\n                });\n                this.mseWrapper.initializeMediaSource({\n                  onSourceOpen: function () {\n                    var _onSourceOpen = _asyncToGenerator(\n                    /*#__PURE__*/\n                    regeneratorRuntime.mark(function _callee5() {\n                      return regeneratorRuntime.wrap(function _callee5$(_context5) {\n                        while (1) {\n                          switch (_context5.prev = _context5.next) {\n                            case 0:\n                              _this3.logger.debug('on mediaSource sourceopen');\n\n                              _context5.next = 3;\n                              return _this3.mseWrapper.initializeSourceBuffer(mimeCodec, {\n                                onAppendStart: function onAppendStart(byteArray) {\n                                  _this3.logger.silly('On Append Start...'); // onAppendStart\n\n\n                                  _this3.conduit.segmentUsed(byteArray);\n                                },\n                                onAppendFinish: function onAppendFinish(info) {\n                                  _this3.logger.silly('On Append Finish...');\n\n                                  if (!_this3.firstFrameShown) {\n                                    _this3.firstFrameShown = true;\n\n                                    _this3.trigger('firstFrameShown');\n                                  }\n\n                                  _this3.drift = info.bufferTimeEnd - _this3.videoElement.currentTime;\n\n                                  _this3.metric('sourceBuffer.bufferTimeEnd', info.bufferTimeEnd);\n\n                                  _this3.metric('video.currentTime', _this3.videoElement.currentTime);\n\n                                  _this3.metric('video.drift', _this3.drift);\n\n                                  if (_this3.drift > _this3.segmentIntervalAverage / 1000 + _this3.options.driftCorrectionConstant) {\n                                    _this3.metric('video.driftCorrection', 1);\n\n                                    _this3.videoElement.currentTime = info.bufferTimeEnd;\n                                  }\n\n                                  if (_this3.videoElement.paused === true) {\n                                    _this3.logger.debug('Video is paused!');\n\n                                    _this3._html5Play();\n                                  }\n                                },\n                                onRemoveFinish: function onRemoveFinish(info) {\n                                  _this3.logger.debug('onRemoveFinish');\n                                },\n                                onAppendError: function () {\n                                  var _onAppendError = _asyncToGenerator(\n                                  /*#__PURE__*/\n                                  regeneratorRuntime.mark(function _callee2(error) {\n                                    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                                      while (1) {\n                                        switch (_context2.prev = _context2.next) {\n                                          case 0:\n                                            // internal error, this has been observed to happen the tab\n                                            // in the browser where this video player lives is hidden\n                                            // then reselected. 'ex' is undefined the error is bug\n                                            // within the MSE C++ implementation in the browser.\n                                            _this3._onError('sourceBuffer.append', 'Error while appending to sourceBuffer', error);\n\n                                            _context2.next = 3;\n                                            return _this3.reinitializeMseWrapper(mimeCodec);\n\n                                          case 3:\n                                          case \"end\":\n                                            return _context2.stop();\n                                        }\n                                      }\n                                    }, _callee2);\n                                  }));\n\n                                  function onAppendError(_x2) {\n                                    return _onAppendError.apply(this, arguments);\n                                  }\n\n                                  return onAppendError;\n                                }(),\n                                onRemoveError: function onRemoveError(error) {\n                                  if (error.constructor.name === 'DOMException') {\n                                    // @todo - every time the mseWrapper is destroyed, there is a\n                                    // sourceBuffer error.  No need to log that, but you should fix it\n                                    return;\n                                  } // observed this fail during a memry snapshot in chrome\n                                  // otherwise no observed failure, so ignore exception.\n\n\n                                  _this3._onError('sourceBuffer.remove', 'Error while removing segments from sourceBuffer', error);\n                                },\n                                onStreamFrozen: function () {\n                                  var _onStreamFrozen = _asyncToGenerator(\n                                  /*#__PURE__*/\n                                  regeneratorRuntime.mark(function _callee3() {\n                                    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n                                      while (1) {\n                                        switch (_context3.prev = _context3.next) {\n                                          case 0:\n                                            _this3.logger.debug('stream appears to be frozen - reinitializing...');\n\n                                            _context3.next = 3;\n                                            return _this3.reinitializeMseWrapper(mimeCodec);\n\n                                          case 3:\n                                          case \"end\":\n                                            return _context3.stop();\n                                        }\n                                      }\n                                    }, _callee3);\n                                  }));\n\n                                  function onStreamFrozen() {\n                                    return _onStreamFrozen.apply(this, arguments);\n                                  }\n\n                                  return onStreamFrozen;\n                                }(),\n                                onError: function () {\n                                  var _onError2 = _asyncToGenerator(\n                                  /*#__PURE__*/\n                                  regeneratorRuntime.mark(function _callee4(error) {\n                                    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n                                      while (1) {\n                                        switch (_context4.prev = _context4.next) {\n                                          case 0:\n                                            _this3._onError('mediaSource.sourceBuffer.generic', 'mediaSource sourceBuffer error', error);\n\n                                            _context4.next = 3;\n                                            return _this3.reinitializeMseWrapper(mimeCodec);\n\n                                          case 3:\n                                          case \"end\":\n                                            return _context4.stop();\n                                        }\n                                      }\n                                    }, _callee4);\n                                  }));\n\n                                  function onError(_x3) {\n                                    return _onError2.apply(this, arguments);\n                                  }\n\n                                  return onError;\n                                }()\n                              });\n\n                            case 3:\n                              _this3.trigger('videoInfoReceived');\n\n                              _this3.mseWrapper.appendMoov(_this3.moov);\n\n                            case 5:\n                            case \"end\":\n                              return _context5.stop();\n                          }\n                        }\n                      }, _callee5);\n                    }));\n\n                    function onSourceOpen() {\n                      return _onSourceOpen.apply(this, arguments);\n                    }\n\n                    return onSourceOpen;\n                  }(),\n                  onSourceEnded: function () {\n                    var _onSourceEnded = _asyncToGenerator(\n                    /*#__PURE__*/\n                    regeneratorRuntime.mark(function _callee6() {\n                      return regeneratorRuntime.wrap(function _callee6$(_context6) {\n                        while (1) {\n                          switch (_context6.prev = _context6.next) {\n                            case 0:\n                              _this3.logger.debug('on mediaSource sourceended');\n\n                              _context6.next = 3;\n                              return _this3.stop();\n\n                            case 3:\n                            case \"end\":\n                              return _context6.stop();\n                          }\n                        }\n                      }, _callee6);\n                    }));\n\n                    function onSourceEnded() {\n                      return _onSourceEnded.apply(this, arguments);\n                    }\n\n                    return onSourceEnded;\n                  }(),\n                  onError: function onError(error) {\n                    _this3._onError('mediaSource.generic', 'mediaSource error', // @todo - sometimes, this error is an event rather than an error!\n                    // If different onError calls use different method signatures, that\n                    // needs to be accounted for in the MSEWrapper, and the actual error\n                    // that was thrown must ALWAYS be the first argument here.  As a\n                    // shortcut, we can log `...args` here instead.\n                    error);\n                  }\n                });\n\n                if (!(!this.mseWrapper.mediaSource || !this.videoElement)) {\n                  _context7.next = 8;\n                  break;\n                }\n\n                throw new Error('The video element or mediaSource is not ready!');\n\n              case 8:\n                this.mseWrapper.reinitializeVideoElementSrc();\n\n              case 9:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function reinitializeMseWrapper(_x) {\n        return _reinitializeMseWrapper.apply(this, arguments);\n      }\n\n      return reinitializeMseWrapper;\n    }()\n  }, {\n    key: \"restart\",\n    value: function () {\n      var _restart = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee8() {\n        return regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                this.logger.debug('restart');\n                _context8.next = 3;\n                return this.stop();\n\n              case 3:\n                _context8.next = 5;\n                return this.play();\n\n              case 5:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n\n      function restart() {\n        return _restart.apply(this, arguments);\n      }\n\n      return restart;\n    }()\n  }, {\n    key: \"play\",\n\n    /**\n     * Note that if an error is thrown during play, the IovPlayer instance should\n     * be destroyed to free resources.\n     */\n    value: function () {\n      var _play = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee9() {\n        var _this4 = this;\n\n        var _ref2, mimeCodec, moov;\n\n        return regeneratorRuntime.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                this.logger.debug('play');\n                this.stopped = false;\n\n                if (this.streamConfiguration) {\n                  _context9.next = 5;\n                  break;\n                }\n\n                this.logger.error('Cannot play a stream without a stream configuration');\n                return _context9.abrupt(\"return\");\n\n              case 5:\n                _context9.next = 7;\n                return this.conduit.play(this.onMoof);\n\n              case 7:\n                _ref2 = _context9.sent;\n                mimeCodec = _ref2.mimeCodec;\n                moov = _ref2.moov;\n\n                if (_MSEWrapper__WEBPACK_IMPORTED_MODULE_3__[\"default\"].isMimeCodecSupported(mimeCodec)) {\n                  _context9.next = 13;\n                  break;\n                }\n\n                this.trigger('unsupportedMimeCodec', \"Unsupported mime codec: \".concat(mimeCodec));\n                throw new Error(\"Unsupported mime codec: \".concat(mimeCodec));\n\n              case 13:\n                this.moov = moov;\n                _context9.next = 16;\n                return this.reinitializeMseWrapper(mimeCodec);\n\n              case 16:\n                this.conduit.resyncStream(function () {\n                  // console.log('sync received re-initialize media source buffer');\n                  _this4.reinitializeMseWrapper(mimeCodec);\n                });\n\n              case 17:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this);\n      }));\n\n      function play() {\n        return _play.apply(this, arguments);\n      }\n\n      return play;\n    }()\n    /**\n     * @returns {Promise}\n     */\n\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      var _this5 = this;\n\n      this.logger.debug('stop...');\n\n      if (this.stopped) {\n        return Promise.resolve();\n      }\n\n      this.stopped = true;\n      this.moov = null;\n      this.logger.debug('stop about to finish synchronous operations and return promise...'); // The logic above MUST be run synchronously when called, therefore,\n      // we cannot use async to define the stop method, and must return a\n      // promise here rather than using await.  We return this promise so\n      // that the caller has the option of waiting, but is not forced to\n      // wait.\n\n      return new Promise(\n      /*#__PURE__*/\n      function () {\n        var _ref3 = _asyncToGenerator(\n        /*#__PURE__*/\n        regeneratorRuntime.mark(function _callee10(resolve, reject) {\n          return regeneratorRuntime.wrap(function _callee10$(_context10) {\n            while (1) {\n              switch (_context10.prev = _context10.next) {\n                case 0:\n                  _context10.prev = 0;\n                  _context10.next = 3;\n                  return _this5.conduit.stop();\n\n                case 3:\n                  _context10.next = 9;\n                  break;\n\n                case 5:\n                  _context10.prev = 5;\n                  _context10.t0 = _context10[\"catch\"](0);\n\n                  _this5.logger.error('failed to stop the conduit');\n\n                  _this5.logger.error(_context10.t0);\n\n                case 9:\n                  if (_this5.mseWrapper) {\n                    _context10.next = 12;\n                    break;\n                  }\n\n                  _this5.logger.debug('stop succeeded asynchronously...');\n\n                  return _context10.abrupt(\"return\", resolve());\n\n                case 12:\n                  _context10.prev = 12;\n                  _context10.next = 15;\n                  return _this5.mseWrapper.destroy();\n\n                case 15:\n                  _this5.logger.debug('stop succeeded asynchronously...');\n\n                  resolve();\n                  _context10.next = 23;\n                  break;\n\n                case 19:\n                  _context10.prev = 19;\n                  _context10.t1 = _context10[\"catch\"](12);\n\n                  _this5.logger.error('stop failed asynchronously...');\n\n                  reject(_context10.t1);\n\n                case 23:\n                  _this5.mseWrapper = null;\n\n                case 24:\n                case \"end\":\n                  return _context10.stop();\n              }\n            }\n          }, _callee10, null, [[0, 5], [12, 19]]);\n        }));\n\n        return function (_x4, _x5) {\n          return _ref3.apply(this, arguments);\n        };\n      }());\n    }\n  }, {\n    key: \"getSegmentIntervalMetrics\",\n    value: function getSegmentIntervalMetrics() {\n      var previousSegmentReceived = this.latestSegmentReceived;\n      this.latestSegmentReceived = Date.now();\n\n      if (previousSegmentReceived) {\n        this.segmentInterval = this.latestSegmentReceived - previousSegmentReceived;\n      }\n\n      if (this.segmentInterval) {\n        if (this.segmentIntervals.length >= this.options.segmentIntervalSampleSize) {\n          this.segmentIntervals.shift();\n        }\n\n        this.segmentIntervals.push(this.segmentInterval);\n        var segmentIntervalSum = 0;\n\n        for (var i = 0; i < this.segmentIntervals.length; i++) {\n          segmentIntervalSum += this.segmentIntervals[i];\n        }\n\n        this.segmentIntervalAverage = segmentIntervalSum / this.segmentIntervals.length;\n        this.metric('video.segmentInterval', this.segmentInterval);\n        this.metric('video.segmentIntervalAverage', this.segmentIntervalAverage);\n      }\n    }\n  }, {\n    key: \"enterFullscreen\",\n    value: function enterFullscreen() {\n      if (!window.document.fullscreenElement) {\n        // Since the iov and player take control of the video element and its\n        // parent, ask the parent for fullscreen since the video elements will be\n        // destroyed and recreated when changing sources\n        this.videoElement.parentNode.requestFullscreen();\n      }\n    }\n  }, {\n    key: \"exitFullscreen\",\n    value: function exitFullscreen() {\n      if (window.document.exitFullscreen) {\n        window.document.exitFullscreen();\n      }\n    }\n  }, {\n    key: \"toggleFullscreen\",\n    value: function toggleFullscreen() {\n      if (!window.document.fullscreenElement) {\n        this.enterFullscreen();\n      } else {\n        this.exitFullscreen();\n      }\n    }\n  }, {\n    key: \"_freeAllResources\",\n    value: function _freeAllResources() {\n      this.logger.debug('_freeAllResources...');\n      _conduit_ConduitCollection__WEBPACK_IMPORTED_MODULE_2__[\"default\"].asSingleton().remove(this.clientId);\n      this.conduit = null; // The caller must destroy the streamConfiguration\n\n      this.streamConfiguration = null;\n      this.firstFrameShown = null;\n      this.events = null;\n      this.metrics = null;\n      this.LogSourceBuffer = null;\n      this.LogSourceBufferTopic = null;\n      this.latestSegmentReceived = null;\n      this.segmentIntervalAverage = null;\n      this.segmentInterval = null;\n      this.segmentIntervals = null;\n      this.moov = null;\n      this.logger.debug('_freeAllResources finished...');\n    }\n    /**\n     * @returns {Promise}\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this6 = this;\n\n      this.logger.debug('destroy...');\n\n      if (this.destroyed) {\n        return;\n      }\n\n      this.destroyed = true; // Note that we DO NOT wait for the stop command to finish execution,\n      // because this destroy method MUST be treated as a synchronous operation\n      // to ensure that the caller is not forced to wait on destruction.  This\n      // allows us to properly support client side libraries and frameworks that\n      // do not support asynchronous destruction.  See the comments in the destroy\n      // method on the MSEWrapper for a more detailed explanation.\n\n      this.logger.debug('about to stop...');\n      var stopPromise = this.stop(); // Setting the src of the video element to an empty string is\n      // the only reliable way we have found to ensure that MediaSource,\n      // SourceBuffer, and various Video elements are properly dereferenced\n      // to avoid memory leaks\n      // @todo - should these occur after stop? is there a reason they're done\n      // in this order?\n\n      this.videoElement.src = '';\n      this.videoElement.parentNode.removeChild(this.videoElement);\n      this.videoElement.remove();\n      this.videoElement = null;\n      this.logger.debug('exiting destroy, asynchronous destroy logic in progress...');\n      return stopPromise.then(function () {\n        _this6.logger.debug('stopped successfully...');\n\n        _this6._freeAllResources();\n\n        _this6.logger.debug('destroy successfully finished...');\n      })[\"catch\"](function (error) {\n        _this6.logger.debug('stopped unsuccessfully...');\n\n        _this6.logger.error('Error while destroying the iov player!');\n\n        _this6.logger.error(error);\n\n        _this6._freeAllResources();\n\n        _this6.logger.debug('destroy unsuccessfully finished...');\n      });\n    }\n  }]);\n\n  return IovPlayer;\n}();\n\n_defineProperty(IovPlayer, \"EVENT_NAMES\", ['metric', 'firstFrameShown', 'videoReceived', 'videoInfoReceived']);\n\n_defineProperty(IovPlayer, \"METRIC_TYPES\", ['sourceBuffer.bufferTimeEnd', 'video.currentTime', 'video.drift', 'video.driftCorrection', 'video.segmentInterval', 'video.segmentIntervalAverage']);\n\n_defineProperty(IovPlayer, \"SEGMENT_INTERVAL_SAMPLE_SIZE\", 5);\n\n_defineProperty(IovPlayer, \"DRIFT_CORRECTION_CONSTANT\", 2);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvaW92L0lvdlBsYXllci5qcz84NThlIl0sIm5hbWVzIjpbIklvdlBsYXllciIsImxvZ0lkIiwidmlkZW9FbGVtZW50Iiwib25Db25kdWl0TWVzc2FnZUVycm9yIiwib3B0aW9ucyIsImVycm9yIiwibG9nZ2VyIiwibXF0dE1lc3NhZ2UiLCJzdG9wcGVkIiwidHJpZ2dlciIsImdldFNlZ21lbnRJbnRlcnZhbE1ldHJpY3MiLCJtc2VXcmFwcGVyIiwiYXBwZW5kIiwicGF5bG9hZEJ5dGVzIiwiTG9nZ2VyIiwiZmFjdG9yeSIsImRlYnVnIiwibWV0cmljcyIsImV2ZW50cyIsImkiLCJFVkVOVF9OQU1FUyIsImxlbmd0aCIsImNvbmR1aXRDb3VudCIsImNvbmR1aXQiLCJzdHJlYW1Db25maWd1cmF0aW9uIiwiZGVmYXVsdHMiLCJzZWdtZW50SW50ZXJ2YWxTYW1wbGVTaXplIiwiU0VHTUVOVF9JTlRFUlZBTF9TQU1QTEVfU0laRSIsImRyaWZ0Q29ycmVjdGlvbkNvbnN0YW50IiwiRFJJRlRfQ09SUkVDVElPTl9DT05TVEFOVCIsImVuYWJsZU1ldHJpY3MiLCJmaXJzdEZyYW1lU2hvd24iLCJMb2dTb3VyY2VCdWZmZXIiLCJMb2dTb3VyY2VCdWZmZXJUb3BpYyIsImxhdGVzdFNlZ21lbnRSZWNlaXZlZCIsInNlZ21lbnRJbnRlcnZhbEF2ZXJhZ2UiLCJzZWdtZW50SW50ZXJ2YWwiLCJzZWdtZW50SW50ZXJ2YWxzIiwibW9vdiIsIm5hbWUiLCJhY3Rpb24iLCJpbmNsdWRlcyIsIkVycm9yIiwiZGVzdHJveWVkIiwicHVzaCIsInZhbHVlIiwic2lsbHlNZXRyaWNzIiwic2lsbHkiLCJ0eXBlIiwiTUVUUklDX1RZUEVTIiwibWVzc2FnZSIsIndhcm4iLCJTdHJlYW1Db25maWd1cmF0aW9uIiwiaXNTdHJlYW1Db25maWd1cmF0aW9uIiwic3RyZWFtTmFtZSIsImNsaWVudElkIiwidXVpZHY0IiwiaWQiLCJDb25kdWl0Q29sbGVjdGlvbiIsImFzU2luZ2xldG9uIiwiY3JlYXRlIiwiZ2VuZXJhdGVDb25kdWl0TG9nSWQiLCJwYXJlbnROb2RlIiwiaW5pdGlhbGl6ZSIsInByb21pc2UiLCJwbGF5IiwiX29uRXJyb3IiLCJtaW1lQ29kZWMiLCJkZXN0cm95IiwiTVNFV3JhcHBlciIsIm9uIiwiaW5pdGlhbGl6ZU1lZGlhU291cmNlIiwib25Tb3VyY2VPcGVuIiwiaW5pdGlhbGl6ZVNvdXJjZUJ1ZmZlciIsIm9uQXBwZW5kU3RhcnQiLCJieXRlQXJyYXkiLCJzZWdtZW50VXNlZCIsIm9uQXBwZW5kRmluaXNoIiwiaW5mbyIsImRyaWZ0IiwiYnVmZmVyVGltZUVuZCIsImN1cnJlbnRUaW1lIiwibWV0cmljIiwicGF1c2VkIiwiX2h0bWw1UGxheSIsIm9uUmVtb3ZlRmluaXNoIiwib25BcHBlbmRFcnJvciIsInJlaW5pdGlhbGl6ZU1zZVdyYXBwZXIiLCJvblJlbW92ZUVycm9yIiwiY29uc3RydWN0b3IiLCJvblN0cmVhbUZyb3plbiIsIm9uRXJyb3IiLCJhcHBlbmRNb292Iiwib25Tb3VyY2VFbmRlZCIsInN0b3AiLCJtZWRpYVNvdXJjZSIsInJlaW5pdGlhbGl6ZVZpZGVvRWxlbWVudFNyYyIsIm9uTW9vZiIsImlzTWltZUNvZGVjU3VwcG9ydGVkIiwicmVzeW5jU3RyZWFtIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJwcmV2aW91c1NlZ21lbnRSZWNlaXZlZCIsIkRhdGUiLCJub3ciLCJzaGlmdCIsInNlZ21lbnRJbnRlcnZhbFN1bSIsIndpbmRvdyIsImRvY3VtZW50IiwiZnVsbHNjcmVlbkVsZW1lbnQiLCJyZXF1ZXN0RnVsbHNjcmVlbiIsImV4aXRGdWxsc2NyZWVuIiwiZW50ZXJGdWxsc2NyZWVuIiwicmVtb3ZlIiwic3RvcFByb21pc2UiLCJzcmMiLCJyZW1vdmVDaGlsZCIsInRoZW4iLCJfZnJlZUFsbFJlc291cmNlcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtB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LGlCQUNFLENBQ25CLFFBRG1CLEVBRW5CLGlCQUZtQixFQUduQixlQUhtQixFQUluQixtQkFKbUIsQzs7Z0JBREZBLFMsa0JBUUcsQ0FDcEIsNEJBRG9CLEVBRXBCLG1CQUZvQixFQUdwQixhQUhvQixFQUlwQix1QkFKb0IsRUFLcEIsdUJBTG9CLEVBTXBCLDhCQU5vQixDOztnQkFSSEEsUyxrQ0FpQm1CLEM7O2dCQWpCbkJBLFMsK0JBa0JnQixDIiwiZmlsZSI6Ii4vc3JjL2pzL2lvdi9Jb3ZQbGF5ZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBkZWZhdWx0cyBmcm9tICdsb2Rhc2gvZGVmYXVsdHMnO1xuaW1wb3J0IHV1aWR2NCBmcm9tICd1dWlkL3Y0JztcblxuaW1wb3J0IENvbmR1aXRDb2xsZWN0aW9uIGZyb20gJy4uL2NvbmR1aXQvQ29uZHVpdENvbGxlY3Rpb24nO1xuaW1wb3J0IE1TRVdyYXBwZXIgZnJvbSAnLi9NU0VXcmFwcGVyJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnLi4vdXRpbHMvbG9nZ2VyJztcbmltcG9ydCBTdHJlYW1Db25maWd1cmF0aW9uIGZyb20gJy4vU3RyZWFtQ29uZmlndXJhdGlvbic7XG5cbi8qKlxuICogUmVzcG9uc2libGUgZm9yIHJlY2VpdmluZyBzdHJlYW0gaW5wdXQgYW5kIHJvdXRpbmcgaXQgdG8gdGhlIG1lZGlhIHNvdXJjZVxuICogYnVmZmVyIGZvciByZW5kZXJpbmcgb24gdGhlIHZpZGVvIHRhZy4gVGhlcmUgaXMgc29tZSAnbGlnaHQnIHJld29ya2luZyBvZlxuICogdGhlIGJpbmFyeSBkYXRhIHRoYXQgaXMgcmVxdWlyZWQuXG4gKlxuICogQHRvZG8gLSB0aGlzIGNsYXNzIHNob3VsZCBoYXZlIG5vIGtub3dsZWRnZSBvZiB2aWRlb2pzIG9yIGl0cyBwbGF5ZXIsIHNpbmNlXG4gKiBpdCBpcyBzdXBwb3NlZCB0byBiZSBjYXBhYmxlIG9mIHBsYXlpbmcgdmlkZW8gYnkgaXRzZWxmLiAgVGhlIHBsdWdpbiB0aGF0XG4gKiB1c2VzIHRoaXMgcGxheWVyIHNob3VsZCBoYXZlIGFsbCBvZiB0aGUgdmlkZW9qcyBsb2dpYywgYW5kIG5vbmUgc2hvdWxkXG4gKiBleGlzdCBoZXJlLlxuKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIElvdlBsYXllciB7XG4gIHN0YXRpYyBFVkVOVF9OQU1FUyA9IFtcbiAgICAnbWV0cmljJyxcbiAgICAnZmlyc3RGcmFtZVNob3duJyxcbiAgICAndmlkZW9SZWNlaXZlZCcsXG4gICAgJ3ZpZGVvSW5mb1JlY2VpdmVkJyxcbiAgXTtcblxuICBzdGF0aWMgTUVUUklDX1RZUEVTID0gW1xuICAgICdzb3VyY2VCdWZmZXIuYnVmZmVyVGltZUVuZCcsXG4gICAgJ3ZpZGVvLmN1cnJlbnRUaW1lJyxcbiAgICAndmlkZW8uZHJpZnQnLFxuICAgICd2aWRlby5kcmlmdENvcnJlY3Rpb24nLFxuICAgICd2aWRlby5zZWdtZW50SW50ZXJ2YWwnLFxuICAgICd2aWRlby5zZWdtZW50SW50ZXJ2YWxBdmVyYWdlJyxcbiAgXTtcblxuICBzdGF0aWMgU0VHTUVOVF9JTlRFUlZBTF9TQU1QTEVfU0laRSA9IDU7XG4gIHN0YXRpYyBEUklGVF9DT1JSRUNUSU9OX0NPTlNUQU5UID0gMjtcblxuICBzdGF0aWMgZmFjdG9yeSAoXG4gICAgbG9nSWQsXG4gICAgdmlkZW9FbGVtZW50LFxuICAgIG9uQ29uZHVpdE1lc3NhZ2VFcnJvcixcbiAgICBvcHRpb25zXG4gICkge1xuICAgIHJldHVybiBuZXcgSW92UGxheWVyKFxuICAgICAgbG9nSWQsXG4gICAgICB2aWRlb0VsZW1lbnQsXG4gICAgICBvbkNvbmR1aXRNZXNzYWdlRXJyb3IsXG4gICAgICBvcHRpb25zXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yIChcbiAgICBsb2dJZCxcbiAgICB2aWRlb0VsZW1lbnQsXG4gICAgb25Db25kdWl0TWVzc2FnZUVycm9yID0gdGhpcy5vbkNvbmR1aXRNZXNzYWdlRXJyb3IsXG4gICAgb3B0aW9uc1xuICApIHtcbiAgICB0aGlzLmxvZ0lkID0gbG9nSWQ7XG4gICAgdGhpcy5sb2dnZXIgPSBMb2dnZXIoKS5mYWN0b3J5KGBJb3YgUGxheWVyICR7dGhpcy5sb2dJZH1gKTtcblxuICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdjb25zdHJ1Y3RvcicpO1xuXG4gICAgdGhpcy5tZXRyaWNzID0ge307XG5cbiAgICAvLyBAdG9kbyAtIHRoZXJlIG11c3QgYmUgYSBtb3JlIHByb3BlciB3YXkgdG8gZG8gZXZlbnRzIHRoYW4gdGhpcy4uLlxuICAgIHRoaXMuZXZlbnRzID0ge307XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IElvdlBsYXllci5FVkVOVF9OQU1FUy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5ldmVudHNbSW92UGxheWVyLkVWRU5UX05BTUVTW2ldXSA9IFtdO1xuICAgIH1cblxuICAgIHRoaXMudmlkZW9FbGVtZW50ID0gdmlkZW9FbGVtZW50O1xuXG4gICAgdGhpcy5jb25kdWl0Q291bnQgPSAwO1xuICAgIHRoaXMuY29uZHVpdCA9IG51bGw7XG4gICAgdGhpcy5zdHJlYW1Db25maWd1cmF0aW9uID0gbnVsbDtcblxuICAgIHRoaXMub3B0aW9ucyA9IGRlZmF1bHRzKFxuICAgICAge30sXG4gICAgICBvcHRpb25zLFxuICAgICAge1xuICAgICAgICBzZWdtZW50SW50ZXJ2YWxTYW1wbGVTaXplOiBJb3ZQbGF5ZXIuU0VHTUVOVF9JTlRFUlZBTF9TQU1QTEVfU0laRSxcbiAgICAgICAgZHJpZnRDb3JyZWN0aW9uQ29uc3RhbnQ6IElvdlBsYXllci5EUklGVF9DT1JSRUNUSU9OX0NPTlNUQU5ULFxuICAgICAgICBlbmFibGVNZXRyaWNzOiBmYWxzZSxcbiAgICAgIH1cbiAgICApO1xuXG4gICAgdGhpcy5vbkNvbmR1aXRNZXNzYWdlRXJyb3IgPSBvbkNvbmR1aXRNZXNzYWdlRXJyb3I7XG4gICAgdGhpcy5maXJzdEZyYW1lU2hvd24gPSBmYWxzZTtcbiAgICB0aGlzLnN0b3BwZWQgPSBmYWxzZTtcblxuICAgIC8vIFVzZWQgZm9yIGRldGVybWluaW5nIHRoZSBzaXplIG9mIHRoZSBpbnRlcm5hbCBidWZmZXIgaGlkZGVuIGZyb20gdGhlIE1TRVxuICAgIC8vIGFwaSBieSByZWNvcmRpbmcgdGhlIHNpemUgYW5kIHRpbWUgb2YgZWFjaCBjaHVuayBvZiB2aWRlbyB1cG9uIGJ1ZmZlciBhcHBlbmRcbiAgICAvLyBhbmQgcmVjb3JkaW5nIHRoZSB0aW1lIHdoZW4gdGhlIHVwZGF0ZWVuZCBldmVudCBpcyBjYWxsZWQuXG4gICAgdGhpcy5Mb2dTb3VyY2VCdWZmZXIgPSBmYWxzZTtcbiAgICB0aGlzLkxvZ1NvdXJjZUJ1ZmZlclRvcGljID0gbnVsbDtcblxuICAgIHRoaXMubGF0ZXN0U2VnbWVudFJlY2VpdmVkID0gbnVsbDtcbiAgICB0aGlzLnNlZ21lbnRJbnRlcnZhbEF2ZXJhZ2UgPSBudWxsO1xuICAgIHRoaXMuc2VnbWVudEludGVydmFsID0gbnVsbDtcbiAgICB0aGlzLnNlZ21lbnRJbnRlcnZhbHMgPSBbXTtcblxuICAgIHRoaXMubXNlV3JhcHBlciA9IG51bGw7XG4gICAgdGhpcy5tb292ID0gbnVsbDtcbiAgfVxuXG4gIG9uIChuYW1lLCBhY3Rpb24pIHtcbiAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhgUmVnaXN0ZXJpbmcgTGlzdGVuZXIgZm9yICR7bmFtZX0gZXZlbnQuLi5gKTtcblxuICAgIGlmICghSW92UGxheWVyLkVWRU5UX05BTUVTLmluY2x1ZGVzKG5hbWUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFwiJHtuYW1lfVwiIGlzIG5vdCBhIHZhbGlkIGV2ZW50LlwiYCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZGVzdHJveWVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5ldmVudHNbbmFtZV0ucHVzaChhY3Rpb24pO1xuICB9XG5cbiAgdHJpZ2dlciAobmFtZSwgdmFsdWUpIHtcbiAgICBjb25zdCBzaWxseU1ldHJpY3MgPSBbXG4gICAgICAnbWV0cmljJyxcbiAgICAgICd2aWRlb1JlY2VpdmVkJyxcbiAgICBdO1xuXG4gICAgaWYgKHNpbGx5TWV0cmljcy5pbmNsdWRlcyhuYW1lKSkge1xuICAgICAgdGhpcy5sb2dnZXIuc2lsbHkoYFRyaWdnZXJpbmcgJHtuYW1lfSBldmVudC4uLmApO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBUcmlnZ2VyaW5nICR7bmFtZX0gZXZlbnQuLi5gKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5kZXN0cm95ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIUlvdlBsYXllci5FVkVOVF9OQU1FUy5pbmNsdWRlcyhuYW1lKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBcIiR7bmFtZX1cIiBpcyBub3QgYSB2YWxpZCBldmVudC5cImApO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5ldmVudHNbbmFtZV0ubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuZXZlbnRzW25hbWVdW2ldKHZhbHVlLCB0aGlzKTtcbiAgICB9XG4gIH1cblxuICBtZXRyaWMgKHR5cGUsIHZhbHVlKSB7XG4gICAgaWYgKCF0aGlzLm9wdGlvbnMuZW5hYmxlTWV0cmljcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghSW92UGxheWVyLk1FVFJJQ19UWVBFUy5pbmNsdWRlcyh0eXBlKSkge1xuICAgICAgLy8gQHRvZG8gLSBzaG91bGQgdGhpcyB0aHJvdz9cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgJ3ZpZGVvLmRyaWZ0Q29ycmVjdGlvbic6IHtcbiAgICAgICAgaWYgKCF0aGlzLm1ldHJpY3NbdHlwZV0pIHtcbiAgICAgICAgICB0aGlzLm1ldHJpY3NbdHlwZV0gPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5tZXRyaWNzW3R5cGVdICs9IHZhbHVlO1xuXG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICB0aGlzLm1ldHJpY3NbdHlwZV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnRyaWdnZXIoJ21ldHJpYycsIHtcbiAgICAgIHR5cGUsXG4gICAgICB2YWx1ZTogdGhpcy5tZXRyaWNzW3R5cGVdLFxuICAgIH0pO1xuICB9XG5cbiAgX29uRXJyb3IgKFxuICAgIHR5cGUsXG4gICAgbWVzc2FnZSxcbiAgICBlcnJvclxuICApIHtcbiAgICB0aGlzLmxvZ2dlci53YXJuKFxuICAgICAgdHlwZSxcbiAgICAgICc6JyxcbiAgICAgIG1lc3NhZ2VcbiAgICApO1xuICAgIHRoaXMubG9nZ2VyLmVycm9yKGVycm9yKTtcbiAgfVxuXG4gIGdlbmVyYXRlQ29uZHVpdExvZ0lkKCkge1xuICAgIHJldHVybiBgJHt0aGlzLmxvZ0lkfS5jb25kdWl0OiR7Kyt0aGlzLmNvbmR1aXRDb3VudH1gO1xuICB9XG5cbiAgb25Db25kdWl0TWVzc2FnZUVycm9yID0gKGVycm9yKSA9PiB7XG4gICAgdGhpcy5sb2dnZXIuZXJyb3IoJ0NvbmR1aXQgTWVzc2FnZSBFcnJvciEnKTtcbiAgICB0aGlzLmxvZ2dlci5lcnJvcihlcnJvcik7XG4gIH07XG5cbiAgYXN5bmMgaW5pdGlhbGl6ZSAoc3RyZWFtQ29uZmlndXJhdGlvbiA9IHRoaXMuc3RyZWFtQ29uZmlndXJhdGlvbikge1xuICAgIGlmICghU3RyZWFtQ29uZmlndXJhdGlvbi5pc1N0cmVhbUNvbmZpZ3VyYXRpb24oc3RyZWFtQ29uZmlndXJhdGlvbikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignc3RyZWFtQ29uZmlndXJhdGlvbiBpcyBub3QgdmFsaWQnKTtcbiAgICB9XG5cbiAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhgSW5pdGlhbGl6aW5nIHdpdGggJHtzdHJlYW1Db25maWd1cmF0aW9uLnN0cmVhbU5hbWV9YCk7XG5cbiAgICB0aGlzLnN0cmVhbUNvbmZpZ3VyYXRpb24gPSBzdHJlYW1Db25maWd1cmF0aW9uO1xuXG4gICAgLy8gVGhpcyBNVVNUIGJlIGdsb2JhbGx5IHVuaXF1ZSEgIFRoZSBNUVRUIHNlcnZlciB3aWxsIGJyb2FkY2FzdCB0aGUgc3RyZWFtXG4gICAgLy8gdG8gYSB0b3BpYyB0aGF0IGNvbnRhaW5zIHRoaXMgaWQsIHNvIGlmIHRoZXJlIGlzIEFOWSBvdGhlciBjbGllbnRcbiAgICAvLyBjb25uZWN0ZWQgdGhhdCBoYXMgdGhlIHNhbWUgaWQgYW55d2hlcmUgaW4gdGhlIHdvcmxkLCB0aGUgc3RyZWFtIHRvIGFsbFxuICAgIC8vIGNsaWVudHMgdGhhdCB1c2UgdGhhdCB0b3BpYyB3aWxsIGZhaWwuICBUaGlzIGlzIHdoeSB3ZSB1c2UgZ3VpZHMgcmF0aGVyXG4gICAgLy8gdGhhbiBhbiBpbmNyZW1lbnRpbmcgaW50ZWdlci5cbiAgICB0aGlzLmNsaWVudElkID0gdXVpZHY0KCk7XG5cbiAgICB0aGlzLnZpZGVvRWxlbWVudC5pZCA9IHRoaXMuY2xpZW50SWQ7XG5cbiAgICB0aGlzLmNvbmR1aXQgPSBhd2FpdCBDb25kdWl0Q29sbGVjdGlvbi5hc1NpbmdsZXRvbigpLmNyZWF0ZShcbiAgICAgIHRoaXMuZ2VuZXJhdGVDb25kdWl0TG9nSWQoKSxcbiAgICAgIHRoaXMuY2xpZW50SWQsXG4gICAgICB0aGlzLnN0cmVhbUNvbmZpZ3VyYXRpb24sXG4gICAgICB0aGlzLnZpZGVvRWxlbWVudC5wYXJlbnROb2RlLFxuICAgICAgdGhpcy5vbkNvbmR1aXRNZXNzYWdlRXJyb3JcbiAgICApO1xuXG4gICAgYXdhaXQgdGhpcy5jb25kdWl0LmluaXRpYWxpemUoKTtcbiAgfVxuXG4gIF9odG1sNVBsYXkgKCkge1xuICAgIC8vIEBzZWUgLSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvSFRNTE1lZGlhRWxlbWVudC9wbGF5XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnZpZGVvRWxlbWVudC5wbGF5KCk7XG5cbiAgICAgIGlmICh0eXBlb2YgcHJvbWlzZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcHJvbWlzZS5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICB0aGlzLl9vbkVycm9yKFxuICAgICAgICAgICAgJ3BsYXkucHJvbWlzZScsXG4gICAgICAgICAgICAnRXJyb3Igd2hpbGUgdHJ5aW5nIHRvIHBsYXkgY2xzcCB2aWRlbycsXG4gICAgICAgICAgICBlcnJvclxuICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRoaXMuX29uRXJyb3IoXG4gICAgICAgICdwbGF5Lm5vdFByb21pc2UnLFxuICAgICAgICAnRXJyb3Igd2hpbGUgdHJ5aW5nIHRvIHBsYXkgY2xzcCB2aWRlbyAtIHRoZSBwbGF5IG9wZXJhdGlvbiB3YXMgTk9UIGEgcHJvbWlzZSEnLFxuICAgICAgICBlcnJvclxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyByZWluaXRpYWxpemVNc2VXcmFwcGVyIChtaW1lQ29kZWMpIHtcbiAgICBpZiAodGhpcy5tc2VXcmFwcGVyKSB7XG4gICAgICBhd2FpdCB0aGlzLm1zZVdyYXBwZXIuZGVzdHJveSgpO1xuICAgIH1cblxuICAgIHRoaXMubXNlV3JhcHBlciA9IE1TRVdyYXBwZXIuZmFjdG9yeSh0aGlzLnZpZGVvRWxlbWVudCk7XG5cbiAgICB0aGlzLm1zZVdyYXBwZXIub24oJ21ldHJpYycsICh7XG4gICAgICB0eXBlLFxuICAgICAgdmFsdWUsXG4gICAgfSkgPT4ge1xuICAgICAgdGhpcy50cmlnZ2VyKCdtZXRyaWMnLCB7XG4gICAgICAgIHR5cGUsXG4gICAgICAgIHZhbHVlLFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICB0aGlzLm1zZVdyYXBwZXIuaW5pdGlhbGl6ZU1lZGlhU291cmNlKHtcbiAgICAgIG9uU291cmNlT3BlbjogYXN5bmMgKCkgPT4ge1xuICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1Zygnb24gbWVkaWFTb3VyY2Ugc291cmNlb3BlbicpO1xuXG4gICAgICAgIGF3YWl0IHRoaXMubXNlV3JhcHBlci5pbml0aWFsaXplU291cmNlQnVmZmVyKG1pbWVDb2RlYywge1xuICAgICAgICAgIG9uQXBwZW5kU3RhcnQ6IChieXRlQXJyYXkpID0+IHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLnNpbGx5KCdPbiBBcHBlbmQgU3RhcnQuLi4nKTtcblxuICAgICAgICAgICAgLy8gb25BcHBlbmRTdGFydFxuICAgICAgICAgICAgdGhpcy5jb25kdWl0LnNlZ21lbnRVc2VkKGJ5dGVBcnJheSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvbkFwcGVuZEZpbmlzaDogKGluZm8pID0+IHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLnNpbGx5KCdPbiBBcHBlbmQgRmluaXNoLi4uJyk7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5maXJzdEZyYW1lU2hvd24pIHtcbiAgICAgICAgICAgICAgdGhpcy5maXJzdEZyYW1lU2hvd24gPSB0cnVlO1xuICAgICAgICAgICAgICB0aGlzLnRyaWdnZXIoJ2ZpcnN0RnJhbWVTaG93bicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmRyaWZ0ID0gaW5mby5idWZmZXJUaW1lRW5kIC0gdGhpcy52aWRlb0VsZW1lbnQuY3VycmVudFRpbWU7XG5cbiAgICAgICAgICAgIHRoaXMubWV0cmljKCdzb3VyY2VCdWZmZXIuYnVmZmVyVGltZUVuZCcsIGluZm8uYnVmZmVyVGltZUVuZCk7XG4gICAgICAgICAgICB0aGlzLm1ldHJpYygndmlkZW8uY3VycmVudFRpbWUnLCB0aGlzLnZpZGVvRWxlbWVudC5jdXJyZW50VGltZSk7XG4gICAgICAgICAgICB0aGlzLm1ldHJpYygndmlkZW8uZHJpZnQnLCB0aGlzLmRyaWZ0KTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuZHJpZnQgPiAoKHRoaXMuc2VnbWVudEludGVydmFsQXZlcmFnZSAvIDEwMDApICsgdGhpcy5vcHRpb25zLmRyaWZ0Q29ycmVjdGlvbkNvbnN0YW50KSkge1xuICAgICAgICAgICAgICB0aGlzLm1ldHJpYygndmlkZW8uZHJpZnRDb3JyZWN0aW9uJywgMSk7XG4gICAgICAgICAgICAgIHRoaXMudmlkZW9FbGVtZW50LmN1cnJlbnRUaW1lID0gaW5mby5idWZmZXJUaW1lRW5kO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy52aWRlb0VsZW1lbnQucGF1c2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdWaWRlbyBpcyBwYXVzZWQhJyk7XG5cbiAgICAgICAgICAgICAgdGhpcy5faHRtbDVQbGF5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvblJlbW92ZUZpbmlzaDogKGluZm8pID0+IHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdvblJlbW92ZUZpbmlzaCcpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgb25BcHBlbmRFcnJvcjogYXN5bmMgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAvLyBpbnRlcm5hbCBlcnJvciwgdGhpcyBoYXMgYmVlbiBvYnNlcnZlZCB0byBoYXBwZW4gdGhlIHRhYlxuICAgICAgICAgICAgLy8gaW4gdGhlIGJyb3dzZXIgd2hlcmUgdGhpcyB2aWRlbyBwbGF5ZXIgbGl2ZXMgaXMgaGlkZGVuXG4gICAgICAgICAgICAvLyB0aGVuIHJlc2VsZWN0ZWQuICdleCcgaXMgdW5kZWZpbmVkIHRoZSBlcnJvciBpcyBidWdcbiAgICAgICAgICAgIC8vIHdpdGhpbiB0aGUgTVNFIEMrKyBpbXBsZW1lbnRhdGlvbiBpbiB0aGUgYnJvd3Nlci5cbiAgICAgICAgICAgIHRoaXMuX29uRXJyb3IoXG4gICAgICAgICAgICAgICdzb3VyY2VCdWZmZXIuYXBwZW5kJyxcbiAgICAgICAgICAgICAgJ0Vycm9yIHdoaWxlIGFwcGVuZGluZyB0byBzb3VyY2VCdWZmZXInLFxuICAgICAgICAgICAgICBlcnJvclxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5yZWluaXRpYWxpemVNc2VXcmFwcGVyKG1pbWVDb2RlYyk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvblJlbW92ZUVycm9yOiAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIGlmIChlcnJvci5jb25zdHJ1Y3Rvci5uYW1lID09PSAnRE9NRXhjZXB0aW9uJykge1xuICAgICAgICAgICAgICAvLyBAdG9kbyAtIGV2ZXJ5IHRpbWUgdGhlIG1zZVdyYXBwZXIgaXMgZGVzdHJveWVkLCB0aGVyZSBpcyBhXG4gICAgICAgICAgICAgIC8vIHNvdXJjZUJ1ZmZlciBlcnJvci4gIE5vIG5lZWQgdG8gbG9nIHRoYXQsIGJ1dCB5b3Ugc2hvdWxkIGZpeCBpdFxuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIG9ic2VydmVkIHRoaXMgZmFpbCBkdXJpbmcgYSBtZW1yeSBzbmFwc2hvdCBpbiBjaHJvbWVcbiAgICAgICAgICAgIC8vIG90aGVyd2lzZSBubyBvYnNlcnZlZCBmYWlsdXJlLCBzbyBpZ25vcmUgZXhjZXB0aW9uLlxuICAgICAgICAgICAgdGhpcy5fb25FcnJvcihcbiAgICAgICAgICAgICAgJ3NvdXJjZUJ1ZmZlci5yZW1vdmUnLFxuICAgICAgICAgICAgICAnRXJyb3Igd2hpbGUgcmVtb3Zpbmcgc2VnbWVudHMgZnJvbSBzb3VyY2VCdWZmZXInLFxuICAgICAgICAgICAgICBlcnJvclxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uU3RyZWFtRnJvemVuOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1Zygnc3RyZWFtIGFwcGVhcnMgdG8gYmUgZnJvemVuIC0gcmVpbml0aWFsaXppbmcuLi4nKTtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5yZWluaXRpYWxpemVNc2VXcmFwcGVyKG1pbWVDb2RlYyk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvbkVycm9yOiBhc3luYyAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX29uRXJyb3IoXG4gICAgICAgICAgICAgICdtZWRpYVNvdXJjZS5zb3VyY2VCdWZmZXIuZ2VuZXJpYycsXG4gICAgICAgICAgICAgICdtZWRpYVNvdXJjZSBzb3VyY2VCdWZmZXIgZXJyb3InLFxuICAgICAgICAgICAgICBlcnJvclxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5yZWluaXRpYWxpemVNc2VXcmFwcGVyKG1pbWVDb2RlYyk7XG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy50cmlnZ2VyKCd2aWRlb0luZm9SZWNlaXZlZCcpO1xuXG4gICAgICAgIHRoaXMubXNlV3JhcHBlci5hcHBlbmRNb292KHRoaXMubW9vdik7XG4gICAgICB9LFxuICAgICAgb25Tb3VyY2VFbmRlZDogYXN5bmMgKCkgPT4ge1xuICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1Zygnb24gbWVkaWFTb3VyY2Ugc291cmNlZW5kZWQnKTtcblxuICAgICAgICBhd2FpdCB0aGlzLnN0b3AoKTtcbiAgICAgIH0sXG4gICAgICBvbkVycm9yOiAoZXJyb3IpID0+IHtcbiAgICAgICAgdGhpcy5fb25FcnJvcihcbiAgICAgICAgICAnbWVkaWFTb3VyY2UuZ2VuZXJpYycsXG4gICAgICAgICAgJ21lZGlhU291cmNlIGVycm9yJyxcbiAgICAgICAgICAvLyBAdG9kbyAtIHNvbWV0aW1lcywgdGhpcyBlcnJvciBpcyBhbiBldmVudCByYXRoZXIgdGhhbiBhbiBlcnJvciFcbiAgICAgICAgICAvLyBJZiBkaWZmZXJlbnQgb25FcnJvciBjYWxscyB1c2UgZGlmZmVyZW50IG1ldGhvZCBzaWduYXR1cmVzLCB0aGF0XG4gICAgICAgICAgLy8gbmVlZHMgdG8gYmUgYWNjb3VudGVkIGZvciBpbiB0aGUgTVNFV3JhcHBlciwgYW5kIHRoZSBhY3R1YWwgZXJyb3JcbiAgICAgICAgICAvLyB0aGF0IHdhcyB0aHJvd24gbXVzdCBBTFdBWVMgYmUgdGhlIGZpcnN0IGFyZ3VtZW50IGhlcmUuICBBcyBhXG4gICAgICAgICAgLy8gc2hvcnRjdXQsIHdlIGNhbiBsb2cgYC4uLmFyZ3NgIGhlcmUgaW5zdGVhZC5cbiAgICAgICAgICBlcnJvclxuICAgICAgICApO1xuICAgICAgfSxcbiAgICB9KTtcblxuICAgIGlmICghdGhpcy5tc2VXcmFwcGVyLm1lZGlhU291cmNlIHx8ICF0aGlzLnZpZGVvRWxlbWVudCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgdmlkZW8gZWxlbWVudCBvciBtZWRpYVNvdXJjZSBpcyBub3QgcmVhZHkhJyk7XG4gICAgfVxuXG4gICAgdGhpcy5tc2VXcmFwcGVyLnJlaW5pdGlhbGl6ZVZpZGVvRWxlbWVudFNyYygpO1xuICB9XG5cbiAgYXN5bmMgcmVzdGFydCAoKSB7XG4gICAgdGhpcy5sb2dnZXIuZGVidWcoJ3Jlc3RhcnQnKTtcblxuICAgIGF3YWl0IHRoaXMuc3RvcCgpO1xuICAgIGF3YWl0IHRoaXMucGxheSgpO1xuICB9XG5cbiAgb25Nb29mID0gKG1xdHRNZXNzYWdlKSA9PiB7XG4gICAgLy8gQHRvZG8gLSB0aGlzIHNlZW1zIGxpa2UgYSBoYWNrLi4uXG4gICAgaWYgKHRoaXMuc3RvcHBlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMudHJpZ2dlcigndmlkZW9SZWNlaXZlZCcpO1xuICAgIHRoaXMuZ2V0U2VnbWVudEludGVydmFsTWV0cmljcygpO1xuXG4gICAgLy8gU29tZXRpbWVzLCB0aGUgZmlyc3QgbW9vZiBhcnJpdmVzIGJlZm9yZSB0aGUgbXNlV3JhcHBlciBoYXMgZmluaXNoZWRcbiAgICAvLyBiZWluZyBpbml0aWFsaXplZCwgc28gd2Ugd2lsbCBuZWVkIHRvIGRyb3AgdGhvc2UgZnJhbWVzXG4gICAgaWYgKCF0aGlzLm1zZVdyYXBwZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLm1zZVdyYXBwZXIuYXBwZW5kKG1xdHRNZXNzYWdlLnBheWxvYWRCeXRlcyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIE5vdGUgdGhhdCBpZiBhbiBlcnJvciBpcyB0aHJvd24gZHVyaW5nIHBsYXksIHRoZSBJb3ZQbGF5ZXIgaW5zdGFuY2Ugc2hvdWxkXG4gICAqIGJlIGRlc3Ryb3llZCB0byBmcmVlIHJlc291cmNlcy5cbiAgICovXG4gIGFzeW5jIHBsYXkgKCkge1xuICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdwbGF5Jyk7XG5cbiAgICB0aGlzLnN0b3BwZWQgPSBmYWxzZTtcblxuICAgIGlmICghdGhpcy5zdHJlYW1Db25maWd1cmF0aW9uKSB7XG4gICAgICB0aGlzLmxvZ2dlci5lcnJvcignQ2Fubm90IHBsYXkgYSBzdHJlYW0gd2l0aG91dCBhIHN0cmVhbSBjb25maWd1cmF0aW9uJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qge1xuICAgICAgLy8gZ3VpZCxcbiAgICAgIG1pbWVDb2RlYyxcbiAgICAgIG1vb3YsXG4gICAgfSA9IGF3YWl0IHRoaXMuY29uZHVpdC5wbGF5KHRoaXMub25Nb29mKTtcblxuICAgIGlmICghTVNFV3JhcHBlci5pc01pbWVDb2RlY1N1cHBvcnRlZChtaW1lQ29kZWMpKSB7XG4gICAgICB0aGlzLnRyaWdnZXIoJ3Vuc3VwcG9ydGVkTWltZUNvZGVjJywgYFVuc3VwcG9ydGVkIG1pbWUgY29kZWM6ICR7bWltZUNvZGVjfWApO1xuXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIG1pbWUgY29kZWM6ICR7bWltZUNvZGVjfWApO1xuICAgIH1cblxuICAgIHRoaXMubW9vdiA9IG1vb3Y7XG5cbiAgICBhd2FpdCB0aGlzLnJlaW5pdGlhbGl6ZU1zZVdyYXBwZXIobWltZUNvZGVjKTtcblxuICAgIHRoaXMuY29uZHVpdC5yZXN5bmNTdHJlYW0oKCkgPT4ge1xuICAgICAgLy8gY29uc29sZS5sb2coJ3N5bmMgcmVjZWl2ZWQgcmUtaW5pdGlhbGl6ZSBtZWRpYSBzb3VyY2UgYnVmZmVyJyk7XG4gICAgICB0aGlzLnJlaW5pdGlhbGl6ZU1zZVdyYXBwZXIobWltZUNvZGVjKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICovXG4gIHN0b3AgKCkge1xuICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdzdG9wLi4uJyk7XG5cbiAgICBpZiAodGhpcy5zdG9wcGVkKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgdGhpcy5zdG9wcGVkID0gdHJ1ZTtcbiAgICB0aGlzLm1vb3YgPSBudWxsO1xuXG4gICAgdGhpcy5sb2dnZXIuZGVidWcoJ3N0b3AgYWJvdXQgdG8gZmluaXNoIHN5bmNocm9ub3VzIG9wZXJhdGlvbnMgYW5kIHJldHVybiBwcm9taXNlLi4uJyk7XG5cbiAgICAvLyBUaGUgbG9naWMgYWJvdmUgTVVTVCBiZSBydW4gc3luY2hyb25vdXNseSB3aGVuIGNhbGxlZCwgdGhlcmVmb3JlLFxuICAgIC8vIHdlIGNhbm5vdCB1c2UgYXN5bmMgdG8gZGVmaW5lIHRoZSBzdG9wIG1ldGhvZCwgYW5kIG11c3QgcmV0dXJuIGFcbiAgICAvLyBwcm9taXNlIGhlcmUgcmF0aGVyIHRoYW4gdXNpbmcgYXdhaXQuICBXZSByZXR1cm4gdGhpcyBwcm9taXNlIHNvXG4gICAgLy8gdGhhdCB0aGUgY2FsbGVyIGhhcyB0aGUgb3B0aW9uIG9mIHdhaXRpbmcsIGJ1dCBpcyBub3QgZm9yY2VkIHRvXG4gICAgLy8gd2FpdC5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgdGhpcy5jb25kdWl0LnN0b3AoKTtcbiAgICAgIH1cbiAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignZmFpbGVkIHRvIHN0b3AgdGhlIGNvbmR1aXQnKTtcbiAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoZXJyb3IpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMubXNlV3JhcHBlcikge1xuICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1Zygnc3RvcCBzdWNjZWVkZWQgYXN5bmNocm9ub3VzbHkuLi4nKTtcbiAgICAgICAgcmV0dXJuIHJlc29sdmUoKTtcbiAgICAgIH1cblxuICAgICAgLy8gRG9uJ3Qgd2FpdCB1bnRpbCB0aGUgbmV4dCBwbGF5IGV2ZW50IG9yIHRoZSBkZXN0cnVjdGlvbiBvZiB0aGlzIHBsYXllclxuICAgICAgLy8gdG8gY2xlYXIgdGhlIE1TRVxuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgdGhpcy5tc2VXcmFwcGVyLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ3N0b3Agc3VjY2VlZGVkIGFzeW5jaHJvbm91c2x5Li4uJyk7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH1cbiAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignc3RvcCBmYWlsZWQgYXN5bmNocm9ub3VzbHkuLi4nKTtcbiAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5tc2VXcmFwcGVyID0gbnVsbDtcbiAgICB9KTtcbiAgfVxuXG4gIGdldFNlZ21lbnRJbnRlcnZhbE1ldHJpY3MgKCkge1xuICAgIGNvbnN0IHByZXZpb3VzU2VnbWVudFJlY2VpdmVkID0gdGhpcy5sYXRlc3RTZWdtZW50UmVjZWl2ZWQ7XG4gICAgdGhpcy5sYXRlc3RTZWdtZW50UmVjZWl2ZWQgPSBEYXRlLm5vdygpO1xuXG4gICAgaWYgKHByZXZpb3VzU2VnbWVudFJlY2VpdmVkKSB7XG4gICAgICB0aGlzLnNlZ21lbnRJbnRlcnZhbCA9IHRoaXMubGF0ZXN0U2VnbWVudFJlY2VpdmVkIC0gcHJldmlvdXNTZWdtZW50UmVjZWl2ZWQ7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc2VnbWVudEludGVydmFsKSB7XG4gICAgICBpZiAodGhpcy5zZWdtZW50SW50ZXJ2YWxzLmxlbmd0aCA+PSB0aGlzLm9wdGlvbnMuc2VnbWVudEludGVydmFsU2FtcGxlU2l6ZSkge1xuICAgICAgICB0aGlzLnNlZ21lbnRJbnRlcnZhbHMuc2hpZnQoKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zZWdtZW50SW50ZXJ2YWxzLnB1c2godGhpcy5zZWdtZW50SW50ZXJ2YWwpO1xuXG4gICAgICBsZXQgc2VnbWVudEludGVydmFsU3VtID0gMDtcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNlZ21lbnRJbnRlcnZhbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgc2VnbWVudEludGVydmFsU3VtICs9IHRoaXMuc2VnbWVudEludGVydmFsc1tpXTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zZWdtZW50SW50ZXJ2YWxBdmVyYWdlID0gc2VnbWVudEludGVydmFsU3VtIC8gdGhpcy5zZWdtZW50SW50ZXJ2YWxzLmxlbmd0aDtcblxuICAgICAgdGhpcy5tZXRyaWMoJ3ZpZGVvLnNlZ21lbnRJbnRlcnZhbCcsIHRoaXMuc2VnbWVudEludGVydmFsKTtcbiAgICAgIHRoaXMubWV0cmljKCd2aWRlby5zZWdtZW50SW50ZXJ2YWxBdmVyYWdlJywgdGhpcy5zZWdtZW50SW50ZXJ2YWxBdmVyYWdlKTtcbiAgICB9XG4gIH1cblxuICBlbnRlckZ1bGxzY3JlZW4oKSB7XG4gICAgaWYgKCF3aW5kb3cuZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnQpIHtcbiAgICAgIC8vIFNpbmNlIHRoZSBpb3YgYW5kIHBsYXllciB0YWtlIGNvbnRyb2wgb2YgdGhlIHZpZGVvIGVsZW1lbnQgYW5kIGl0c1xuICAgICAgLy8gcGFyZW50LCBhc2sgdGhlIHBhcmVudCBmb3IgZnVsbHNjcmVlbiBzaW5jZSB0aGUgdmlkZW8gZWxlbWVudHMgd2lsbCBiZVxuICAgICAgLy8gZGVzdHJveWVkIGFuZCByZWNyZWF0ZWQgd2hlbiBjaGFuZ2luZyBzb3VyY2VzXG4gICAgICB0aGlzLnZpZGVvRWxlbWVudC5wYXJlbnROb2RlLnJlcXVlc3RGdWxsc2NyZWVuKCk7XG4gICAgfVxuICB9XG5cbiAgZXhpdEZ1bGxzY3JlZW4oKSB7XG4gICAgaWYgKHdpbmRvdy5kb2N1bWVudC5leGl0RnVsbHNjcmVlbikge1xuICAgICAgd2luZG93LmRvY3VtZW50LmV4aXRGdWxsc2NyZWVuKCk7XG4gICAgfVxuICB9XG5cbiAgdG9nZ2xlRnVsbHNjcmVlbigpIHtcbiAgICBpZiAoIXdpbmRvdy5kb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudCkge1xuICAgICAgdGhpcy5lbnRlckZ1bGxzY3JlZW4oKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLmV4aXRGdWxsc2NyZWVuKCk7XG4gICAgfVxuICB9XG5cbiAgX2ZyZWVBbGxSZXNvdXJjZXMgKCkge1xuICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdfZnJlZUFsbFJlc291cmNlcy4uLicpO1xuXG4gICAgQ29uZHVpdENvbGxlY3Rpb24uYXNTaW5nbGV0b24oKS5yZW1vdmUodGhpcy5jbGllbnRJZCk7XG4gICAgdGhpcy5jb25kdWl0ID0gbnVsbDtcbiAgICAvLyBUaGUgY2FsbGVyIG11c3QgZGVzdHJveSB0aGUgc3RyZWFtQ29uZmlndXJhdGlvblxuICAgIHRoaXMuc3RyZWFtQ29uZmlndXJhdGlvbiA9IG51bGw7XG5cbiAgICB0aGlzLmZpcnN0RnJhbWVTaG93biA9IG51bGw7XG5cbiAgICB0aGlzLmV2ZW50cyA9IG51bGw7XG4gICAgdGhpcy5tZXRyaWNzID0gbnVsbDtcblxuICAgIHRoaXMuTG9nU291cmNlQnVmZmVyID0gbnVsbDtcbiAgICB0aGlzLkxvZ1NvdXJjZUJ1ZmZlclRvcGljID0gbnVsbDtcblxuICAgIHRoaXMubGF0ZXN0U2VnbWVudFJlY2VpdmVkID0gbnVsbDtcbiAgICB0aGlzLnNlZ21lbnRJbnRlcnZhbEF2ZXJhZ2UgPSBudWxsO1xuICAgIHRoaXMuc2VnbWVudEludGVydmFsID0gbnVsbDtcbiAgICB0aGlzLnNlZ21lbnRJbnRlcnZhbHMgPSBudWxsO1xuXG4gICAgdGhpcy5tb292ID0gbnVsbDtcblxuICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdfZnJlZUFsbFJlc291cmNlcyBmaW5pc2hlZC4uLicpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfVxuICAgKi9cbiAgZGVzdHJveSAoKSB7XG4gICAgdGhpcy5sb2dnZXIuZGVidWcoJ2Rlc3Ryb3kuLi4nKTtcblxuICAgIGlmICh0aGlzLmRlc3Ryb3llZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuZGVzdHJveWVkID0gdHJ1ZTtcblxuICAgIC8vIE5vdGUgdGhhdCB3ZSBETyBOT1Qgd2FpdCBmb3IgdGhlIHN0b3AgY29tbWFuZCB0byBmaW5pc2ggZXhlY3V0aW9uLFxuICAgIC8vIGJlY2F1c2UgdGhpcyBkZXN0cm95IG1ldGhvZCBNVVNUIGJlIHRyZWF0ZWQgYXMgYSBzeW5jaHJvbm91cyBvcGVyYXRpb25cbiAgICAvLyB0byBlbnN1cmUgdGhhdCB0aGUgY2FsbGVyIGlzIG5vdCBmb3JjZWQgdG8gd2FpdCBvbiBkZXN0cnVjdGlvbi4gIFRoaXNcbiAgICAvLyBhbGxvd3MgdXMgdG8gcHJvcGVybHkgc3VwcG9ydCBjbGllbnQgc2lkZSBsaWJyYXJpZXMgYW5kIGZyYW1ld29ya3MgdGhhdFxuICAgIC8vIGRvIG5vdCBzdXBwb3J0IGFzeW5jaHJvbm91cyBkZXN0cnVjdGlvbi4gIFNlZSB0aGUgY29tbWVudHMgaW4gdGhlIGRlc3Ryb3lcbiAgICAvLyBtZXRob2Qgb24gdGhlIE1TRVdyYXBwZXIgZm9yIGEgbW9yZSBkZXRhaWxlZCBleHBsYW5hdGlvbi5cbiAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnYWJvdXQgdG8gc3RvcC4uLicpO1xuXG4gICAgY29uc3Qgc3RvcFByb21pc2UgPSB0aGlzLnN0b3AoKTtcblxuICAgIC8vIFNldHRpbmcgdGhlIHNyYyBvZiB0aGUgdmlkZW8gZWxlbWVudCB0byBhbiBlbXB0eSBzdHJpbmcgaXNcbiAgICAvLyB0aGUgb25seSByZWxpYWJsZSB3YXkgd2UgaGF2ZSBmb3VuZCB0byBlbnN1cmUgdGhhdCBNZWRpYVNvdXJjZSxcbiAgICAvLyBTb3VyY2VCdWZmZXIsIGFuZCB2YXJpb3VzIFZpZGVvIGVsZW1lbnRzIGFyZSBwcm9wZXJseSBkZXJlZmVyZW5jZWRcbiAgICAvLyB0byBhdm9pZCBtZW1vcnkgbGVha3NcbiAgICAvLyBAdG9kbyAtIHNob3VsZCB0aGVzZSBvY2N1ciBhZnRlciBzdG9wPyBpcyB0aGVyZSBhIHJlYXNvbiB0aGV5J3JlIGRvbmVcbiAgICAvLyBpbiB0aGlzIG9yZGVyP1xuICAgIHRoaXMudmlkZW9FbGVtZW50LnNyYyA9ICcnO1xuICAgIHRoaXMudmlkZW9FbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy52aWRlb0VsZW1lbnQpO1xuICAgIHRoaXMudmlkZW9FbGVtZW50LnJlbW92ZSgpO1xuICAgIHRoaXMudmlkZW9FbGVtZW50ID0gbnVsbDtcblxuICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdleGl0aW5nIGRlc3Ryb3ksIGFzeW5jaHJvbm91cyBkZXN0cm95IGxvZ2ljIGluIHByb2dyZXNzLi4uJyk7XG5cbiAgICByZXR1cm4gc3RvcFByb21pc2VcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ3N0b3BwZWQgc3VjY2Vzc2Z1bGx5Li4uJyk7XG4gICAgICAgIHRoaXMuX2ZyZWVBbGxSZXNvdXJjZXMoKTtcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ2Rlc3Ryb3kgc3VjY2Vzc2Z1bGx5IGZpbmlzaGVkLi4uJyk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1Zygnc3RvcHBlZCB1bnN1Y2Nlc3NmdWxseS4uLicpO1xuICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignRXJyb3Igd2hpbGUgZGVzdHJveWluZyB0aGUgaW92IHBsYXllciEnKTtcbiAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoZXJyb3IpO1xuICAgICAgICB0aGlzLl9mcmVlQWxsUmVzb3VyY2VzKCk7XG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdkZXN0cm95IHVuc3VjY2Vzc2Z1bGx5IGZpbmlzaGVkLi4uJyk7XG4gICAgICB9KTtcbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/iov/IovPlayer.js\n");

/***/ }),

/***/ "./src/js/iov/MSEWrapper.js":
/*!**********************************!*\
  !*** ./src/js/iov/MSEWrapper.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return MSEWrapper; });\n/* harmony import */ var debug__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! debug */ \"./node_modules/debug/src/browser.js\");\n/* harmony import */ var debug__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(debug__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var lodash_defaults__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/defaults */ \"./node_modules/lodash/defaults.js\");\n/* harmony import */ var lodash_defaults__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_defaults__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var lodash_noop__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/noop */ \"./node_modules/lodash/noop.js\");\n/* harmony import */ var lodash_noop__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_noop__WEBPACK_IMPORTED_MODULE_2__);\n\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n // import { mp4toJSON } from './mp4-inspect';\n\nvar DEBUG_PREFIX = 'skyline:clsp:iov';\nvar debug = debug__WEBPACK_IMPORTED_MODULE_0___default()(\"\".concat(DEBUG_PREFIX, \":MSEWrapper\"));\nvar silly = debug__WEBPACK_IMPORTED_MODULE_0___default()(\"silly:\".concat(DEBUG_PREFIX, \":MSEWrapper\")); // This is the original error text, but it is subject to change by chrome,\n// and we are only checking the part of the error text that contains no\n// punctuation (and is all lower case).\n// \"Failed to execute 'appendBuffer' on 'SourceBuffer': The SourceBuffer is full, and cannot free space to append additional buffers.\";\n\nvar FULL_BUFFER_ERROR = 'and cannot free space to append additional buffers';\n\nvar MSEWrapper =\n/*#__PURE__*/\nfunction () {\n  _createClass(MSEWrapper, null, [{\n    key: \"isMimeCodecSupported\",\n    value: function isMimeCodecSupported(mimeCodec) {\n      return window.MediaSource && window.MediaSource.isTypeSupported(mimeCodec);\n    }\n  }, {\n    key: \"factory\",\n    value: function factory(videoElement) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return new MSEWrapper(videoElement, options);\n    }\n  }]);\n\n  function MSEWrapper(videoElement) {\n    var _this = this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, MSEWrapper);\n\n    _defineProperty(this, \"onSourceBufferUpdateEnd\", function () {\n      silly('onUpdateEnd');\n\n      _this.metric('sourceBuffer.updateEnd', 1);\n\n      if (_this.shouldAbort) {\n        _this.sourceBufferAbort();\n      }\n\n      try {\n        // Sometimes the mediaSource is removed while an update is being\n        // processed, resulting in an error when trying to read the\n        // \"buffered\" property.\n        if (_this.sourceBuffer.buffered.length <= 0) {\n          _this.metric('sourceBuffer.updateEnd.bufferLength.empty', 1);\n\n          debug('After updating, the sourceBuffer has no length!');\n          return;\n        }\n      } catch (error) {\n        // @todo - do we need to handle this?\n        _this.metric('sourceBuffer.updateEnd.bufferLength.error', 1);\n\n        debug('The mediaSource was removed while an update operation was occurring.');\n        return;\n      }\n\n      var info = _this.getBufferTimes();\n\n      _this.timeBuffered = info.currentBufferSize;\n\n      if (info.previousBufferSize !== null && info.previousBufferSize > _this.timeBuffered) {\n        _this.onRemoveFinish(info);\n      } else {\n        _this.onAppendFinish(info);\n      }\n\n      _this.processNextInQueue();\n    });\n\n    debug('Constructing...');\n\n    if (!videoElement) {\n      throw new Error('videoElement is required to construct an MSEWrapper.');\n    }\n\n    this.destroyed = false;\n    this.videoElement = videoElement;\n    this.options = lodash_defaults__WEBPACK_IMPORTED_MODULE_1___default()({}, options, {\n      // These default buffer value provide the best results in my testing.\n      // It keeps the memory usage as low as is practical, and rarely causes\n      // the video to stutter\n      bufferSizeLimit: 90 + Math.floor(Math.random() * 200),\n      bufferTruncateFactor: 2,\n      bufferTruncateValue: null,\n      driftThreshold: 2000,\n      duration: 10,\n      enableMetrics: false,\n      appendsWithSameTimeEndThreshold: 1\n    });\n    this.segmentQueue = [];\n    this.sequenceNumber = 0;\n    this.mediaSource = null;\n    this.sourceBuffer = null;\n    this.objectURL = null;\n    this.timeBuffered = null;\n    this.appendsSinceTimeEndUpdated = 0;\n\n    if (!this.options.bufferTruncateValue) {\n      this.options.bufferTruncateValue = parseInt(this.options.bufferSizeLimit / this.options.bufferTruncateFactor);\n    }\n\n    this.metrics = {}; // @todo - there must be a more proper way to do events than this...\n\n    this.events = {};\n\n    for (var i = 0; i < MSEWrapper.EVENT_NAMES.length; i++) {\n      this.events[MSEWrapper.EVENT_NAMES[i]] = [];\n    }\n\n    this.eventListeners = {\n      mediaSource: {},\n      sourceBuffer: {}\n    };\n  }\n\n  _createClass(MSEWrapper, [{\n    key: \"on\",\n    value: function on(name, action) {\n      debug(\"Registering Listener for \".concat(name, \" event...\"));\n\n      if (!MSEWrapper.EVENT_NAMES.includes(name)) {\n        throw new Error(\"\\\"\".concat(name, \"\\\" is not a valid event.\\\"\"));\n      }\n\n      this.events[name].push(action);\n    }\n  }, {\n    key: \"trigger\",\n    value: function trigger(name, value) {\n      if (name === 'metric') {\n        silly(\"Triggering \".concat(name, \" event...\"));\n      } else {\n        debug(\"Triggering \".concat(name, \" event...\"));\n      }\n\n      if (!MSEWrapper.EVENT_NAMES.includes(name)) {\n        throw new Error(\"\\\"\".concat(name, \"\\\" is not a valid event.\\\"\"));\n      }\n\n      for (var i = 0; i < this.events[name].length; i++) {\n        this.events[name][i](value, this);\n      }\n    }\n  }, {\n    key: \"metric\",\n    value: function metric(type, value) {\n      if (!this.options || !this.options.enableMetrics) {\n        return;\n      }\n\n      if (!MSEWrapper.METRIC_TYPES.includes(type)) {\n        // @todo - should this throw?\n        return;\n      }\n\n      switch (type) {\n        case 'sourceBuffer.lastKnownBufferSize':\n        case 'sourceBuffer.lastMoofSize':\n          {\n            this.metrics[type] = value;\n            break;\n          }\n\n        default:\n          {\n            if (!this.metrics.hasOwnProperty(type)) {\n              this.metrics[type] = 0;\n            }\n\n            this.metrics[type] += value;\n          }\n      }\n\n      this.trigger('metric', {\n        type: type,\n        value: this.metrics[type]\n      });\n    }\n  }, {\n    key: \"initializeMediaSource\",\n    value: function initializeMediaSource() {\n      var _this2 = this;\n\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      debug('Initializing mediaSource...');\n      options = lodash_defaults__WEBPACK_IMPORTED_MODULE_1___default()({}, options, {\n        onSourceOpen: lodash_noop__WEBPACK_IMPORTED_MODULE_2___default.a,\n        onSourceEnded: lodash_noop__WEBPACK_IMPORTED_MODULE_2___default.a,\n        onError: lodash_noop__WEBPACK_IMPORTED_MODULE_2___default.a\n      });\n      this.metric('mediaSource.created', 1); // Kill the existing media source\n\n      this.destroyMediaSource();\n      this.mediaSource = new window.MediaSource();\n\n      this.eventListeners.mediaSource.sourceopen = function () {\n        // This can only be set when the media source is open.\n        // @todo - does this do memory management for us so we don't have\n        // to call remove on the buffer, which is expensive?  It seems\n        // like it...\n        _this2.mediaSource.duration = _this2.options.duration;\n        options.onSourceOpen();\n      };\n\n      this.eventListeners.mediaSource.sourceended = options.onSourceEnded;\n      this.eventListeners.mediaSource.error = options.onError;\n      this.mediaSource.addEventListener('sourceopen', this.eventListeners.mediaSource.sourceopen);\n      this.mediaSource.addEventListener('sourceended', this.eventListeners.mediaSource.sourceended);\n      this.mediaSource.addEventListener('error', this.eventListeners.mediaSource.error);\n    }\n  }, {\n    key: \"getVideoElementSrc\",\n    value: function getVideoElementSrc() {\n      debug('getVideoElementSrc...');\n\n      if (!this.mediaSource) {\n        // @todo - should this throw?\n        return;\n      } // @todo - should multiple calls to this method with the same mediaSource\n      // result in multiple objectURLs being created?  The docs for this say that\n      // it creates something on the document, which lives until revokeObjectURL\n      // is called on it.  Does that mean we should only ever have one per\n      // this.mediaSource?  It seems like it, but I do not know.  Having only one\n      // seems more predictable, and more memory efficient.\n      // Ensure only a single objectURL exists at one time\n\n\n      if (!this.objectURL) {\n        this.metric('objectURL.created', 1);\n        this.objectURL = window.URL.createObjectURL(this.mediaSource);\n      }\n\n      this.videoElement.src = this.objectURL;\n    }\n  }, {\n    key: \"destroyVideoElementSrc\",\n    value: function destroyVideoElementSrc() {\n      debug('destroyVideoElementSrc...');\n\n      if (!this.mediaSource) {\n        // @todo - should this throw?\n        return;\n      }\n\n      if (!this.objectURL) {\n        // @todo - should this throw?\n        return;\n      } // this.metric('objectURL.revoked', 1);\n\n\n      this.objectURL = null;\n\n      if (this.sourceBuffer) {\n        this.shouldAbort = true;\n      } // free the resource\n\n\n      return window.URL.revokeObjectURL(this.videoElement.src);\n    }\n  }, {\n    key: \"reinitializeVideoElementSrc\",\n    value: function reinitializeVideoElementSrc() {\n      this.metric('mediaSource.reinitialized', 1);\n      this.destroyVideoElementSrc(); // reallocate, this will call media source open which will\n      // append the MOOV atom.\n\n      return this.getVideoElementSrc();\n    }\n  }, {\n    key: \"isMediaSourceReady\",\n    value: function isMediaSourceReady() {\n      // found when stress testing many videos, it is possible for the\n      // media source ready state not to be open even though\n      // source open callback is being called.\n      return this.mediaSource && this.mediaSource.readyState === 'open';\n    }\n  }, {\n    key: \"isSourceBufferReady\",\n    value: function isSourceBufferReady() {\n      return this.sourceBuffer && this.sourceBuffer.updating === false;\n    }\n  }, {\n    key: \"initializeSourceBuffer\",\n    value: function () {\n      var _initializeSourceBuffer = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee(mimeCodec) {\n        var options,\n            _args = arguments;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                options = _args.length > 1 && _args[1] !== undefined ? _args[1] : {};\n                debug('initializeSourceBuffer...');\n                options = lodash_defaults__WEBPACK_IMPORTED_MODULE_1___default()({}, options, {\n                  onAppendStart: lodash_noop__WEBPACK_IMPORTED_MODULE_2___default.a,\n                  onAppendFinish: lodash_noop__WEBPACK_IMPORTED_MODULE_2___default.a,\n                  onRemoveFinish: lodash_noop__WEBPACK_IMPORTED_MODULE_2___default.a,\n                  onAppendError: lodash_noop__WEBPACK_IMPORTED_MODULE_2___default.a,\n                  onRemoveError: lodash_noop__WEBPACK_IMPORTED_MODULE_2___default.a,\n                  onStreamFrozen: lodash_noop__WEBPACK_IMPORTED_MODULE_2___default.a,\n                  onError: lodash_noop__WEBPACK_IMPORTED_MODULE_2___default.a,\n                  retry: true\n                });\n\n                if (this.isMediaSourceReady()) {\n                  _context.next = 5;\n                  break;\n                }\n\n                throw new Error('Cannot create the sourceBuffer if the mediaSource is not ready.');\n\n              case 5:\n                _context.next = 7;\n                return this.destroySourceBuffer();\n\n              case 7:\n                this.metric('sourceBuffer.created', 1);\n                this.sourceBuffer = this.mediaSource.addSourceBuffer(mimeCodec);\n                this.sourceBuffer.mode = 'sequence'; // Custom Events\n\n                this.eventListeners.sourceBuffer.onAppendStart = options.onAppendStart;\n                this.eventListeners.sourceBuffer.onAppendError = options.onAppendError;\n                this.eventListeners.sourceBuffer.onRemoveFinish = options.onRemoveFinish;\n                this.eventListeners.sourceBuffer.onAppendFinish = options.onAppendFinish;\n                this.eventListeners.sourceBuffer.onRemoveError = options.onRemoveError;\n                this.eventListeners.sourceBuffer.onStreamFrozen = options.onStreamFrozen;\n                this.eventListeners.sourceBuffer.onError = options.onError; // Supported Events\n\n                this.sourceBuffer.addEventListener('updateend', this.onSourceBufferUpdateEnd);\n                this.sourceBuffer.addEventListener('error', this.eventListeners.sourceBuffer.onError);\n\n              case 19:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function initializeSourceBuffer(_x) {\n        return _initializeSourceBuffer.apply(this, arguments);\n      }\n\n      return initializeSourceBuffer;\n    }()\n  }, {\n    key: \"queueSegment\",\n    value: function queueSegment(segment) {\n      if (this.segmentQueue.length) {\n        debug(\"Queueing segment.  The queue currently has \".concat(this.segmentQueue.length, \" segments.\"));\n      } else {\n        silly(\"Queueing segment.  The queue is currently empty.\");\n      }\n\n      this.metric('queue.added', 1);\n      this.segmentQueue.push({\n        timestamp: Date.now(),\n        byteArray: segment\n      });\n    }\n  }, {\n    key: \"sourceBufferAbort\",\n    value: function sourceBufferAbort() {\n      debug('Aborting current sourceBuffer operation');\n\n      try {\n        this.metric('sourceBuffer.abort', 1);\n\n        if (this.sourceBuffer) {\n          this.sourceBuffer.abort();\n          this.shouldAbort = false;\n        }\n      } catch (error) {\n        this.metric('error.sourceBuffer.abort', 1); // Somehow, this can be become undefined...\n\n        if (this.eventListeners.sourceBuffer.onAbortError) {\n          this.eventListeners.sourceBuffer.onAbortError(error);\n        }\n      }\n    }\n  }, {\n    key: \"_append\",\n    value: function _append(_ref) {\n      var timestamp = _ref.timestamp,\n          byteArray = _ref.byteArray;\n      silly('Appending to the sourceBuffer...');\n\n      try {\n        var estimatedDrift = Date.now() - timestamp;\n\n        if (estimatedDrift > this.options.driftThreshold) {\n          debug(\"Estimated drift of \".concat(estimatedDrift, \" is above the \").concat(this.options.driftThreshold, \" threshold.  Flushing queue...\")); // @todo - perhaps we should re-add the last segment to the queue with a fresh\n          // timestamp?  I think one cause of stream freezing is the sourceBuffer getting\n          // starved, but I don't know if that's correct\n\n          this.metric('queue.removed', this.segmentQueue.length + 1);\n          this.segmentQueue = [];\n          return;\n        }\n\n        silly(\"Appending to the buffer with an estimated drift of \".concat(estimatedDrift));\n        this.metric('sourceBuffer.append', 1);\n        this.sourceBuffer.appendBuffer(byteArray);\n      } catch (error) {\n        if (error.message && error.message.toLowerCase().includes(FULL_BUFFER_ERROR)) {\n          // @todo - make this a valid metric\n          // this.metric('error.sourceBuffer.filled', 1);\n          // If the buffer is full, we will flush it\n          console.warn('source buffer is full, about to flush it...');\n          this.trimBuffer(undefined, true);\n        } else {\n          this.metric('error.sourceBuffer.append', 1);\n          this.eventListeners.sourceBuffer.onAppendError(error, byteArray);\n        }\n      }\n    }\n  }, {\n    key: \"processNextInQueue\",\n    value: function processNextInQueue() {\n      silly('processNextInQueue');\n\n      if (this.destroyed) {\n        return;\n      }\n\n      if (document.hidden) {\n        debug('Tab not in focus - dropping frame...');\n        this.metric('frameDrop.hiddenTab', 1);\n        this.metric('queue.cannotProcessNext', 1);\n        return;\n      }\n\n      if (!this.isMediaSourceReady()) {\n        debug('The mediaSource is not ready');\n        this.metric('queue.mediaSourceNotReady', 1);\n        this.metric('queue.cannotProcessNext', 1);\n        return;\n      }\n\n      if (!this.isSourceBufferReady()) {\n        debug('The sourceBuffer is busy');\n        this.metric('queue.sourceBufferNotReady', 1);\n        this.metric('queue.cannotProcessNext', 1);\n        return;\n      }\n\n      if (this.segmentQueue.length > 0) {\n        this.metric('queue.shift', 1);\n        this.metric('queue.canProcessNext', 1);\n\n        this._append(this.segmentQueue.shift());\n      }\n    }\n  }, {\n    key: \"formatMoof\",\n    value: function formatMoof(moof) {\n      // We must overwrite the sequence number locally, because it\n      // the sequence that comes from the server will not necessarily\n      // start at zero.  It should start from zero locally.  This\n      // requirement may have changed with more recent versions of the\n      // browser, but it appears to make the video play a little more\n      // smoothly\n      moof[20] = (this.sequenceNumber & 0xFF000000) >> 24;\n      moof[21] = (this.sequenceNumber & 0x00FF0000) >> 16;\n      moof[22] = (this.sequenceNumber & 0x0000FF00) >> 8;\n      moof[23] = this.sequenceNumber & 0xFF;\n      return moof;\n    }\n  }, {\n    key: \"appendMoov\",\n    value: function appendMoov(moov) {\n      debug('appendMoov');\n\n      if (!moov) {\n        // @todo - do we need to throw here or something?  Under what\n        // circumstance would this be called with no moov?\n        return;\n      }\n\n      this.metric('sourceBuffer.lastMoovSize', moov.length); // Sometimes this can get hit after destroy is called\n\n      if (!this.eventListeners.sourceBuffer.onAppendStart) {\n        return;\n      }\n\n      debug('appending moov...');\n      this.queueSegment(moov);\n      this.processNextInQueue();\n    }\n  }, {\n    key: \"append\",\n    value: function append(byteArray) {\n      silly('Append');\n\n      if (this.destroyed) {\n        return;\n      }\n\n      this.metric('sourceBuffer.lastMoofSize', byteArray.length); // console.log(mp4toJSON(byteArray));\n      // Sometimes this can get hit after destroy is called\n\n      if (!this.eventListeners.sourceBuffer.onAppendStart) {\n        return;\n      }\n\n      this.eventListeners.sourceBuffer.onAppendStart(byteArray);\n      this.metric('queue.append', 1);\n      this.queueSegment(this.formatMoof(byteArray));\n      this.sequenceNumber++;\n      this.processNextInQueue();\n    }\n  }, {\n    key: \"getBufferTimes\",\n    value: function getBufferTimes() {\n      silly('getBufferTimes...');\n\n      try {\n        var previousBufferSize = this.timeBuffered;\n        var bufferTimeStart = this.sourceBuffer.buffered.start(0);\n        var bufferTimeEnd = this.sourceBuffer.buffered.end(0);\n        var currentBufferSize = bufferTimeEnd - bufferTimeStart;\n        silly('getBufferTimes finished successfully...');\n        return {\n          previousBufferSize: previousBufferSize,\n          currentBufferSize: currentBufferSize,\n          bufferTimeStart: bufferTimeStart,\n          bufferTimeEnd: bufferTimeEnd\n        };\n      } catch (error) {\n        debug('getBufferTimes finished unsuccessfully...');\n        return null;\n      }\n    }\n  }, {\n    key: \"trimBuffer\",\n    value: function trimBuffer() {\n      var info = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.getBufferTimes();\n      var clearBuffer = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      silly('trimBuffer...');\n      this.metric('sourceBuffer.lastKnownBufferSize', this.timeBuffered);\n\n      try {\n        if (info && (clearBuffer || this.timeBuffered > this.options.bufferSizeLimit) && this.isSourceBufferReady()) {\n          debug('Removing old stuff from sourceBuffer...'); // @todo - this is the biggest performance problem we have with this player.\n          // Can you figure out how to manage the memory usage without causing the streams\n          // to stutter?\n\n          this.metric('sourceBuffer.trim', this.options.bufferTruncateValue);\n          var trimEndTime = clearBuffer ? Infinity : info.bufferTimeStart + this.options.bufferTruncateValue;\n          debug('trimming buffer...');\n          this.sourceBuffer.remove(info.bufferTimeStart, trimEndTime);\n          debug('finished trimming buffer...');\n        }\n      } catch (error) {\n        debug('trimBuffer failure!');\n        this.metric('sourceBuffer.trim.error', 1);\n        this.eventListeners.sourceBuffer.onRemoveError(error);\n        console.error(error);\n      }\n\n      silly('trimBuffer finished...');\n    }\n  }, {\n    key: \"onRemoveFinish\",\n    value: function onRemoveFinish() {\n      var info = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.getBufferTimes();\n      debug('On remove finish...');\n      this.metric('sourceBuffer.updateEnd.removeEvent', 1);\n      this.eventListeners.sourceBuffer.onRemoveFinish(info);\n    }\n  }, {\n    key: \"onAppendFinish\",\n    value: function onAppendFinish() {\n      var info = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.getBufferTimes();\n      silly('On append finish...');\n      this.metric('sourceBuffer.updateEnd.appendEvent', 1); // The current buffer size should always be bigger.If it isn't, there is a problem,\n      // and we need to reinitialize or something.  Sometimes the buffer is the same.  This is\n      // allowed for consecutive appends, but only a configurable number of times.  The default\n      // is 1\n\n      debug('Appends with same time end: ' + this.appendsSinceTimeEndUpdated);\n\n      if (this.previousTimeEnd && info.bufferTimeEnd <= this.previousTimeEnd) {\n        this.appendsSinceTimeEndUpdated += 1;\n        this.metric('sourceBuffer.updateEnd.bufferFrozen', 1); //append threshold with same time end has been crossed.  Reinitialize frozen stream.\n\n        if (this.appendsSinceTimeEndUpdated > this.options.appendsWithSameTimeEndThreshold) {\n          debug('stream frozen!');\n          this.eventListeners.sourceBuffer.onStreamFrozen();\n          return;\n        }\n      }\n\n      this.appendsSinceTimeEndUpdated = 0;\n      this.previousTimeEnd = info.bufferTimeEnd;\n      this.eventListeners.sourceBuffer.onAppendFinish(info);\n      this.trimBuffer(info);\n    }\n  }, {\n    key: \"destroySourceBuffer\",\n    value: function destroySourceBuffer() {\n      var _this3 = this;\n\n      debug('destroySourceBuffer...');\n      return new Promise(function (resolve, reject) {\n        var finish = function finish() {\n          if (_this3.sourceBuffer) {\n            _this3.sourceBuffer.removeEventListener('updateend', finish);\n          } // We must abort in the final updateend listener to ensure that\n          // any operations, especially the remove operation, finish first,\n          // as aborting while removing is deprecated.\n\n\n          _this3.sourceBufferAbort();\n\n          debug('destroySourceBuffer finished...');\n          resolve();\n        };\n\n        if (!_this3.sourceBuffer) {\n          return finish();\n        }\n\n        _this3.sourceBuffer.removeEventListener('updateend', _this3.onSourceBufferUpdateEnd);\n\n        _this3.sourceBuffer.removeEventListener('error', _this3.eventListeners.sourceBuffer.onError);\n\n        _this3.sourceBuffer.addEventListener('updateend', finish); // @todo - this is a hack - sometimes, the trimBuffer operation does not cause an update\n        // on the sourceBuffer.  This acts as a timeout to ensure the destruction of this mseWrapper\n        // instance can complete.\n\n\n        debug('giving sourceBuffer some time to finish updating itself...');\n        setTimeout(finish, 1000);\n      });\n    }\n  }, {\n    key: \"destroyMediaSource\",\n    value: function destroyMediaSource() {\n      this.metric('sourceBuffer.destroyed', 1);\n      debug('Destroying mediaSource...');\n\n      if (!this.mediaSource) {\n        return;\n      } // We must do this PRIOR to the sourceBuffer being destroyed, to ensure that the\n      // 'buffered' property is still available, which is necessary for completely\n      // emptying the sourceBuffer.\n\n\n      this.trimBuffer(undefined, true);\n      this.mediaSource.removeEventListener('sourceopen', this.eventListeners.mediaSource.sourceopen);\n      this.mediaSource.removeEventListener('sourceended', this.eventListeners.mediaSource.sourceended);\n      this.mediaSource.removeEventListener('error', this.eventListeners.mediaSource.error); // let sourceBuffers = this.mediaSource.sourceBuffers;\n      // if (sourceBuffers.SourceBuffers) {\n      //   // @see - https://developer.mozilla.org/en-US/docs/Web/API/MediaSource/sourceBuffers\n      //   sourceBuffers = sourceBuffers.SourceBuffers();\n      // }\n      // for (let i = 0; i < sourceBuffers.length; i++) {\n      // this.mediaSource.removeSourceBuffer(sourceBuffers[i]);\n      // }\n\n      if (this.isMediaSourceReady() && this.isSourceBufferReady()) {\n        debug('media source was ready for endOfStream and removeSourceBuffer');\n        this.mediaSource.endOfStream();\n        this.mediaSource.removeSourceBuffer(this.sourceBuffer);\n      } // @todo - is this happening at the right time, or should it happen\n      // prior to removing the source buffers?\n\n\n      this.destroyVideoElementSrc();\n      this.metric('mediaSource.destroyed', 1);\n    }\n  }, {\n    key: \"_freeAllResources\",\n    value: function _freeAllResources() {\n      debug('_freeAllResources...'); // We make NO assumptions here about what instance properties are\n      // needed during the asynchronous destruction of the source buffer,\n      // therefore we wait until it is finished to free all of these\n      // resources.\n\n      this.mediaSource = null;\n      this.sourceBuffer = null;\n      this.videoElement = null;\n      this.timeBuffered = null;\n      this.previousTimeEnd = null;\n      this.segmentQueue = null;\n      this.options = null;\n      this.metrics = null;\n      this.events = null;\n      this.eventListeners = null;\n      debug('_freeAllResources finished...');\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this4 = this;\n\n      debug('destroy...');\n\n      if (this.destroyed) {\n        return Promise.resolve();\n      }\n\n      this.destroyed = true;\n      this.destroyMediaSource(); // We MUST not force the destroy method here to be asynchronous, even\n      // though it \"should\" be.  This is because we cannot assume that the\n      // caller has control over whether or not its destroy method can be\n      // properly run asynchronously.  The specific use case here is that\n      // many client side libraries (angular, marionette, react, etc.) do\n      // not all give pre-destruction methods or events that can wait for\n      // an asynchronous operation.  If angular decides it is going to\n      // destroy a DOM element when a user navigates, we have no way of\n      // ensuring that it supports asynchronous operations, or that the\n      // caller is properly using them, if they exist.  Therefore, this\n      // destroy method will clean up the source buffer later, allowing the\n      // rest of the clsp destruction logic to continue.  The use case for\n      // needing that functionality is that the conduit needs to use the its\n      // iframe to contact the server, and if the iframe is destroyed before\n      // the conduit talks to the server, errors will be thrown during\n      // destruction, which will lead to resources not being free / memory\n      // leaks, which may cause the browser to crash after extended periods\n      // of time, such as 24 hours.\n      // Note that we still return the promise, so that the caller has the\n      // option of waiting if they choose.\n\n      var destroyPromise = this.destroySourceBuffer().then(function () {\n        debug('destroySourceBuffer successfully finished...');\n\n        _this4._freeAllResources();\n\n        debug('destroy successfully finished...');\n      })[\"catch\"](function (error) {\n        debug('destroySourceBuffer failed...');\n        console.error('Error while destroying the source buffer!');\n        console.error(error); // Do our best at memory management, even on failure\n\n        _this4._freeAllResources();\n\n        debug('destroy unsuccessfully finished...');\n      });\n      debug('exiting destroy, asynchronous destroy logic in progress...');\n      return destroyPromise;\n    }\n  }]);\n\n  return MSEWrapper;\n}();\n\n_defineProperty(MSEWrapper, \"EVENT_NAMES\", ['metric']);\n\n_defineProperty(MSEWrapper, \"METRIC_TYPES\", ['mediaSource.created', 'mediaSource.destroyed', 'objectURL.created', 'objectURL.revoked', 'mediaSource.reinitialized', 'sourceBuffer.created', 'sourceBuffer.destroyed', 'queue.added', 'queue.removed', 'sourceBuffer.append', 'error.sourceBuffer.append', 'frameDrop.hiddenTab', 'queue.mediaSourceNotReady', 'queue.sourceBufferNotReady', 'queue.shift', 'queue.append', 'sourceBuffer.lastKnownBufferSize', 'sourceBuffer.trim', 'sourceBuffer.trim.error', 'sourceBuffer.updateEnd', 'sourceBuffer.updateEnd.bufferLength.empty', 'sourceBuffer.updateEnd.bufferLength.error', 'sourceBuffer.updateEnd.removeEvent', 'sourceBuffer.updateEnd.appendEvent', 'sourceBuffer.updateEnd.bufferFrozen', 'sourceBuffer.abort', 'error.sourceBuffer.abort', 'sourceBuffer.lastMoofSize']);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvaW92L01TRVdyYXBwZXIuanM/MDRhYyJdLCJuYW1lcyI6WyJERUJVR19QUkVGSVgiLCJkZWJ1ZyIsIkRlYnVnIiwic2lsbHkiLCJGVUxMX0JVRkZFUl9FUlJPUiIsIk1TRVdyYXBwZXIiLCJtaW1lQ29kZWMiLCJ3aW5kb3ciLCJNZWRpYVNvdXJjZSIsImlzVHlwZVN1cHBvcnRlZCIsInZpZGVvRWxlbWVudCIsIm9wdGlvbnMiLCJtZXRyaWMiLCJzaG91bGRBYm9ydCIsInNvdXJjZUJ1ZmZlckFib3J0Iiwic291cmNlQnVmZmVyIiwiYnVmZmVyZWQiLCJsZW5ndGgiLCJlcnJvciIsImluZm8iLCJnZXRCdWZmZXJUaW1lcyIsInRpbWVCdWZmZXJlZCIsImN1cnJlbnRCdWZmZXJTaXplIiwicHJldmlvdXNCdWZmZXJTaXplIiwib25SZW1vdmVGaW5pc2giLCJvbkFwcGVuZEZpbmlzaCIsInByb2Nlc3NOZXh0SW5RdWV1ZSIsIkVycm9yIiwiZGVzdHJveWVkIiwiZGVmYXVsdHMiLCJidWZmZXJTaXplTGltaXQiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJidWZmZXJUcnVuY2F0ZUZhY3RvciIsImJ1ZmZlclRydW5jYXRlVmFsdWUiLCJkcmlmdFRocmVzaG9sZCIsImR1cmF0aW9uIiwiZW5hYmxlTWV0cmljcyIsImFwcGVuZHNXaXRoU2FtZVRpbWVFbmRUaHJlc2hvbGQiLCJzZWdtZW50UXVldWUiLCJzZXF1ZW5jZU51bWJlciIsIm1lZGlhU291cmNlIiwib2JqZWN0VVJMIiwiYXBwZW5kc1NpbmNlVGltZUVuZFVwZGF0ZWQiLCJwYXJzZUludCIsIm1ldHJpY3MiLCJldmVudHMiLCJpIiwiRVZFTlRfTkFNRVMiLCJldmVudExpc3RlbmVycyIsIm5hbWUiLCJhY3Rpb24iLCJpbmNsdWRlcyIsInB1c2giLCJ2YWx1ZSIsInR5cGUiLCJNRVRSSUNfVFlQRVMiLCJoYXNPd25Qcm9wZXJ0eSIsInRyaWdnZXIiLCJvblNvdXJjZU9wZW4iLCJub29wIiwib25Tb3VyY2VFbmRlZCIsIm9uRXJyb3IiLCJkZXN0cm95TWVkaWFTb3VyY2UiLCJzb3VyY2VvcGVuIiwic291cmNlZW5kZWQiLCJhZGRFdmVudExpc3RlbmVyIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwic3JjIiwicmV2b2tlT2JqZWN0VVJMIiwiZGVzdHJveVZpZGVvRWxlbWVudFNyYyIsImdldFZpZGVvRWxlbWVudFNyYyIsInJlYWR5U3RhdGUiLCJ1cGRhdGluZyIsIm9uQXBwZW5kU3RhcnQiLCJvbkFwcGVuZEVycm9yIiwib25SZW1vdmVFcnJvciIsIm9uU3RyZWFtRnJvemVuIiwicmV0cnkiLCJpc01lZGlhU291cmNlUmVhZHkiLCJkZXN0cm95U291cmNlQnVmZmVyIiwiYWRkU291cmNlQnVmZmVyIiwibW9kZSIsIm9uU291cmNlQnVmZmVyVXBkYXRlRW5kIiwic2VnbWVudCIsInRpbWVzdGFtcCIsIkRhdGUiLCJub3ciLCJieXRlQXJyYXkiLCJhYm9ydCIsIm9uQWJvcnRFcnJvciIsImVzdGltYXRlZERyaWZ0IiwiYXBwZW5kQnVmZmVyIiwibWVzc2FnZSIsInRvTG93ZXJDYXNlIiwiY29uc29sZSIsIndhcm4iLCJ0cmltQnVmZmVyIiwidW5kZWZpbmVkIiwiZG9jdW1lbnQiLCJoaWRkZW4iLCJpc1NvdXJjZUJ1ZmZlclJlYWR5IiwiX2FwcGVuZCIsInNoaWZ0IiwibW9vZiIsIm1vb3YiLCJxdWV1ZVNlZ21lbnQiLCJmb3JtYXRNb29mIiwiYnVmZmVyVGltZVN0YXJ0Iiwic3RhcnQiLCJidWZmZXJUaW1lRW5kIiwiZW5kIiwiY2xlYXJCdWZmZXIiLCJ0cmltRW5kVGltZSIsIkluZmluaXR5IiwicmVtb3ZlIiwicHJldmlvdXNUaW1lRW5kIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJmaW5pc2giLCJyZW1vdmVFdmVudExpc3RlbmVyIiwic2V0VGltZW91dCIsImVuZE9mU3RyZWFtIiwicmVtb3ZlU291cmNlQnVmZmVyIiwiZGVzdHJveVByb21pc2UiLCJ0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WXBCLHFCQVpvQixFQWFwQiwyQkFib0IsRUFjcEIsNEJBZG9CLEVBZXBCLGFBZm9CLEVBZ0JwQixjQWhCb0IsRUFpQnBCLGtDQWpCb0IsRUFrQnBCLG1CQWxCb0IsRUFtQnBCLHlCQW5Cb0IsRUFvQnBCLHdCQXBCb0IsRUFxQnBCLDJDQXJCb0IsRUFzQnBCLDJDQXRCb0IsRUF1QnBCLG9DQXZCb0IsRUF3QnBCLG9DQXhCb0IsRUF5QnBCLHFDQXpCb0IsRUEwQnBCLG9CQTFCb0IsRUEyQnBCLDBCQTNCb0IsRUE0QnBCLDJCQTVCb0IsQyIsImZpbGUiOiIuL3NyYy9qcy9pb3YvTVNFV3JhcHBlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IERlYnVnIGZyb20gJ2RlYnVnJztcbmltcG9ydCBkZWZhdWx0cyBmcm9tICdsb2Rhc2gvZGVmYXVsdHMnO1xuaW1wb3J0IG5vb3AgZnJvbSAnbG9kYXNoL25vb3AnO1xuLy8gaW1wb3J0IHsgbXA0dG9KU09OIH0gZnJvbSAnLi9tcDQtaW5zcGVjdCc7XG5cbmNvbnN0IERFQlVHX1BSRUZJWCA9ICdza3lsaW5lOmNsc3A6aW92JztcblxuY29uc3QgZGVidWcgPSBEZWJ1ZyhgJHtERUJVR19QUkVGSVh9Ok1TRVdyYXBwZXJgKTtcbmNvbnN0IHNpbGx5ID0gRGVidWcoYHNpbGx5OiR7REVCVUdfUFJFRklYfTpNU0VXcmFwcGVyYCk7XG5cbi8vIFRoaXMgaXMgdGhlIG9yaWdpbmFsIGVycm9yIHRleHQsIGJ1dCBpdCBpcyBzdWJqZWN0IHRvIGNoYW5nZSBieSBjaHJvbWUsXG4vLyBhbmQgd2UgYXJlIG9ubHkgY2hlY2tpbmcgdGhlIHBhcnQgb2YgdGhlIGVycm9yIHRleHQgdGhhdCBjb250YWlucyBub1xuLy8gcHVuY3R1YXRpb24gKGFuZCBpcyBhbGwgbG93ZXIgY2FzZSkuXG4vLyBcIkZhaWxlZCB0byBleGVjdXRlICdhcHBlbmRCdWZmZXInIG9uICdTb3VyY2VCdWZmZXInOiBUaGUgU291cmNlQnVmZmVyIGlzIGZ1bGwsIGFuZCBjYW5ub3QgZnJlZSBzcGFjZSB0byBhcHBlbmQgYWRkaXRpb25hbCBidWZmZXJzLlwiO1xuY29uc3QgRlVMTF9CVUZGRVJfRVJST1IgPSAnYW5kIGNhbm5vdCBmcmVlIHNwYWNlIHRvIGFwcGVuZCBhZGRpdGlvbmFsIGJ1ZmZlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNU0VXcmFwcGVyIHtcbiAgc3RhdGljIEVWRU5UX05BTUVTID0gW1xuICAgICdtZXRyaWMnLFxuICBdO1xuXG4gIHN0YXRpYyBNRVRSSUNfVFlQRVMgPSBbXG4gICAgJ21lZGlhU291cmNlLmNyZWF0ZWQnLFxuICAgICdtZWRpYVNvdXJjZS5kZXN0cm95ZWQnLFxuICAgICdvYmplY3RVUkwuY3JlYXRlZCcsXG4gICAgJ29iamVjdFVSTC5yZXZva2VkJyxcbiAgICAnbWVkaWFTb3VyY2UucmVpbml0aWFsaXplZCcsXG4gICAgJ3NvdXJjZUJ1ZmZlci5jcmVhdGVkJyxcbiAgICAnc291cmNlQnVmZmVyLmRlc3Ryb3llZCcsXG4gICAgJ3F1ZXVlLmFkZGVkJyxcbiAgICAncXVldWUucmVtb3ZlZCcsXG4gICAgJ3NvdXJjZUJ1ZmZlci5hcHBlbmQnLFxuICAgICdlcnJvci5zb3VyY2VCdWZmZXIuYXBwZW5kJyxcbiAgICAnZnJhbWVEcm9wLmhpZGRlblRhYicsXG4gICAgJ3F1ZXVlLm1lZGlhU291cmNlTm90UmVhZHknLFxuICAgICdxdWV1ZS5zb3VyY2VCdWZmZXJOb3RSZWFkeScsXG4gICAgJ3F1ZXVlLnNoaWZ0JyxcbiAgICAncXVldWUuYXBwZW5kJyxcbiAgICAnc291cmNlQnVmZmVyLmxhc3RLbm93bkJ1ZmZlclNpemUnLFxuICAgICdzb3VyY2VCdWZmZXIudHJpbScsXG4gICAgJ3NvdXJjZUJ1ZmZlci50cmltLmVycm9yJyxcbiAgICAnc291cmNlQnVmZmVyLnVwZGF0ZUVuZCcsXG4gICAgJ3NvdXJjZUJ1ZmZlci51cGRhdGVFbmQuYnVmZmVyTGVuZ3RoLmVtcHR5JyxcbiAgICAnc291cmNlQnVmZmVyLnVwZGF0ZUVuZC5idWZmZXJMZW5ndGguZXJyb3InLFxuICAgICdzb3VyY2VCdWZmZXIudXBkYXRlRW5kLnJlbW92ZUV2ZW50JyxcbiAgICAnc291cmNlQnVmZmVyLnVwZGF0ZUVuZC5hcHBlbmRFdmVudCcsXG4gICAgJ3NvdXJjZUJ1ZmZlci51cGRhdGVFbmQuYnVmZmVyRnJvemVuJyxcbiAgICAnc291cmNlQnVmZmVyLmFib3J0JyxcbiAgICAnZXJyb3Iuc291cmNlQnVmZmVyLmFib3J0JyxcbiAgICAnc291cmNlQnVmZmVyLmxhc3RNb29mU2l6ZScsXG4gIF07XG5cbiAgc3RhdGljIGlzTWltZUNvZGVjU3VwcG9ydGVkIChtaW1lQ29kZWMpIHtcbiAgICByZXR1cm4gKHdpbmRvdy5NZWRpYVNvdXJjZSAmJiB3aW5kb3cuTWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKG1pbWVDb2RlYykpO1xuICB9XG5cbiAgc3RhdGljIGZhY3RvcnkgKHZpZGVvRWxlbWVudCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgcmV0dXJuIG5ldyBNU0VXcmFwcGVyKHZpZGVvRWxlbWVudCwgb3B0aW9ucyk7XG4gIH1cblxuICBjb25zdHJ1Y3RvciAodmlkZW9FbGVtZW50LCBvcHRpb25zID0ge30pIHtcbiAgICBkZWJ1ZygnQ29uc3RydWN0aW5nLi4uJyk7XG5cbiAgICBpZiAoIXZpZGVvRWxlbWVudCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCd2aWRlb0VsZW1lbnQgaXMgcmVxdWlyZWQgdG8gY29uc3RydWN0IGFuIE1TRVdyYXBwZXIuJyk7XG4gICAgfVxuXG4gICAgdGhpcy5kZXN0cm95ZWQgPSBmYWxzZTtcblxuICAgIHRoaXMudmlkZW9FbGVtZW50ID0gdmlkZW9FbGVtZW50O1xuXG4gICAgdGhpcy5vcHRpb25zID0gZGVmYXVsdHMoe30sIG9wdGlvbnMsIHtcbiAgICAgIC8vIFRoZXNlIGRlZmF1bHQgYnVmZmVyIHZhbHVlIHByb3ZpZGUgdGhlIGJlc3QgcmVzdWx0cyBpbiBteSB0ZXN0aW5nLlxuICAgICAgLy8gSXQga2VlcHMgdGhlIG1lbW9yeSB1c2FnZSBhcyBsb3cgYXMgaXMgcHJhY3RpY2FsLCBhbmQgcmFyZWx5IGNhdXNlc1xuICAgICAgLy8gdGhlIHZpZGVvIHRvIHN0dXR0ZXJcbiAgICAgIGJ1ZmZlclNpemVMaW1pdDogOTAgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoMjAwKSksXG4gICAgICBidWZmZXJUcnVuY2F0ZUZhY3RvcjogMixcbiAgICAgIGJ1ZmZlclRydW5jYXRlVmFsdWU6IG51bGwsXG4gICAgICBkcmlmdFRocmVzaG9sZDogMjAwMCxcbiAgICAgIGR1cmF0aW9uOiAxMCxcbiAgICAgIGVuYWJsZU1ldHJpY3M6IGZhbHNlLFxuICAgICAgYXBwZW5kc1dpdGhTYW1lVGltZUVuZFRocmVzaG9sZDogMSxcbiAgICB9KTtcblxuICAgIHRoaXMuc2VnbWVudFF1ZXVlID0gW107XG4gICAgdGhpcy5zZXF1ZW5jZU51bWJlciA9IDA7XG5cbiAgICB0aGlzLm1lZGlhU291cmNlID0gbnVsbDtcbiAgICB0aGlzLnNvdXJjZUJ1ZmZlciA9IG51bGw7XG4gICAgdGhpcy5vYmplY3RVUkwgPSBudWxsO1xuICAgIHRoaXMudGltZUJ1ZmZlcmVkID0gbnVsbDtcbiAgICB0aGlzLmFwcGVuZHNTaW5jZVRpbWVFbmRVcGRhdGVkID0gMDtcblxuICAgIGlmICghdGhpcy5vcHRpb25zLmJ1ZmZlclRydW5jYXRlVmFsdWUpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5idWZmZXJUcnVuY2F0ZVZhbHVlID0gcGFyc2VJbnQodGhpcy5vcHRpb25zLmJ1ZmZlclNpemVMaW1pdCAvIHRoaXMub3B0aW9ucy5idWZmZXJUcnVuY2F0ZUZhY3Rvcik7XG4gICAgfVxuXG4gICAgdGhpcy5tZXRyaWNzID0ge307XG5cbiAgICAvLyBAdG9kbyAtIHRoZXJlIG11c3QgYmUgYSBtb3JlIHByb3BlciB3YXkgdG8gZG8gZXZlbnRzIHRoYW4gdGhpcy4uLlxuICAgIHRoaXMuZXZlbnRzID0ge307XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IE1TRVdyYXBwZXIuRVZFTlRfTkFNRVMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuZXZlbnRzW01TRVdyYXBwZXIuRVZFTlRfTkFNRVNbaV1dID0gW107XG4gICAgfVxuXG4gICAgdGhpcy5ldmVudExpc3RlbmVycyA9IHtcbiAgICAgIG1lZGlhU291cmNlOiB7fSxcbiAgICAgIHNvdXJjZUJ1ZmZlcjoge30sXG4gICAgfTtcbiAgfVxuXG4gIG9uIChuYW1lLCBhY3Rpb24pIHtcbiAgICBkZWJ1ZyhgUmVnaXN0ZXJpbmcgTGlzdGVuZXIgZm9yICR7bmFtZX0gZXZlbnQuLi5gKTtcblxuICAgIGlmICghTVNFV3JhcHBlci5FVkVOVF9OQU1FUy5pbmNsdWRlcyhuYW1lKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBcIiR7bmFtZX1cIiBpcyBub3QgYSB2YWxpZCBldmVudC5cImApO1xuICAgIH1cblxuICAgIHRoaXMuZXZlbnRzW25hbWVdLnB1c2goYWN0aW9uKTtcbiAgfVxuXG4gIHRyaWdnZXIgKG5hbWUsIHZhbHVlKSB7XG4gICAgaWYgKG5hbWUgPT09ICdtZXRyaWMnKSB7XG4gICAgICBzaWxseShgVHJpZ2dlcmluZyAke25hbWV9IGV2ZW50Li4uYCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgZGVidWcoYFRyaWdnZXJpbmcgJHtuYW1lfSBldmVudC4uLmApO1xuICAgIH1cblxuICAgIGlmICghTVNFV3JhcHBlci5FVkVOVF9OQU1FUy5pbmNsdWRlcyhuYW1lKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBcIiR7bmFtZX1cIiBpcyBub3QgYSB2YWxpZCBldmVudC5cImApO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5ldmVudHNbbmFtZV0ubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuZXZlbnRzW25hbWVdW2ldKHZhbHVlLCB0aGlzKTtcbiAgICB9XG4gIH1cblxuICBtZXRyaWMgKHR5cGUsIHZhbHVlKSB7XG4gICAgaWYgKCF0aGlzLm9wdGlvbnMgfHwgIXRoaXMub3B0aW9ucy5lbmFibGVNZXRyaWNzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFNU0VXcmFwcGVyLk1FVFJJQ19UWVBFUy5pbmNsdWRlcyh0eXBlKSkge1xuICAgICAgLy8gQHRvZG8gLSBzaG91bGQgdGhpcyB0aHJvdz9cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgJ3NvdXJjZUJ1ZmZlci5sYXN0S25vd25CdWZmZXJTaXplJzpcbiAgICAgIGNhc2UgJ3NvdXJjZUJ1ZmZlci5sYXN0TW9vZlNpemUnOiB7XG4gICAgICAgIHRoaXMubWV0cmljc1t0eXBlXSA9IHZhbHVlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgaWYgKCF0aGlzLm1ldHJpY3MuaGFzT3duUHJvcGVydHkodHlwZSkpIHtcbiAgICAgICAgICB0aGlzLm1ldHJpY3NbdHlwZV0gPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5tZXRyaWNzW3R5cGVdICs9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMudHJpZ2dlcignbWV0cmljJywge1xuICAgICAgdHlwZSxcbiAgICAgIHZhbHVlOiB0aGlzLm1ldHJpY3NbdHlwZV0sXG4gICAgfSk7XG4gIH1cblxuICBpbml0aWFsaXplTWVkaWFTb3VyY2UgKG9wdGlvbnMgPSB7fSkge1xuICAgIGRlYnVnKCdJbml0aWFsaXppbmcgbWVkaWFTb3VyY2UuLi4nKTtcblxuICAgIG9wdGlvbnMgPSBkZWZhdWx0cyh7fSwgb3B0aW9ucywge1xuICAgICAgb25Tb3VyY2VPcGVuOiBub29wLFxuICAgICAgb25Tb3VyY2VFbmRlZDogbm9vcCxcbiAgICAgIG9uRXJyb3I6IG5vb3AsXG4gICAgfSk7XG5cbiAgICB0aGlzLm1ldHJpYygnbWVkaWFTb3VyY2UuY3JlYXRlZCcsIDEpO1xuXG4gICAgLy8gS2lsbCB0aGUgZXhpc3RpbmcgbWVkaWEgc291cmNlXG4gICAgdGhpcy5kZXN0cm95TWVkaWFTb3VyY2UoKTtcblxuICAgIHRoaXMubWVkaWFTb3VyY2UgPSBuZXcgd2luZG93Lk1lZGlhU291cmNlKCk7XG5cbiAgICB0aGlzLmV2ZW50TGlzdGVuZXJzLm1lZGlhU291cmNlLnNvdXJjZW9wZW4gPSAoKSA9PiB7XG4gICAgICAvLyBUaGlzIGNhbiBvbmx5IGJlIHNldCB3aGVuIHRoZSBtZWRpYSBzb3VyY2UgaXMgb3Blbi5cbiAgICAgIC8vIEB0b2RvIC0gZG9lcyB0aGlzIGRvIG1lbW9yeSBtYW5hZ2VtZW50IGZvciB1cyBzbyB3ZSBkb24ndCBoYXZlXG4gICAgICAvLyB0byBjYWxsIHJlbW92ZSBvbiB0aGUgYnVmZmVyLCB3aGljaCBpcyBleHBlbnNpdmU/ICBJdCBzZWVtc1xuICAgICAgLy8gbGlrZSBpdC4uLlxuICAgICAgdGhpcy5tZWRpYVNvdXJjZS5kdXJhdGlvbiA9IHRoaXMub3B0aW9ucy5kdXJhdGlvbjtcblxuICAgICAgb3B0aW9ucy5vblNvdXJjZU9wZW4oKTtcbiAgICB9O1xuICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnMubWVkaWFTb3VyY2Uuc291cmNlZW5kZWQgPSBvcHRpb25zLm9uU291cmNlRW5kZWQ7XG4gICAgdGhpcy5ldmVudExpc3RlbmVycy5tZWRpYVNvdXJjZS5lcnJvciA9IG9wdGlvbnMub25FcnJvcjtcblxuICAgIHRoaXMubWVkaWFTb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcignc291cmNlb3BlbicsIHRoaXMuZXZlbnRMaXN0ZW5lcnMubWVkaWFTb3VyY2Uuc291cmNlb3Blbik7XG4gICAgdGhpcy5tZWRpYVNvdXJjZS5hZGRFdmVudExpc3RlbmVyKCdzb3VyY2VlbmRlZCcsIHRoaXMuZXZlbnRMaXN0ZW5lcnMubWVkaWFTb3VyY2Uuc291cmNlZW5kZWQpO1xuICAgIHRoaXMubWVkaWFTb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLmV2ZW50TGlzdGVuZXJzLm1lZGlhU291cmNlLmVycm9yKTtcbiAgfVxuXG4gIGdldFZpZGVvRWxlbWVudFNyYyAoKSB7XG4gICAgZGVidWcoJ2dldFZpZGVvRWxlbWVudFNyYy4uLicpO1xuXG4gICAgaWYgKCF0aGlzLm1lZGlhU291cmNlKSB7XG4gICAgICAvLyBAdG9kbyAtIHNob3VsZCB0aGlzIHRocm93P1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEB0b2RvIC0gc2hvdWxkIG11bHRpcGxlIGNhbGxzIHRvIHRoaXMgbWV0aG9kIHdpdGggdGhlIHNhbWUgbWVkaWFTb3VyY2VcbiAgICAvLyByZXN1bHQgaW4gbXVsdGlwbGUgb2JqZWN0VVJMcyBiZWluZyBjcmVhdGVkPyAgVGhlIGRvY3MgZm9yIHRoaXMgc2F5IHRoYXRcbiAgICAvLyBpdCBjcmVhdGVzIHNvbWV0aGluZyBvbiB0aGUgZG9jdW1lbnQsIHdoaWNoIGxpdmVzIHVudGlsIHJldm9rZU9iamVjdFVSTFxuICAgIC8vIGlzIGNhbGxlZCBvbiBpdC4gIERvZXMgdGhhdCBtZWFuIHdlIHNob3VsZCBvbmx5IGV2ZXIgaGF2ZSBvbmUgcGVyXG4gICAgLy8gdGhpcy5tZWRpYVNvdXJjZT8gIEl0IHNlZW1zIGxpa2UgaXQsIGJ1dCBJIGRvIG5vdCBrbm93LiAgSGF2aW5nIG9ubHkgb25lXG4gICAgLy8gc2VlbXMgbW9yZSBwcmVkaWN0YWJsZSwgYW5kIG1vcmUgbWVtb3J5IGVmZmljaWVudC5cblxuICAgIC8vIEVuc3VyZSBvbmx5IGEgc2luZ2xlIG9iamVjdFVSTCBleGlzdHMgYXQgb25lIHRpbWVcbiAgICBpZiAoIXRoaXMub2JqZWN0VVJMKSB7XG4gICAgICB0aGlzLm1ldHJpYygnb2JqZWN0VVJMLmNyZWF0ZWQnLCAxKTtcblxuICAgICAgdGhpcy5vYmplY3RVUkwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTCh0aGlzLm1lZGlhU291cmNlKTtcbiAgICB9XG5cbiAgICB0aGlzLnZpZGVvRWxlbWVudC5zcmMgPSB0aGlzLm9iamVjdFVSTDtcbiAgfVxuXG4gIGRlc3Ryb3lWaWRlb0VsZW1lbnRTcmMgKCkge1xuICAgIGRlYnVnKCdkZXN0cm95VmlkZW9FbGVtZW50U3JjLi4uJyk7XG5cbiAgICBpZiAoIXRoaXMubWVkaWFTb3VyY2UpIHtcbiAgICAgIC8vIEB0b2RvIC0gc2hvdWxkIHRoaXMgdGhyb3c/XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLm9iamVjdFVSTCkge1xuICAgICAgLy8gQHRvZG8gLSBzaG91bGQgdGhpcyB0aHJvdz9cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyB0aGlzLm1ldHJpYygnb2JqZWN0VVJMLnJldm9rZWQnLCAxKTtcblxuICAgIHRoaXMub2JqZWN0VVJMID0gbnVsbDtcblxuICAgIGlmICh0aGlzLnNvdXJjZUJ1ZmZlcikge1xuICAgICAgdGhpcy5zaG91bGRBYm9ydCA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gZnJlZSB0aGUgcmVzb3VyY2VcbiAgICByZXR1cm4gd2luZG93LlVSTC5yZXZva2VPYmplY3RVUkwodGhpcy52aWRlb0VsZW1lbnQuc3JjKTtcbiAgfVxuXG4gIHJlaW5pdGlhbGl6ZVZpZGVvRWxlbWVudFNyYyAoKSB7XG4gICAgdGhpcy5tZXRyaWMoJ21lZGlhU291cmNlLnJlaW5pdGlhbGl6ZWQnLCAxKTtcblxuICAgIHRoaXMuZGVzdHJveVZpZGVvRWxlbWVudFNyYygpO1xuXG4gICAgLy8gcmVhbGxvY2F0ZSwgdGhpcyB3aWxsIGNhbGwgbWVkaWEgc291cmNlIG9wZW4gd2hpY2ggd2lsbFxuICAgIC8vIGFwcGVuZCB0aGUgTU9PViBhdG9tLlxuICAgIHJldHVybiB0aGlzLmdldFZpZGVvRWxlbWVudFNyYygpO1xuICB9XG5cbiAgaXNNZWRpYVNvdXJjZVJlYWR5ICgpIHtcbiAgICAvLyBmb3VuZCB3aGVuIHN0cmVzcyB0ZXN0aW5nIG1hbnkgdmlkZW9zLCBpdCBpcyBwb3NzaWJsZSBmb3IgdGhlXG4gICAgLy8gbWVkaWEgc291cmNlIHJlYWR5IHN0YXRlIG5vdCB0byBiZSBvcGVuIGV2ZW4gdGhvdWdoXG4gICAgLy8gc291cmNlIG9wZW4gY2FsbGJhY2sgaXMgYmVpbmcgY2FsbGVkLlxuICAgIHJldHVybiB0aGlzLm1lZGlhU291cmNlICYmIHRoaXMubWVkaWFTb3VyY2UucmVhZHlTdGF0ZSA9PT0gJ29wZW4nO1xuICB9XG5cbiAgaXNTb3VyY2VCdWZmZXJSZWFkeSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuc291cmNlQnVmZmVyICYmIHRoaXMuc291cmNlQnVmZmVyLnVwZGF0aW5nID09PSBmYWxzZTtcbiAgfVxuXG4gIGFzeW5jIGluaXRpYWxpemVTb3VyY2VCdWZmZXIgKG1pbWVDb2RlYywgb3B0aW9ucyA9IHt9KSB7XG4gICAgZGVidWcoJ2luaXRpYWxpemVTb3VyY2VCdWZmZXIuLi4nKTtcblxuICAgIG9wdGlvbnMgPSBkZWZhdWx0cyh7fSwgb3B0aW9ucywge1xuICAgICAgb25BcHBlbmRTdGFydDogbm9vcCxcbiAgICAgIG9uQXBwZW5kRmluaXNoOiBub29wLFxuICAgICAgb25SZW1vdmVGaW5pc2g6IG5vb3AsXG4gICAgICBvbkFwcGVuZEVycm9yOiBub29wLFxuICAgICAgb25SZW1vdmVFcnJvcjogbm9vcCxcbiAgICAgIG9uU3RyZWFtRnJvemVuOiBub29wLFxuICAgICAgb25FcnJvcjogbm9vcCxcbiAgICAgIHJldHJ5OiB0cnVlLFxuICAgIH0pO1xuXG4gICAgaWYgKCF0aGlzLmlzTWVkaWFTb3VyY2VSZWFkeSgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjcmVhdGUgdGhlIHNvdXJjZUJ1ZmZlciBpZiB0aGUgbWVkaWFTb3VyY2UgaXMgbm90IHJlYWR5LicpO1xuICAgIH1cblxuICAgIC8vIEtpbGwgdGhlIGV4aXN0aW5nIHNvdXJjZSBidWZmZXJcbiAgICBhd2FpdCB0aGlzLmRlc3Ryb3lTb3VyY2VCdWZmZXIoKTtcblxuICAgIHRoaXMubWV0cmljKCdzb3VyY2VCdWZmZXIuY3JlYXRlZCcsIDEpO1xuXG4gICAgdGhpcy5zb3VyY2VCdWZmZXIgPSB0aGlzLm1lZGlhU291cmNlLmFkZFNvdXJjZUJ1ZmZlcihtaW1lQ29kZWMpO1xuICAgIHRoaXMuc291cmNlQnVmZmVyLm1vZGUgPSAnc2VxdWVuY2UnO1xuXG4gICAgLy8gQ3VzdG9tIEV2ZW50c1xuICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnMuc291cmNlQnVmZmVyLm9uQXBwZW5kU3RhcnQgPSBvcHRpb25zLm9uQXBwZW5kU3RhcnQ7XG4gICAgdGhpcy5ldmVudExpc3RlbmVycy5zb3VyY2VCdWZmZXIub25BcHBlbmRFcnJvciA9IG9wdGlvbnMub25BcHBlbmRFcnJvcjtcbiAgICB0aGlzLmV2ZW50TGlzdGVuZXJzLnNvdXJjZUJ1ZmZlci5vblJlbW92ZUZpbmlzaCA9IG9wdGlvbnMub25SZW1vdmVGaW5pc2g7XG4gICAgdGhpcy5ldmVudExpc3RlbmVycy5zb3VyY2VCdWZmZXIub25BcHBlbmRGaW5pc2ggPSBvcHRpb25zLm9uQXBwZW5kRmluaXNoO1xuICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnMuc291cmNlQnVmZmVyLm9uUmVtb3ZlRXJyb3IgPSBvcHRpb25zLm9uUmVtb3ZlRXJyb3I7XG4gICAgdGhpcy5ldmVudExpc3RlbmVycy5zb3VyY2VCdWZmZXIub25TdHJlYW1Gcm96ZW4gPSBvcHRpb25zLm9uU3RyZWFtRnJvemVuO1xuICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnMuc291cmNlQnVmZmVyLm9uRXJyb3IgPSBvcHRpb25zLm9uRXJyb3I7XG5cbiAgICAvLyBTdXBwb3J0ZWQgRXZlbnRzXG4gICAgdGhpcy5zb3VyY2VCdWZmZXIuYWRkRXZlbnRMaXN0ZW5lcigndXBkYXRlZW5kJywgdGhpcy5vblNvdXJjZUJ1ZmZlclVwZGF0ZUVuZCk7XG4gICAgdGhpcy5zb3VyY2VCdWZmZXIuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLmV2ZW50TGlzdGVuZXJzLnNvdXJjZUJ1ZmZlci5vbkVycm9yKTtcbiAgfVxuXG4gIHF1ZXVlU2VnbWVudCAoc2VnbWVudCkge1xuICAgIGlmICh0aGlzLnNlZ21lbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgIGRlYnVnKGBRdWV1ZWluZyBzZWdtZW50LiAgVGhlIHF1ZXVlIGN1cnJlbnRseSBoYXMgJHt0aGlzLnNlZ21lbnRRdWV1ZS5sZW5ndGh9IHNlZ21lbnRzLmApO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHNpbGx5KGBRdWV1ZWluZyBzZWdtZW50LiAgVGhlIHF1ZXVlIGlzIGN1cnJlbnRseSBlbXB0eS5gKTtcbiAgICB9XG5cbiAgICB0aGlzLm1ldHJpYygncXVldWUuYWRkZWQnLCAxKTtcblxuICAgIHRoaXMuc2VnbWVudFF1ZXVlLnB1c2goe1xuICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgYnl0ZUFycmF5OiBzZWdtZW50LFxuICAgIH0pO1xuICB9XG5cbiAgc291cmNlQnVmZmVyQWJvcnQgKCkge1xuICAgIGRlYnVnKCdBYm9ydGluZyBjdXJyZW50IHNvdXJjZUJ1ZmZlciBvcGVyYXRpb24nKTtcblxuICAgIHRyeSB7XG4gICAgICB0aGlzLm1ldHJpYygnc291cmNlQnVmZmVyLmFib3J0JywgMSk7XG5cbiAgICAgIGlmICh0aGlzLnNvdXJjZUJ1ZmZlcikge1xuICAgICAgICB0aGlzLnNvdXJjZUJ1ZmZlci5hYm9ydCgpO1xuICAgICAgICB0aGlzLnNob3VsZEFib3J0ID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgdGhpcy5tZXRyaWMoJ2Vycm9yLnNvdXJjZUJ1ZmZlci5hYm9ydCcsIDEpO1xuXG4gICAgICAvLyBTb21laG93LCB0aGlzIGNhbiBiZSBiZWNvbWUgdW5kZWZpbmVkLi4uXG4gICAgICBpZiAodGhpcy5ldmVudExpc3RlbmVycy5zb3VyY2VCdWZmZXIub25BYm9ydEVycm9yKSB7XG4gICAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnMuc291cmNlQnVmZmVyLm9uQWJvcnRFcnJvcihlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgX2FwcGVuZCAoeyB0aW1lc3RhbXAsIGJ5dGVBcnJheSB9KSB7XG4gICAgc2lsbHkoJ0FwcGVuZGluZyB0byB0aGUgc291cmNlQnVmZmVyLi4uJyk7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgZXN0aW1hdGVkRHJpZnQgPSBEYXRlLm5vdygpIC0gdGltZXN0YW1wO1xuXG4gICAgICBpZiAoZXN0aW1hdGVkRHJpZnQgPiB0aGlzLm9wdGlvbnMuZHJpZnRUaHJlc2hvbGQpIHtcbiAgICAgICAgZGVidWcoYEVzdGltYXRlZCBkcmlmdCBvZiAke2VzdGltYXRlZERyaWZ0fSBpcyBhYm92ZSB0aGUgJHt0aGlzLm9wdGlvbnMuZHJpZnRUaHJlc2hvbGR9IHRocmVzaG9sZC4gIEZsdXNoaW5nIHF1ZXVlLi4uYCk7XG4gICAgICAgIC8vIEB0b2RvIC0gcGVyaGFwcyB3ZSBzaG91bGQgcmUtYWRkIHRoZSBsYXN0IHNlZ21lbnQgdG8gdGhlIHF1ZXVlIHdpdGggYSBmcmVzaFxuICAgICAgICAvLyB0aW1lc3RhbXA/ICBJIHRoaW5rIG9uZSBjYXVzZSBvZiBzdHJlYW0gZnJlZXppbmcgaXMgdGhlIHNvdXJjZUJ1ZmZlciBnZXR0aW5nXG4gICAgICAgIC8vIHN0YXJ2ZWQsIGJ1dCBJIGRvbid0IGtub3cgaWYgdGhhdCdzIGNvcnJlY3RcbiAgICAgICAgdGhpcy5tZXRyaWMoJ3F1ZXVlLnJlbW92ZWQnLCB0aGlzLnNlZ21lbnRRdWV1ZS5sZW5ndGggKyAxKTtcbiAgICAgICAgdGhpcy5zZWdtZW50UXVldWUgPSBbXTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBzaWxseShgQXBwZW5kaW5nIHRvIHRoZSBidWZmZXIgd2l0aCBhbiBlc3RpbWF0ZWQgZHJpZnQgb2YgJHtlc3RpbWF0ZWREcmlmdH1gKTtcblxuICAgICAgdGhpcy5tZXRyaWMoJ3NvdXJjZUJ1ZmZlci5hcHBlbmQnLCAxKTtcblxuICAgICAgdGhpcy5zb3VyY2VCdWZmZXIuYXBwZW5kQnVmZmVyKGJ5dGVBcnJheSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGVycm9yLm1lc3NhZ2UgJiYgZXJyb3IubWVzc2FnZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKEZVTExfQlVGRkVSX0VSUk9SKSkge1xuICAgICAgICAvLyBAdG9kbyAtIG1ha2UgdGhpcyBhIHZhbGlkIG1ldHJpY1xuICAgICAgICAvLyB0aGlzLm1ldHJpYygnZXJyb3Iuc291cmNlQnVmZmVyLmZpbGxlZCcsIDEpO1xuXG4gICAgICAgIC8vIElmIHRoZSBidWZmZXIgaXMgZnVsbCwgd2Ugd2lsbCBmbHVzaCBpdFxuICAgICAgICBjb25zb2xlLndhcm4oJ3NvdXJjZSBidWZmZXIgaXMgZnVsbCwgYWJvdXQgdG8gZmx1c2ggaXQuLi4nKTtcbiAgICAgICAgdGhpcy50cmltQnVmZmVyKHVuZGVmaW5lZCwgdHJ1ZSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5tZXRyaWMoJ2Vycm9yLnNvdXJjZUJ1ZmZlci5hcHBlbmQnLCAxKTtcblxuICAgICAgICB0aGlzLmV2ZW50TGlzdGVuZXJzLnNvdXJjZUJ1ZmZlci5vbkFwcGVuZEVycm9yKGVycm9yLCBieXRlQXJyYXkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByb2Nlc3NOZXh0SW5RdWV1ZSAoKSB7XG4gICAgc2lsbHkoJ3Byb2Nlc3NOZXh0SW5RdWV1ZScpO1xuXG4gICAgaWYgKHRoaXMuZGVzdHJveWVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGRvY3VtZW50LmhpZGRlbikge1xuICAgICAgZGVidWcoJ1RhYiBub3QgaW4gZm9jdXMgLSBkcm9wcGluZyBmcmFtZS4uLicpO1xuICAgICAgdGhpcy5tZXRyaWMoJ2ZyYW1lRHJvcC5oaWRkZW5UYWInLCAxKTtcbiAgICAgIHRoaXMubWV0cmljKCdxdWV1ZS5jYW5ub3RQcm9jZXNzTmV4dCcsIDEpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5pc01lZGlhU291cmNlUmVhZHkoKSkge1xuICAgICAgZGVidWcoJ1RoZSBtZWRpYVNvdXJjZSBpcyBub3QgcmVhZHknKTtcbiAgICAgIHRoaXMubWV0cmljKCdxdWV1ZS5tZWRpYVNvdXJjZU5vdFJlYWR5JywgMSk7XG4gICAgICB0aGlzLm1ldHJpYygncXVldWUuY2Fubm90UHJvY2Vzc05leHQnLCAxKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuaXNTb3VyY2VCdWZmZXJSZWFkeSgpKSB7XG4gICAgICBkZWJ1ZygnVGhlIHNvdXJjZUJ1ZmZlciBpcyBidXN5Jyk7XG4gICAgICB0aGlzLm1ldHJpYygncXVldWUuc291cmNlQnVmZmVyTm90UmVhZHknLCAxKTtcbiAgICAgIHRoaXMubWV0cmljKCdxdWV1ZS5jYW5ub3RQcm9jZXNzTmV4dCcsIDEpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnNlZ21lbnRRdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICB0aGlzLm1ldHJpYygncXVldWUuc2hpZnQnLCAxKTtcbiAgICAgIHRoaXMubWV0cmljKCdxdWV1ZS5jYW5Qcm9jZXNzTmV4dCcsIDEpO1xuICAgICAgdGhpcy5fYXBwZW5kKHRoaXMuc2VnbWVudFF1ZXVlLnNoaWZ0KCkpO1xuICAgIH1cbiAgfVxuXG4gIGZvcm1hdE1vb2YgKG1vb2YpIHtcbiAgICAvLyBXZSBtdXN0IG92ZXJ3cml0ZSB0aGUgc2VxdWVuY2UgbnVtYmVyIGxvY2FsbHksIGJlY2F1c2UgaXRcbiAgICAvLyB0aGUgc2VxdWVuY2UgdGhhdCBjb21lcyBmcm9tIHRoZSBzZXJ2ZXIgd2lsbCBub3QgbmVjZXNzYXJpbHlcbiAgICAvLyBzdGFydCBhdCB6ZXJvLiAgSXQgc2hvdWxkIHN0YXJ0IGZyb20gemVybyBsb2NhbGx5LiAgVGhpc1xuICAgIC8vIHJlcXVpcmVtZW50IG1heSBoYXZlIGNoYW5nZWQgd2l0aCBtb3JlIHJlY2VudCB2ZXJzaW9ucyBvZiB0aGVcbiAgICAvLyBicm93c2VyLCBidXQgaXQgYXBwZWFycyB0byBtYWtlIHRoZSB2aWRlbyBwbGF5IGEgbGl0dGxlIG1vcmVcbiAgICAvLyBzbW9vdGhseVxuICAgIG1vb2ZbMjBdID0gKHRoaXMuc2VxdWVuY2VOdW1iZXIgJiAweEZGMDAwMDAwKSA+PiAyNDtcbiAgICBtb29mWzIxXSA9ICh0aGlzLnNlcXVlbmNlTnVtYmVyICYgMHgwMEZGMDAwMCkgPj4gMTY7XG4gICAgbW9vZlsyMl0gPSAodGhpcy5zZXF1ZW5jZU51bWJlciAmIDB4MDAwMEZGMDApID4+IDg7XG4gICAgbW9vZlsyM10gPSB0aGlzLnNlcXVlbmNlTnVtYmVyICYgMHhGRjtcblxuICAgIHJldHVybiBtb29mO1xuICB9XG5cbiAgYXBwZW5kTW9vdiAobW9vdikge1xuICAgIGRlYnVnKCdhcHBlbmRNb292Jyk7XG5cbiAgICBpZiAoIW1vb3YpIHtcbiAgICAgIC8vIEB0b2RvIC0gZG8gd2UgbmVlZCB0byB0aHJvdyBoZXJlIG9yIHNvbWV0aGluZz8gIFVuZGVyIHdoYXRcbiAgICAgIC8vIGNpcmN1bXN0YW5jZSB3b3VsZCB0aGlzIGJlIGNhbGxlZCB3aXRoIG5vIG1vb3Y/XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5tZXRyaWMoJ3NvdXJjZUJ1ZmZlci5sYXN0TW9vdlNpemUnLCBtb292Lmxlbmd0aCk7XG5cbiAgICAvLyBTb21ldGltZXMgdGhpcyBjYW4gZ2V0IGhpdCBhZnRlciBkZXN0cm95IGlzIGNhbGxlZFxuICAgIGlmICghdGhpcy5ldmVudExpc3RlbmVycy5zb3VyY2VCdWZmZXIub25BcHBlbmRTdGFydCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGRlYnVnKCdhcHBlbmRpbmcgbW9vdi4uLicpO1xuICAgIHRoaXMucXVldWVTZWdtZW50KG1vb3YpO1xuXG4gICAgdGhpcy5wcm9jZXNzTmV4dEluUXVldWUoKTtcbiAgfVxuXG4gIGFwcGVuZCAoYnl0ZUFycmF5KSB7XG4gICAgc2lsbHkoJ0FwcGVuZCcpO1xuXG4gICAgaWYgKHRoaXMuZGVzdHJveWVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5tZXRyaWMoJ3NvdXJjZUJ1ZmZlci5sYXN0TW9vZlNpemUnLCBieXRlQXJyYXkubGVuZ3RoKTtcblxuICAgIC8vIGNvbnNvbGUubG9nKG1wNHRvSlNPTihieXRlQXJyYXkpKTtcblxuICAgIC8vIFNvbWV0aW1lcyB0aGlzIGNhbiBnZXQgaGl0IGFmdGVyIGRlc3Ryb3kgaXMgY2FsbGVkXG4gICAgaWYgKCF0aGlzLmV2ZW50TGlzdGVuZXJzLnNvdXJjZUJ1ZmZlci5vbkFwcGVuZFN0YXJ0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5ldmVudExpc3RlbmVycy5zb3VyY2VCdWZmZXIub25BcHBlbmRTdGFydChieXRlQXJyYXkpO1xuXG4gICAgdGhpcy5tZXRyaWMoJ3F1ZXVlLmFwcGVuZCcsIDEpO1xuXG4gICAgdGhpcy5xdWV1ZVNlZ21lbnQodGhpcy5mb3JtYXRNb29mKGJ5dGVBcnJheSkpO1xuICAgIHRoaXMuc2VxdWVuY2VOdW1iZXIrKztcblxuICAgIHRoaXMucHJvY2Vzc05leHRJblF1ZXVlKCk7XG4gIH1cblxuICBnZXRCdWZmZXJUaW1lcyAoKSB7XG4gICAgc2lsbHkoJ2dldEJ1ZmZlclRpbWVzLi4uJyk7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgcHJldmlvdXNCdWZmZXJTaXplID0gdGhpcy50aW1lQnVmZmVyZWQ7XG4gICAgICBjb25zdCBidWZmZXJUaW1lU3RhcnQgPSB0aGlzLnNvdXJjZUJ1ZmZlci5idWZmZXJlZC5zdGFydCgwKTtcbiAgICAgIGNvbnN0IGJ1ZmZlclRpbWVFbmQgPSB0aGlzLnNvdXJjZUJ1ZmZlci5idWZmZXJlZC5lbmQoMCk7XG4gICAgICBjb25zdCBjdXJyZW50QnVmZmVyU2l6ZSA9IGJ1ZmZlclRpbWVFbmQgLSBidWZmZXJUaW1lU3RhcnQ7XG5cbiAgICAgIHNpbGx5KCdnZXRCdWZmZXJUaW1lcyBmaW5pc2hlZCBzdWNjZXNzZnVsbHkuLi4nKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcHJldmlvdXNCdWZmZXJTaXplLFxuICAgICAgICBjdXJyZW50QnVmZmVyU2l6ZSxcbiAgICAgICAgYnVmZmVyVGltZVN0YXJ0LFxuICAgICAgICBidWZmZXJUaW1lRW5kLFxuICAgICAgfTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICBkZWJ1ZygnZ2V0QnVmZmVyVGltZXMgZmluaXNoZWQgdW5zdWNjZXNzZnVsbHkuLi4nKTtcblxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgdHJpbUJ1ZmZlciAoaW5mbyA9IHRoaXMuZ2V0QnVmZmVyVGltZXMoKSwgY2xlYXJCdWZmZXIgPSBmYWxzZSkge1xuICAgIHNpbGx5KCd0cmltQnVmZmVyLi4uJyk7XG5cbiAgICB0aGlzLm1ldHJpYygnc291cmNlQnVmZmVyLmxhc3RLbm93bkJ1ZmZlclNpemUnLCB0aGlzLnRpbWVCdWZmZXJlZCk7XG5cbiAgICB0cnkge1xuICAgICAgaWYgKGluZm8gJiYgKGNsZWFyQnVmZmVyIHx8ICh0aGlzLnRpbWVCdWZmZXJlZCA+IHRoaXMub3B0aW9ucy5idWZmZXJTaXplTGltaXQpKSAmJiB0aGlzLmlzU291cmNlQnVmZmVyUmVhZHkoKSkge1xuICAgICAgICBkZWJ1ZygnUmVtb3Zpbmcgb2xkIHN0dWZmIGZyb20gc291cmNlQnVmZmVyLi4uJyk7XG5cbiAgICAgICAgLy8gQHRvZG8gLSB0aGlzIGlzIHRoZSBiaWdnZXN0IHBlcmZvcm1hbmNlIHByb2JsZW0gd2UgaGF2ZSB3aXRoIHRoaXMgcGxheWVyLlxuICAgICAgICAvLyBDYW4geW91IGZpZ3VyZSBvdXQgaG93IHRvIG1hbmFnZSB0aGUgbWVtb3J5IHVzYWdlIHdpdGhvdXQgY2F1c2luZyB0aGUgc3RyZWFtc1xuICAgICAgICAvLyB0byBzdHV0dGVyP1xuICAgICAgICB0aGlzLm1ldHJpYygnc291cmNlQnVmZmVyLnRyaW0nLCB0aGlzLm9wdGlvbnMuYnVmZmVyVHJ1bmNhdGVWYWx1ZSk7XG5cbiAgICAgICAgY29uc3QgdHJpbUVuZFRpbWUgPSBjbGVhckJ1ZmZlclxuICAgICAgICAgID8gSW5maW5pdHlcbiAgICAgICAgICA6IGluZm8uYnVmZmVyVGltZVN0YXJ0ICsgdGhpcy5vcHRpb25zLmJ1ZmZlclRydW5jYXRlVmFsdWU7XG5cbiAgICAgICAgZGVidWcoJ3RyaW1taW5nIGJ1ZmZlci4uLicpO1xuICAgICAgICB0aGlzLnNvdXJjZUJ1ZmZlci5yZW1vdmUoaW5mby5idWZmZXJUaW1lU3RhcnQsIHRyaW1FbmRUaW1lKTtcblxuICAgICAgICBkZWJ1ZygnZmluaXNoZWQgdHJpbW1pbmcgYnVmZmVyLi4uJyk7XG4gICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgZGVidWcoJ3RyaW1CdWZmZXIgZmFpbHVyZSEnKTtcbiAgICAgIHRoaXMubWV0cmljKCdzb3VyY2VCdWZmZXIudHJpbS5lcnJvcicsIDEpO1xuICAgICAgdGhpcy5ldmVudExpc3RlbmVycy5zb3VyY2VCdWZmZXIub25SZW1vdmVFcnJvcihlcnJvcik7XG4gICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICB9XG5cbiAgICBzaWxseSgndHJpbUJ1ZmZlciBmaW5pc2hlZC4uLicpO1xuICB9XG5cbiAgb25SZW1vdmVGaW5pc2ggKGluZm8gPSB0aGlzLmdldEJ1ZmZlclRpbWVzKCkpIHtcbiAgICBkZWJ1ZygnT24gcmVtb3ZlIGZpbmlzaC4uLicpO1xuXG4gICAgdGhpcy5tZXRyaWMoJ3NvdXJjZUJ1ZmZlci51cGRhdGVFbmQucmVtb3ZlRXZlbnQnLCAxKTtcbiAgICB0aGlzLmV2ZW50TGlzdGVuZXJzLnNvdXJjZUJ1ZmZlci5vblJlbW92ZUZpbmlzaChpbmZvKTtcbiAgfVxuXG4gIG9uQXBwZW5kRmluaXNoIChpbmZvID0gdGhpcy5nZXRCdWZmZXJUaW1lcygpKSB7XG4gICAgc2lsbHkoJ09uIGFwcGVuZCBmaW5pc2guLi4nKTtcblxuICAgIHRoaXMubWV0cmljKCdzb3VyY2VCdWZmZXIudXBkYXRlRW5kLmFwcGVuZEV2ZW50JywgMSk7XG5cbiAgICAvLyBUaGUgY3VycmVudCBidWZmZXIgc2l6ZSBzaG91bGQgYWx3YXlzIGJlIGJpZ2dlci5JZiBpdCBpc24ndCwgdGhlcmUgaXMgYSBwcm9ibGVtLFxuICAgIC8vIGFuZCB3ZSBuZWVkIHRvIHJlaW5pdGlhbGl6ZSBvciBzb21ldGhpbmcuICBTb21ldGltZXMgdGhlIGJ1ZmZlciBpcyB0aGUgc2FtZS4gIFRoaXMgaXNcbiAgICAvLyBhbGxvd2VkIGZvciBjb25zZWN1dGl2ZSBhcHBlbmRzLCBidXQgb25seSBhIGNvbmZpZ3VyYWJsZSBudW1iZXIgb2YgdGltZXMuICBUaGUgZGVmYXVsdFxuICAgIC8vIGlzIDFcbiAgICBkZWJ1ZygnQXBwZW5kcyB3aXRoIHNhbWUgdGltZSBlbmQ6ICcgKyB0aGlzLmFwcGVuZHNTaW5jZVRpbWVFbmRVcGRhdGVkKTtcbiAgICBpZiAodGhpcy5wcmV2aW91c1RpbWVFbmQgJiYgaW5mby5idWZmZXJUaW1lRW5kIDw9IHRoaXMucHJldmlvdXNUaW1lRW5kKSB7XG4gICAgICB0aGlzLmFwcGVuZHNTaW5jZVRpbWVFbmRVcGRhdGVkICs9IDE7XG4gICAgICB0aGlzLm1ldHJpYygnc291cmNlQnVmZmVyLnVwZGF0ZUVuZC5idWZmZXJGcm96ZW4nLCAxKTtcblxuICAgICAgLy9hcHBlbmQgdGhyZXNob2xkIHdpdGggc2FtZSB0aW1lIGVuZCBoYXMgYmVlbiBjcm9zc2VkLiAgUmVpbml0aWFsaXplIGZyb3plbiBzdHJlYW0uXG4gICAgICBpZiAodGhpcy5hcHBlbmRzU2luY2VUaW1lRW5kVXBkYXRlZCA+IHRoaXMub3B0aW9ucy5hcHBlbmRzV2l0aFNhbWVUaW1lRW5kVGhyZXNob2xkKSB7XG4gICAgICAgIGRlYnVnKCdzdHJlYW0gZnJvemVuIScpO1xuICAgICAgICB0aGlzLmV2ZW50TGlzdGVuZXJzLnNvdXJjZUJ1ZmZlci5vblN0cmVhbUZyb3plbigpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5hcHBlbmRzU2luY2VUaW1lRW5kVXBkYXRlZCA9IDA7XG4gICAgdGhpcy5wcmV2aW91c1RpbWVFbmQgPSBpbmZvLmJ1ZmZlclRpbWVFbmQ7XG5cbiAgICB0aGlzLmV2ZW50TGlzdGVuZXJzLnNvdXJjZUJ1ZmZlci5vbkFwcGVuZEZpbmlzaChpbmZvKTtcbiAgICB0aGlzLnRyaW1CdWZmZXIoaW5mbyk7XG4gIH1cblxuICBvblNvdXJjZUJ1ZmZlclVwZGF0ZUVuZCA9ICgpID0+IHtcbiAgICBzaWxseSgnb25VcGRhdGVFbmQnKTtcblxuICAgIHRoaXMubWV0cmljKCdzb3VyY2VCdWZmZXIudXBkYXRlRW5kJywgMSk7XG5cbiAgICBpZiAodGhpcy5zaG91bGRBYm9ydCkge1xuICAgICAgdGhpcy5zb3VyY2VCdWZmZXJBYm9ydCgpO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAvLyBTb21ldGltZXMgdGhlIG1lZGlhU291cmNlIGlzIHJlbW92ZWQgd2hpbGUgYW4gdXBkYXRlIGlzIGJlaW5nXG4gICAgICAvLyBwcm9jZXNzZWQsIHJlc3VsdGluZyBpbiBhbiBlcnJvciB3aGVuIHRyeWluZyB0byByZWFkIHRoZVxuICAgICAgLy8gXCJidWZmZXJlZFwiIHByb3BlcnR5LlxuICAgICAgaWYgKHRoaXMuc291cmNlQnVmZmVyLmJ1ZmZlcmVkLmxlbmd0aCA8PSAwKSB7XG4gICAgICAgIHRoaXMubWV0cmljKCdzb3VyY2VCdWZmZXIudXBkYXRlRW5kLmJ1ZmZlckxlbmd0aC5lbXB0eScsIDEpO1xuICAgICAgICBkZWJ1ZygnQWZ0ZXIgdXBkYXRpbmcsIHRoZSBzb3VyY2VCdWZmZXIgaGFzIG5vIGxlbmd0aCEnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIEB0b2RvIC0gZG8gd2UgbmVlZCB0byBoYW5kbGUgdGhpcz9cbiAgICAgIHRoaXMubWV0cmljKCdzb3VyY2VCdWZmZXIudXBkYXRlRW5kLmJ1ZmZlckxlbmd0aC5lcnJvcicsIDEpO1xuICAgICAgZGVidWcoJ1RoZSBtZWRpYVNvdXJjZSB3YXMgcmVtb3ZlZCB3aGlsZSBhbiB1cGRhdGUgb3BlcmF0aW9uIHdhcyBvY2N1cnJpbmcuJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgaW5mbyA9IHRoaXMuZ2V0QnVmZmVyVGltZXMoKTtcblxuICAgIHRoaXMudGltZUJ1ZmZlcmVkID0gaW5mby5jdXJyZW50QnVmZmVyU2l6ZTtcblxuICAgIGlmIChpbmZvLnByZXZpb3VzQnVmZmVyU2l6ZSAhPT0gbnVsbCAmJiBpbmZvLnByZXZpb3VzQnVmZmVyU2l6ZSA+IHRoaXMudGltZUJ1ZmZlcmVkKSB7XG4gICAgICB0aGlzLm9uUmVtb3ZlRmluaXNoKGluZm8pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMub25BcHBlbmRGaW5pc2goaW5mbyk7XG4gICAgfVxuXG4gICAgdGhpcy5wcm9jZXNzTmV4dEluUXVldWUoKTtcbiAgfVxuXG4gIGRlc3Ryb3lTb3VyY2VCdWZmZXIgKCkge1xuICAgIGRlYnVnKCdkZXN0cm95U291cmNlQnVmZmVyLi4uJyk7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgZmluaXNoID0gKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5zb3VyY2VCdWZmZXIpIHtcbiAgICAgICAgICB0aGlzLnNvdXJjZUJ1ZmZlci5yZW1vdmVFdmVudExpc3RlbmVyKCd1cGRhdGVlbmQnLCBmaW5pc2gpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gV2UgbXVzdCBhYm9ydCBpbiB0aGUgZmluYWwgdXBkYXRlZW5kIGxpc3RlbmVyIHRvIGVuc3VyZSB0aGF0XG4gICAgICAgIC8vIGFueSBvcGVyYXRpb25zLCBlc3BlY2lhbGx5IHRoZSByZW1vdmUgb3BlcmF0aW9uLCBmaW5pc2ggZmlyc3QsXG4gICAgICAgIC8vIGFzIGFib3J0aW5nIHdoaWxlIHJlbW92aW5nIGlzIGRlcHJlY2F0ZWQuXG4gICAgICAgIHRoaXMuc291cmNlQnVmZmVyQWJvcnQoKTtcblxuICAgICAgICBkZWJ1ZygnZGVzdHJveVNvdXJjZUJ1ZmZlciBmaW5pc2hlZC4uLicpO1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9O1xuXG4gICAgICBpZiAoIXRoaXMuc291cmNlQnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBmaW5pc2goKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zb3VyY2VCdWZmZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcigndXBkYXRlZW5kJywgdGhpcy5vblNvdXJjZUJ1ZmZlclVwZGF0ZUVuZCk7XG4gICAgICB0aGlzLnNvdXJjZUJ1ZmZlci5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuZXZlbnRMaXN0ZW5lcnMuc291cmNlQnVmZmVyLm9uRXJyb3IpO1xuXG4gICAgICB0aGlzLnNvdXJjZUJ1ZmZlci5hZGRFdmVudExpc3RlbmVyKCd1cGRhdGVlbmQnLCBmaW5pc2gpO1xuXG4gICAgICAvLyBAdG9kbyAtIHRoaXMgaXMgYSBoYWNrIC0gc29tZXRpbWVzLCB0aGUgdHJpbUJ1ZmZlciBvcGVyYXRpb24gZG9lcyBub3QgY2F1c2UgYW4gdXBkYXRlXG4gICAgICAvLyBvbiB0aGUgc291cmNlQnVmZmVyLiAgVGhpcyBhY3RzIGFzIGEgdGltZW91dCB0byBlbnN1cmUgdGhlIGRlc3RydWN0aW9uIG9mIHRoaXMgbXNlV3JhcHBlclxuICAgICAgLy8gaW5zdGFuY2UgY2FuIGNvbXBsZXRlLlxuICAgICAgZGVidWcoJ2dpdmluZyBzb3VyY2VCdWZmZXIgc29tZSB0aW1lIHRvIGZpbmlzaCB1cGRhdGluZyBpdHNlbGYuLi4nKTtcbiAgICAgIHNldFRpbWVvdXQoZmluaXNoLCAxMDAwKTtcbiAgICB9KTtcbiAgfVxuXG4gIGRlc3Ryb3lNZWRpYVNvdXJjZSAoKSB7XG4gICAgdGhpcy5tZXRyaWMoJ3NvdXJjZUJ1ZmZlci5kZXN0cm95ZWQnLCAxKTtcblxuICAgIGRlYnVnKCdEZXN0cm95aW5nIG1lZGlhU291cmNlLi4uJyk7XG5cbiAgICBpZiAoIXRoaXMubWVkaWFTb3VyY2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBXZSBtdXN0IGRvIHRoaXMgUFJJT1IgdG8gdGhlIHNvdXJjZUJ1ZmZlciBiZWluZyBkZXN0cm95ZWQsIHRvIGVuc3VyZSB0aGF0IHRoZVxuICAgIC8vICdidWZmZXJlZCcgcHJvcGVydHkgaXMgc3RpbGwgYXZhaWxhYmxlLCB3aGljaCBpcyBuZWNlc3NhcnkgZm9yIGNvbXBsZXRlbHlcbiAgICAvLyBlbXB0eWluZyB0aGUgc291cmNlQnVmZmVyLlxuICAgIHRoaXMudHJpbUJ1ZmZlcih1bmRlZmluZWQsIHRydWUpO1xuXG4gICAgdGhpcy5tZWRpYVNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKCdzb3VyY2VvcGVuJywgdGhpcy5ldmVudExpc3RlbmVycy5tZWRpYVNvdXJjZS5zb3VyY2VvcGVuKTtcbiAgICB0aGlzLm1lZGlhU291cmNlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NvdXJjZWVuZGVkJywgdGhpcy5ldmVudExpc3RlbmVycy5tZWRpYVNvdXJjZS5zb3VyY2VlbmRlZCk7XG4gICAgdGhpcy5tZWRpYVNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuZXZlbnRMaXN0ZW5lcnMubWVkaWFTb3VyY2UuZXJyb3IpO1xuXG4gICAgLy8gbGV0IHNvdXJjZUJ1ZmZlcnMgPSB0aGlzLm1lZGlhU291cmNlLnNvdXJjZUJ1ZmZlcnM7XG5cbiAgICAvLyBpZiAoc291cmNlQnVmZmVycy5Tb3VyY2VCdWZmZXJzKSB7XG4gICAgLy8gICAvLyBAc2VlIC0gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL01lZGlhU291cmNlL3NvdXJjZUJ1ZmZlcnNcbiAgICAvLyAgIHNvdXJjZUJ1ZmZlcnMgPSBzb3VyY2VCdWZmZXJzLlNvdXJjZUJ1ZmZlcnMoKTtcbiAgICAvLyB9XG5cbiAgICAvLyBmb3IgKGxldCBpID0gMDsgaSA8IHNvdXJjZUJ1ZmZlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAvLyB0aGlzLm1lZGlhU291cmNlLnJlbW92ZVNvdXJjZUJ1ZmZlcihzb3VyY2VCdWZmZXJzW2ldKTtcbiAgICAvLyB9XG5cbiAgICBpZiAodGhpcy5pc01lZGlhU291cmNlUmVhZHkoKSAmJiB0aGlzLmlzU291cmNlQnVmZmVyUmVhZHkoKSkge1xuICAgICAgZGVidWcoJ21lZGlhIHNvdXJjZSB3YXMgcmVhZHkgZm9yIGVuZE9mU3RyZWFtIGFuZCByZW1vdmVTb3VyY2VCdWZmZXInKTtcbiAgICAgIHRoaXMubWVkaWFTb3VyY2UuZW5kT2ZTdHJlYW0oKTtcbiAgICAgIHRoaXMubWVkaWFTb3VyY2UucmVtb3ZlU291cmNlQnVmZmVyKHRoaXMuc291cmNlQnVmZmVyKTtcbiAgICB9XG5cbiAgICAvLyBAdG9kbyAtIGlzIHRoaXMgaGFwcGVuaW5nIGF0IHRoZSByaWdodCB0aW1lLCBvciBzaG91bGQgaXQgaGFwcGVuXG4gICAgLy8gcHJpb3IgdG8gcmVtb3ZpbmcgdGhlIHNvdXJjZSBidWZmZXJzP1xuICAgIHRoaXMuZGVzdHJveVZpZGVvRWxlbWVudFNyYygpO1xuXG4gICAgdGhpcy5tZXRyaWMoJ21lZGlhU291cmNlLmRlc3Ryb3llZCcsIDEpO1xuICB9XG5cbiAgX2ZyZWVBbGxSZXNvdXJjZXMgKCkge1xuICAgIGRlYnVnKCdfZnJlZUFsbFJlc291cmNlcy4uLicpO1xuXG4gICAgLy8gV2UgbWFrZSBOTyBhc3N1bXB0aW9ucyBoZXJlIGFib3V0IHdoYXQgaW5zdGFuY2UgcHJvcGVydGllcyBhcmVcbiAgICAvLyBuZWVkZWQgZHVyaW5nIHRoZSBhc3luY2hyb25vdXMgZGVzdHJ1Y3Rpb24gb2YgdGhlIHNvdXJjZSBidWZmZXIsXG4gICAgLy8gdGhlcmVmb3JlIHdlIHdhaXQgdW50aWwgaXQgaXMgZmluaXNoZWQgdG8gZnJlZSBhbGwgb2YgdGhlc2VcbiAgICAvLyByZXNvdXJjZXMuXG4gICAgdGhpcy5tZWRpYVNvdXJjZSA9IG51bGw7XG4gICAgdGhpcy5zb3VyY2VCdWZmZXIgPSBudWxsO1xuXG4gICAgdGhpcy52aWRlb0VsZW1lbnQgPSBudWxsO1xuXG4gICAgdGhpcy50aW1lQnVmZmVyZWQgPSBudWxsO1xuICAgIHRoaXMucHJldmlvdXNUaW1lRW5kID0gbnVsbDtcbiAgICB0aGlzLnNlZ21lbnRRdWV1ZSA9IG51bGw7XG5cbiAgICB0aGlzLm9wdGlvbnMgPSBudWxsO1xuICAgIHRoaXMubWV0cmljcyA9IG51bGw7XG4gICAgdGhpcy5ldmVudHMgPSBudWxsO1xuICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnMgPSBudWxsO1xuXG4gICAgZGVidWcoJ19mcmVlQWxsUmVzb3VyY2VzIGZpbmlzaGVkLi4uJyk7XG4gIH1cblxuICBkZXN0cm95ICgpIHtcbiAgICBkZWJ1ZygnZGVzdHJveS4uLicpO1xuXG4gICAgaWYgKHRoaXMuZGVzdHJveWVkKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgdGhpcy5kZXN0cm95ZWQgPSB0cnVlO1xuXG4gICAgdGhpcy5kZXN0cm95TWVkaWFTb3VyY2UoKTtcblxuICAgIC8vIFdlIE1VU1Qgbm90IGZvcmNlIHRoZSBkZXN0cm95IG1ldGhvZCBoZXJlIHRvIGJlIGFzeW5jaHJvbm91cywgZXZlblxuICAgIC8vIHRob3VnaCBpdCBcInNob3VsZFwiIGJlLiAgVGhpcyBpcyBiZWNhdXNlIHdlIGNhbm5vdCBhc3N1bWUgdGhhdCB0aGVcbiAgICAvLyBjYWxsZXIgaGFzIGNvbnRyb2wgb3ZlciB3aGV0aGVyIG9yIG5vdCBpdHMgZGVzdHJveSBtZXRob2QgY2FuIGJlXG4gICAgLy8gcHJvcGVybHkgcnVuIGFzeW5jaHJvbm91c2x5LiAgVGhlIHNwZWNpZmljIHVzZSBjYXNlIGhlcmUgaXMgdGhhdFxuICAgIC8vIG1hbnkgY2xpZW50IHNpZGUgbGlicmFyaWVzIChhbmd1bGFyLCBtYXJpb25ldHRlLCByZWFjdCwgZXRjLikgZG9cbiAgICAvLyBub3QgYWxsIGdpdmUgcHJlLWRlc3RydWN0aW9uIG1ldGhvZHMgb3IgZXZlbnRzIHRoYXQgY2FuIHdhaXQgZm9yXG4gICAgLy8gYW4gYXN5bmNocm9ub3VzIG9wZXJhdGlvbi4gIElmIGFuZ3VsYXIgZGVjaWRlcyBpdCBpcyBnb2luZyB0b1xuICAgIC8vIGRlc3Ryb3kgYSBET00gZWxlbWVudCB3aGVuIGEgdXNlciBuYXZpZ2F0ZXMsIHdlIGhhdmUgbm8gd2F5IG9mXG4gICAgLy8gZW5zdXJpbmcgdGhhdCBpdCBzdXBwb3J0cyBhc3luY2hyb25vdXMgb3BlcmF0aW9ucywgb3IgdGhhdCB0aGVcbiAgICAvLyBjYWxsZXIgaXMgcHJvcGVybHkgdXNpbmcgdGhlbSwgaWYgdGhleSBleGlzdC4gIFRoZXJlZm9yZSwgdGhpc1xuICAgIC8vIGRlc3Ryb3kgbWV0aG9kIHdpbGwgY2xlYW4gdXAgdGhlIHNvdXJjZSBidWZmZXIgbGF0ZXIsIGFsbG93aW5nIHRoZVxuICAgIC8vIHJlc3Qgb2YgdGhlIGNsc3AgZGVzdHJ1Y3Rpb24gbG9naWMgdG8gY29udGludWUuICBUaGUgdXNlIGNhc2UgZm9yXG4gICAgLy8gbmVlZGluZyB0aGF0IGZ1bmN0aW9uYWxpdHkgaXMgdGhhdCB0aGUgY29uZHVpdCBuZWVkcyB0byB1c2UgdGhlIGl0c1xuICAgIC8vIGlmcmFtZSB0byBjb250YWN0IHRoZSBzZXJ2ZXIsIGFuZCBpZiB0aGUgaWZyYW1lIGlzIGRlc3Ryb3llZCBiZWZvcmVcbiAgICAvLyB0aGUgY29uZHVpdCB0YWxrcyB0byB0aGUgc2VydmVyLCBlcnJvcnMgd2lsbCBiZSB0aHJvd24gZHVyaW5nXG4gICAgLy8gZGVzdHJ1Y3Rpb24sIHdoaWNoIHdpbGwgbGVhZCB0byByZXNvdXJjZXMgbm90IGJlaW5nIGZyZWUgLyBtZW1vcnlcbiAgICAvLyBsZWFrcywgd2hpY2ggbWF5IGNhdXNlIHRoZSBicm93c2VyIHRvIGNyYXNoIGFmdGVyIGV4dGVuZGVkIHBlcmlvZHNcbiAgICAvLyBvZiB0aW1lLCBzdWNoIGFzIDI0IGhvdXJzLlxuICAgIC8vIE5vdGUgdGhhdCB3ZSBzdGlsbCByZXR1cm4gdGhlIHByb21pc2UsIHNvIHRoYXQgdGhlIGNhbGxlciBoYXMgdGhlXG4gICAgLy8gb3B0aW9uIG9mIHdhaXRpbmcgaWYgdGhleSBjaG9vc2UuXG4gICAgY29uc3QgZGVzdHJveVByb21pc2UgPSB0aGlzLmRlc3Ryb3lTb3VyY2VCdWZmZXIoKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBkZWJ1ZygnZGVzdHJveVNvdXJjZUJ1ZmZlciBzdWNjZXNzZnVsbHkgZmluaXNoZWQuLi4nKTtcbiAgICAgICAgdGhpcy5fZnJlZUFsbFJlc291cmNlcygpO1xuICAgICAgICBkZWJ1ZygnZGVzdHJveSBzdWNjZXNzZnVsbHkgZmluaXNoZWQuLi4nKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgIGRlYnVnKCdkZXN0cm95U291cmNlQnVmZmVyIGZhaWxlZC4uLicpO1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB3aGlsZSBkZXN0cm95aW5nIHRoZSBzb3VyY2UgYnVmZmVyIScpO1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcblxuICAgICAgICAvLyBEbyBvdXIgYmVzdCBhdCBtZW1vcnkgbWFuYWdlbWVudCwgZXZlbiBvbiBmYWlsdXJlXG4gICAgICAgIHRoaXMuX2ZyZWVBbGxSZXNvdXJjZXMoKTtcbiAgICAgICAgZGVidWcoJ2Rlc3Ryb3kgdW5zdWNjZXNzZnVsbHkgZmluaXNoZWQuLi4nKTtcbiAgICAgIH0pO1xuXG4gICAgZGVidWcoJ2V4aXRpbmcgZGVzdHJveSwgYXN5bmNocm9ub3VzIGRlc3Ryb3kgbG9naWMgaW4gcHJvZ3Jlc3MuLi4nKTtcblxuICAgIHJldHVybiBkZXN0cm95UHJvbWlzZTtcbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/iov/MSEWrapper.js\n");

/***/ }),

/***/ "./src/js/iov/StreamConfiguration.js":
/*!*******************************************!*\
  !*** ./src/js/iov/StreamConfiguration.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return StreamConfiguration; });\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar StreamConfiguration =\n/*#__PURE__*/\nfunction () {\n  _createClass(StreamConfiguration, null, [{\n    key: \"factory\",\n    value: function factory(streamName, host, port, useSSL, tokenConfig) {\n      return new StreamConfiguration(streamName, host, port, useSSL, tokenConfig);\n    }\n  }, {\n    key: \"fromObject\",\n    value: function fromObject(config) {\n      if (!config || !typeof config === 'object') {\n        throw new Error('config must be an object to create a streamConfiguration');\n      }\n\n      return StreamConfiguration.factory(config.streamName, config.host, config.port, config.useSSL, _objectSpread({}, config.tokenConfig));\n    }\n  }, {\n    key: \"isStreamConfiguration\",\n    value: function isStreamConfiguration(target) {\n      return target && target.constructor && target.constructor.name === 'StreamConfiguration';\n    }\n  }, {\n    key: \"generateConfigFromUrl\",\n    value: function generateConfigFromUrl(url) {\n      if (!url) {\n        throw new Error('No source was given to be parsed!');\n      } // We use an anchor tag here beacuse, when an href is added to\n      // an anchor dom Element, the parsing is done for you by the\n      // browser.\n\n\n      var parser = document.createElement('a');\n      var useSSL;\n      var default_port;\n      var jwtUrl;\n      var hashUrl;\n      var b64_jwt_access_url = '';\n      var jwt = '';\n      var b64_hash_access_url = '';\n      var hash = ''; // Chrome is the only browser that allows non-http protocols in\n      // the anchor tag's href, so change them all to http here so we\n      // get the benefits of the anchor tag's parsing\n\n      if (url.substring(0, 9).toLowerCase() === 'clsps-jwt') {\n        useSSL = true;\n        parser.href = url.replace('clsps-jwt', 'https');\n        default_port = 443;\n        jwtUrl = true;\n        hashUrl = false;\n      } else if (url.substring(0, 8).toLowerCase() === 'clsp-jwt') {\n        useSSL = false;\n        parser.href = url.replace('clsp-jwt', 'http');\n        default_port = 9001;\n        jwtUrl = true;\n        hashUrl = false;\n      } else if (url.substring(0, 10).toLowerCase() === 'clsps-hash') {\n        useSSL = true;\n        parser.href = url.replace('clsps-hash', 'https');\n        default_port = 443;\n        jwtUrl = false;\n        hashUrl = true;\n      } else if (url.substring(0, 9).toLowerCase() === 'clsp-hash') {\n        useSSL = false;\n        parser.href = url.replace('clsp-hash', 'http');\n        default_port = 9001;\n        jwtUrl = false;\n        hashUrl = true;\n      } else if (url.substring(0, 5).toLowerCase() === 'clsps') {\n        useSSL = true;\n        parser.href = url.replace('clsps', 'https');\n        default_port = 443;\n        jwtUrl = false;\n        hashUrl = false;\n      } else if (url.substring(0, 4).toLowerCase() === 'clsp') {\n        useSSL = false;\n        parser.href = url.replace('clsp', 'http');\n        default_port = 9001;\n        jwtUrl = false;\n        hashUrl = false;\n      } else {\n        throw new Error('The given source is not a clsp url, and therefore cannot be parsed.');\n      }\n\n      var paths = parser.pathname.split('/');\n      var streamName = paths[paths.length - 1];\n      var host = parser.hostname;\n      var port = parser.port;\n\n      if (port.length === 0) {\n        port = default_port;\n      }\n\n      port = parseInt(port); // @ is a special address meaning the server that loaded the web page.\n\n      if (host === '@') {\n        host = window.location.hostname;\n      } // if jwt extract required url parameters.\n\n\n      if (jwtUrl === true) {\n        // Url: clsp[s]-jwt://<sfs addr>[:9001]/<jwt>?Start=...&End=...\n        var qp_offset = url.indexOf(parser.pathname) + parser.pathname.length;\n        var qr_args = url.substr(qp_offset).split('?')[1];\n        var query = {};\n        var pairs = qr_args.split('&');\n\n        for (var i = 0; i < pairs.length; i++) {\n          var pair = pairs[i].split('=');\n          query[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1] || '');\n        }\n\n        if (typeof query.Start === 'undefined') {\n          throw new Error(\"Required 'Start' query parameter not defined for a clsp[s]-jwt\");\n        }\n\n        if (typeof query.End === 'undefined') {\n          throw new Error(\"Required 'End' query parameter not defined for a clsp[s]-jwt\");\n        }\n\n        if (typeof query.token === 'undefined') {\n          throw new Error(\"Required 'token' query parameter not defined for a clsp[s]-jwt\");\n        }\n\n        var protocol = useSSL ? 'clsps-jwt' : 'clsp-jwt';\n\n        var _jwtUrl = \"\".concat(protocol, \"://\").concat(host, \":\").concat(port, \"/jwt?Start=\").concat(query.Start, \"&End=\").concat(query.End);\n\n        b64_jwt_access_url = window.btoa(_jwtUrl);\n        jwt = query.token;\n      } else if (hashUrl === true) {\n        // URL: clsp[s]-hash://<sfs-addr>[:9001]/<stream>?start=...&end=...&token=...\n        var _qp_offset = url.indexOf(parser.pathname) + parser.pathname.length;\n\n        var _qr_args = url.substr(_qp_offset).split('?')[1];\n        var _query = {};\n\n        var _pairs = _qr_args.split('&');\n\n        for (var _i = 0; _i < _pairs.length; _i++) {\n          var _pair = _pairs[_i].split('=');\n\n          _query[decodeURIComponent(_pair[0])] = decodeURIComponent(_pair[1] || '');\n        }\n\n        if (typeof _query.start === 'undefined') {\n          throw new Error(\"Required 'start' query parameter not defined for a clsp[s]-hash\");\n        }\n\n        if (typeof _query.end === 'undefined') {\n          throw new Error(\"Required 'end' query parameter not defined for a clsp[s]-hash\");\n        }\n\n        if (typeof _query.token === 'undefined') {\n          throw new Error(\"Required 'token' query parameter not defined for a clsp[s]-hash\");\n        }\n\n        var _protocol = useSSL ? 'clsps-hash' : 'clsp-hash';\n\n        var _hashUrl = \"\".concat(_protocol, \"://\").concat(host, \":\").concat(port, \"/\").concat(streamName, \"?start=\").concat(_query.start, \"&end=\").concat(_query.end, \"&token=\").concat(_query.token);\n\n        b64_hash_access_url = window.btoa(_hashUrl);\n        hash = _query.token;\n      }\n\n      return {\n        streamName: streamName,\n        host: host,\n        port: port,\n        useSSL: useSSL,\n        tokenConfig: {\n          b64_jwt_access_url: b64_jwt_access_url,\n          jwt: jwt,\n          b64_hash_access_url: b64_hash_access_url,\n          hash: hash\n        }\n      };\n    }\n  }, {\n    key: \"fromUrl\",\n    value: function fromUrl(url) {\n      var config = StreamConfiguration.generateConfigFromUrl(url);\n      return StreamConfiguration.fromObject(config);\n    }\n  }]);\n\n  function StreamConfiguration(streamName, host, port, useSSL) {\n    var tokenConfig = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n\n    _classCallCheck(this, StreamConfiguration);\n\n    if (!streamName) {\n      throw new Error('streamName is required to create a stream configuration.');\n    }\n\n    if (!host) {\n      throw new Error('host is required to create a stream configuration.');\n    }\n\n    if (!port) {\n      throw new Error('port is required to create a stream configuration.');\n    }\n\n    if (!useSSL && useSSL !== false) {\n      throw new Error('useSSL is required to create a stream configuration.');\n    }\n\n    if (!tokenConfig || typeof tokenConfig !== 'object') {\n      throw new Error('tokenConfig is required to create a stream configuration.');\n    }\n\n    this.streamName = streamName;\n    this.host = host;\n    this.port = port;\n    this.useSSL = useSSL;\n    this.tokenConfig = tokenConfig;\n    this.destroyed = false;\n  }\n\n  _createClass(StreamConfiguration, [{\n    key: \"clone\",\n    value: function clone(streamConfiguration) {\n      if (!StreamConfiguration.isStreamConfiguration(streamConfiguration)) {\n        throw new Error('Cannot clone with invalid streamConfiguration');\n      }\n\n      var clone = StreamConfiguration.factory.apply(StreamConfiguration, _toConsumableArray(streamConfiguration.toObject()));\n      return clone;\n    }\n  }, {\n    key: \"toObject\",\n    value: function toObject() {\n      return {\n        streamName: streamConfiguration.streamName,\n        host: streamConfiguration.host,\n        port: streamConfiguration.port,\n        useSSL: streamConfiguration.useSSL,\n        tokenConfig: _objectSpread({}, streamConfiguration.tokenConfig)\n      };\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this.destroyed) {\n        return;\n      }\n\n      this.destroyed = true;\n      this.streamName = null;\n      this.host = null;\n      this.port = null;\n      this.useSSL = null;\n      this.tokenConfig = null;\n    }\n  }, {\n    key: \"url\",\n    get: function get() {// @todo\n    }\n  }]);\n\n  return StreamConfiguration;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvaW92L1N0cmVhbUNvbmZpZ3VyYXRpb24uanM/Njg5OCJdLCJuYW1lcyI6WyJTdHJlYW1Db25maWd1cmF0aW9uIiwic3RyZWFtTmFtZSIsImhvc3QiLCJwb3J0IiwidXNlU1NMIiwidG9rZW5Db25maWciLCJjb25maWciLCJFcnJvciIsImZhY3RvcnkiLCJ0YXJnZXQiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJ1cmwiLCJwYXJzZXIiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJkZWZhdWx0X3BvcnQiLCJqd3RVcmwiLCJoYXNoVXJsIiwiYjY0X2p3dF9hY2Nlc3NfdXJsIiwiand0IiwiYjY0X2hhc2hfYWNjZXNzX3VybCIsImhhc2giLCJzdWJzdHJpbmciLCJ0b0xvd2VyQ2FzZSIsImhyZWYiLCJyZXBsYWNlIiwicGF0aHMiLCJwYXRobmFtZSIsInNwbGl0IiwibGVuZ3RoIiwiaG9zdG5hbWUiLCJwYXJzZUludCIsIndpbmRvdyIsImxvY2F0aW9uIiwicXBfb2Zmc2V0IiwiaW5kZXhPZiIsInFyX2FyZ3MiLCJzdWJzdHIiLCJxdWVyeSIsInBhaXJzIiwiaSIsInBhaXIiLCJkZWNvZGVVUklDb21wb25lbnQiLCJTdGFydCIsIkVuZCIsInRva2VuIiwicHJvdG9jb2wiLCJidG9hIiwic3RhcnQiLCJlbmQiLCJnZW5lcmF0ZUNvbmZpZ0Zyb21VcmwiLCJmcm9tT2JqZWN0IiwiZGVzdHJveWVkIiwic3RyZWFtQ29uZmlndXJhdGlvbiIsImlzU3RyZWFtQ29uZmlndXJhdGlvbiIsImNsb25lIiwidG9PYmplY3QiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFDcUJBLG1COzs7Ozs0QkFDSEMsVSxFQUFZQyxJLEVBQU1DLEksRUFBTUMsTSxFQUFRQyxXLEVBQWE7QUFDM0QsYUFBTyxJQUFJTCxtQkFBSixDQUF3QkMsVUFBeEIsRUFBb0NDLElBQXBDLEVBQTBDQyxJQUExQyxFQUFnREMsTUFBaEQsRUFB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QUFwQixPQUFBUixtQkFBbUIscUJBQVlzRCxtQkFBbUIsQ0FBQ0csUUFBcEIsRUFBWixFQUFqQztBQUVBLGFBQU9ELEtBQVA7QUFDRDs7OytCQUVXO0FBQ1YsYUFBTztBQUNMdkQsa0JBQVUsRUFBRXFELG1CQUFtQixDQUFDckQsVUFEM0I7QUFFTEMsWUFBSSxFQUFFb0QsbUJBQW1CLENBQUNwRCxJQUZyQjtBQUdMQyxZQUFJLEVBQUVtRCxtQkFBbUIsQ0FBQ25ELElBSHJCO0FBSUxDLGNBQU0sRUFBRWtELG1CQUFtQixDQUFDbEQsTUFKdkI7QUFLTEMsbUJBQVcsb0JBQ05pRCxtQkFBbUIsQ0FBQ2pELFdBRGQ7QUFMTixPQUFQO0FBU0Q7Ozs4QkFNVTtBQUNULFVBQUksS0FBS2dELFNBQVQsRUFBb0I7QUFDbEI7QUFDRDs7QUFFRCxXQUFLQSxTQUFMLEdBQWlCLElBQWpCO0FBRUEsV0FBS3BELFVBQUwsR0FBa0IsSUFBbEI7QUFDQSxXQUFLQyxJQUFMLEdBQVksSUFBWjtBQUNBLFdBQUtDLElBQUwsR0FBWSxJQUFaO0FBQ0EsV0FBS0MsTUFBTCxHQUFjLElBQWQ7QUFDQSxXQUFLQyxXQUFMLEdBQW1CLElBQW5CO0FBQ0Q7Ozt3QkFoQlUsQ0FDVDtBQUNEIiwiZmlsZSI6Ii4vc3JjL2pzL2lvdi9TdHJlYW1Db25maWd1cmF0aW9uLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdHJlYW1Db25maWd1cmF0aW9uIHtcbiAgc3RhdGljIGZhY3RvcnkgKHN0cmVhbU5hbWUsIGhvc3QsIHBvcnQsIHVzZVNTTCwgdG9rZW5Db25maWcpIHtcbiAgICByZXR1cm4gbmV3IFN0cmVhbUNvbmZpZ3VyYXRpb24oc3RyZWFtTmFtZSwgaG9zdCwgcG9ydCwgdXNlU1NMLCB0b2tlbkNvbmZpZyk7XG4gIH1cblxuICBzdGF0aWMgZnJvbU9iamVjdCAoY29uZmlnKSB7XG4gICAgaWYgKCFjb25maWcgfHwgIXR5cGVvZiBjb25maWcgPT09ICdvYmplY3QnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvbmZpZyBtdXN0IGJlIGFuIG9iamVjdCB0byBjcmVhdGUgYSBzdHJlYW1Db25maWd1cmF0aW9uJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFN0cmVhbUNvbmZpZ3VyYXRpb24uZmFjdG9yeShcbiAgICAgIGNvbmZpZy5zdHJlYW1OYW1lLFxuICAgICAgY29uZmlnLmhvc3QsXG4gICAgICBjb25maWcucG9ydCxcbiAgICAgIGNvbmZpZy51c2VTU0wsXG4gICAgICB7XG4gICAgICAgIC4uLmNvbmZpZy50b2tlbkNvbmZpZ1xuICAgICAgfSxcbiAgICApO1xuICB9XG5cbiAgc3RhdGljIGlzU3RyZWFtQ29uZmlndXJhdGlvbiAodGFyZ2V0KSB7XG4gICAgcmV0dXJuIHRhcmdldCAmJiB0YXJnZXQuY29uc3RydWN0b3IgJiYgdGFyZ2V0LmNvbnN0cnVjdG9yLm5hbWUgPT09ICdTdHJlYW1Db25maWd1cmF0aW9uJztcbiAgfVxuXG4gIHN0YXRpYyBnZW5lcmF0ZUNvbmZpZ0Zyb21VcmwodXJsKSB7XG4gICAgaWYgKCF1cmwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gc291cmNlIHdhcyBnaXZlbiB0byBiZSBwYXJzZWQhJyk7XG4gICAgfVxuXG4gICAgLy8gV2UgdXNlIGFuIGFuY2hvciB0YWcgaGVyZSBiZWFjdXNlLCB3aGVuIGFuIGhyZWYgaXMgYWRkZWQgdG9cbiAgICAvLyBhbiBhbmNob3IgZG9tIEVsZW1lbnQsIHRoZSBwYXJzaW5nIGlzIGRvbmUgZm9yIHlvdSBieSB0aGVcbiAgICAvLyBicm93c2VyLlxuICAgIGNvbnN0IHBhcnNlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcblxuICAgIGxldCB1c2VTU0w7XG4gICAgbGV0IGRlZmF1bHRfcG9ydDtcbiAgICBsZXQgand0VXJsO1xuICAgIGxldCBoYXNoVXJsO1xuICAgIGxldCBiNjRfand0X2FjY2Vzc191cmwgPSAnJztcbiAgICBsZXQgand0ID0gJyc7XG4gICAgbGV0IGI2NF9oYXNoX2FjY2Vzc191cmwgPSAnJztcbiAgICBsZXQgaGFzaCA9ICcnO1xuXG4gICAgLy8gQ2hyb21lIGlzIHRoZSBvbmx5IGJyb3dzZXIgdGhhdCBhbGxvd3Mgbm9uLWh0dHAgcHJvdG9jb2xzIGluXG4gICAgLy8gdGhlIGFuY2hvciB0YWcncyBocmVmLCBzbyBjaGFuZ2UgdGhlbSBhbGwgdG8gaHR0cCBoZXJlIHNvIHdlXG4gICAgLy8gZ2V0IHRoZSBiZW5lZml0cyBvZiB0aGUgYW5jaG9yIHRhZydzIHBhcnNpbmdcbiAgICBpZiAodXJsLnN1YnN0cmluZygwLCA5KS50b0xvd2VyQ2FzZSgpID09PSAnY2xzcHMtand0Jykge1xuICAgICAgdXNlU1NMID0gdHJ1ZTtcbiAgICAgIHBhcnNlci5ocmVmID0gdXJsLnJlcGxhY2UoJ2Nsc3BzLWp3dCcsICdodHRwcycpO1xuICAgICAgZGVmYXVsdF9wb3J0ID0gNDQzO1xuICAgICAgand0VXJsID0gdHJ1ZTtcbiAgICAgIGhhc2hVcmwgPSBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKHVybC5zdWJzdHJpbmcoMCwgOCkudG9Mb3dlckNhc2UoKSA9PT0gJ2Nsc3Atand0Jykge1xuICAgICAgdXNlU1NMID0gZmFsc2U7XG4gICAgICBwYXJzZXIuaHJlZiA9IHVybC5yZXBsYWNlKCdjbHNwLWp3dCcsICdodHRwJyk7XG4gICAgICBkZWZhdWx0X3BvcnQgPSA5MDAxO1xuICAgICAgand0VXJsID0gdHJ1ZTtcbiAgICAgIGhhc2hVcmwgPSBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKHVybC5zdWJzdHJpbmcoMCwgMTApLnRvTG93ZXJDYXNlKCkgPT09ICdjbHNwcy1oYXNoJykge1xuICAgICAgdXNlU1NMID0gdHJ1ZTtcbiAgICAgIHBhcnNlci5ocmVmID0gdXJsLnJlcGxhY2UoJ2Nsc3BzLWhhc2gnLCAnaHR0cHMnKTtcbiAgICAgIGRlZmF1bHRfcG9ydCA9IDQ0MztcbiAgICAgIGp3dFVybCA9IGZhbHNlO1xuICAgICAgaGFzaFVybCA9IHRydWU7XG4gICAgfSBlbHNlIGlmICh1cmwuc3Vic3RyaW5nKDAsIDkpLnRvTG93ZXJDYXNlKCkgPT09ICdjbHNwLWhhc2gnKSB7XG4gICAgICB1c2VTU0wgPSBmYWxzZTtcbiAgICAgIHBhcnNlci5ocmVmID0gdXJsLnJlcGxhY2UoJ2Nsc3AtaGFzaCcsICdodHRwJyk7XG4gICAgICBkZWZhdWx0X3BvcnQgPSA5MDAxO1xuICAgICAgand0VXJsID0gZmFsc2U7XG4gICAgICBoYXNoVXJsID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHVybC5zdWJzdHJpbmcoMCwgNSkudG9Mb3dlckNhc2UoKSA9PT0gJ2Nsc3BzJykge1xuICAgICAgdXNlU1NMID0gdHJ1ZTtcbiAgICAgIHBhcnNlci5ocmVmID0gdXJsLnJlcGxhY2UoJ2Nsc3BzJywgJ2h0dHBzJyk7XG4gICAgICBkZWZhdWx0X3BvcnQgPSA0NDM7XG4gICAgICBqd3RVcmwgPSBmYWxzZTtcbiAgICAgIGhhc2hVcmwgPSBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKHVybC5zdWJzdHJpbmcoMCwgNCkudG9Mb3dlckNhc2UoKSA9PT0gJ2Nsc3AnKSB7XG4gICAgICB1c2VTU0wgPSBmYWxzZTtcbiAgICAgIHBhcnNlci5ocmVmID0gdXJsLnJlcGxhY2UoJ2Nsc3AnLCAnaHR0cCcpO1xuICAgICAgZGVmYXVsdF9wb3J0ID0gOTAwMTtcbiAgICAgIGp3dFVybCA9IGZhbHNlO1xuICAgICAgaGFzaFVybCA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBnaXZlbiBzb3VyY2UgaXMgbm90IGEgY2xzcCB1cmwsIGFuZCB0aGVyZWZvcmUgY2Fubm90IGJlIHBhcnNlZC4nKTtcbiAgICB9XG5cbiAgICBjb25zdCBwYXRocyA9IHBhcnNlci5wYXRobmFtZS5zcGxpdCgnLycpO1xuICAgIGNvbnN0IHN0cmVhbU5hbWUgPSBwYXRoc1twYXRocy5sZW5ndGggLSAxXTtcblxuICAgIGxldCBob3N0ID0gcGFyc2VyLmhvc3RuYW1lO1xuICAgIGxldCBwb3J0ID0gcGFyc2VyLnBvcnQ7XG5cbiAgICBpZiAocG9ydC5sZW5ndGggPT09IDApIHtcbiAgICAgIHBvcnQgPSBkZWZhdWx0X3BvcnQ7XG4gICAgfVxuXG4gICAgcG9ydCA9IHBhcnNlSW50KHBvcnQpO1xuXG4gICAgLy8gQCBpcyBhIHNwZWNpYWwgYWRkcmVzcyBtZWFuaW5nIHRoZSBzZXJ2ZXIgdGhhdCBsb2FkZWQgdGhlIHdlYiBwYWdlLlxuICAgIGlmIChob3N0ID09PSAnQCcpIHtcbiAgICAgIGhvc3QgPSB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWU7XG4gICAgfVxuXG4gICAgLy8gaWYgand0IGV4dHJhY3QgcmVxdWlyZWQgdXJsIHBhcmFtZXRlcnMuXG4gICAgaWYgKGp3dFVybCA9PT0gdHJ1ZSkge1xuICAgICAgLy8gVXJsOiBjbHNwW3NdLWp3dDovLzxzZnMgYWRkcj5bOjkwMDFdLzxqd3Q+P1N0YXJ0PS4uLiZFbmQ9Li4uXG4gICAgICBjb25zdCBxcF9vZmZzZXQgPSB1cmwuaW5kZXhPZihwYXJzZXIucGF0aG5hbWUpICsgcGFyc2VyLnBhdGhuYW1lLmxlbmd0aDtcblxuICAgICAgY29uc3QgcXJfYXJncyA9IHVybC5zdWJzdHIocXBfb2Zmc2V0KS5zcGxpdCgnPycpWzFdO1xuICAgICAgY29uc3QgcXVlcnkgPSB7fTtcblxuICAgICAgY29uc3QgcGFpcnMgPSBxcl9hcmdzLnNwbGl0KCcmJyk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhaXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHBhaXIgPSBwYWlyc1tpXS5zcGxpdCgnPScpO1xuICAgICAgICBxdWVyeVtkZWNvZGVVUklDb21wb25lbnQocGFpclswXSldID0gZGVjb2RlVVJJQ29tcG9uZW50KHBhaXJbMV0gfHwgJycpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIHF1ZXJ5LlN0YXJ0ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSZXF1aXJlZCAnU3RhcnQnIHF1ZXJ5IHBhcmFtZXRlciBub3QgZGVmaW5lZCBmb3IgYSBjbHNwW3NdLWp3dFwiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBxdWVyeS5FbmQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlJlcXVpcmVkICdFbmQnIHF1ZXJ5IHBhcmFtZXRlciBub3QgZGVmaW5lZCBmb3IgYSBjbHNwW3NdLWp3dFwiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBxdWVyeS50b2tlbiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmVxdWlyZWQgJ3Rva2VuJyBxdWVyeSBwYXJhbWV0ZXIgbm90IGRlZmluZWQgZm9yIGEgY2xzcFtzXS1qd3RcIik7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHByb3RvY29sID0gdXNlU1NMID9cbiAgICAgICAgJ2Nsc3BzLWp3dCcgOlxuICAgICAgICAnY2xzcC1qd3QnO1xuXG4gICAgICBjb25zdCBqd3RVcmwgPSBgJHtwcm90b2NvbH06Ly8ke2hvc3R9OiR7cG9ydH0vand0P1N0YXJ0PSR7cXVlcnkuU3RhcnR9JkVuZD0ke3F1ZXJ5LkVuZH1gO1xuXG4gICAgICBiNjRfand0X2FjY2Vzc191cmwgPSB3aW5kb3cuYnRvYShqd3RVcmwpO1xuICAgICAgand0ID0gcXVlcnkudG9rZW47XG4gICAgfSBlbHNlIGlmIChoYXNoVXJsID09PSB0cnVlKSB7XG4gICAgICAvLyBVUkw6IGNsc3Bbc10taGFzaDovLzxzZnMtYWRkcj5bOjkwMDFdLzxzdHJlYW0+P3N0YXJ0PS4uLiZlbmQ9Li4uJnRva2VuPS4uLlxuICAgICAgY29uc3QgcXBfb2Zmc2V0ID0gdXJsLmluZGV4T2YocGFyc2VyLnBhdGhuYW1lKSArIHBhcnNlci5wYXRobmFtZS5sZW5ndGg7XG5cbiAgICAgIGNvbnN0IHFyX2FyZ3MgPSB1cmwuc3Vic3RyKHFwX29mZnNldCkuc3BsaXQoJz8nKVsxXTtcbiAgICAgIGNvbnN0IHF1ZXJ5ID0ge307XG5cbiAgICAgIGNvbnN0IHBhaXJzID0gcXJfYXJncy5zcGxpdCgnJicpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYWlycy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBwYWlyID0gcGFpcnNbaV0uc3BsaXQoJz0nKTtcbiAgICAgICAgcXVlcnlbZGVjb2RlVVJJQ29tcG9uZW50KHBhaXJbMF0pXSA9IGRlY29kZVVSSUNvbXBvbmVudChwYWlyWzFdIHx8ICcnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBxdWVyeS5zdGFydCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmVxdWlyZWQgJ3N0YXJ0JyBxdWVyeSBwYXJhbWV0ZXIgbm90IGRlZmluZWQgZm9yIGEgY2xzcFtzXS1oYXNoXCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIHF1ZXJ5LmVuZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmVxdWlyZWQgJ2VuZCcgcXVlcnkgcGFyYW1ldGVyIG5vdCBkZWZpbmVkIGZvciBhIGNsc3Bbc10taGFzaFwiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBxdWVyeS50b2tlbiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmVxdWlyZWQgJ3Rva2VuJyBxdWVyeSBwYXJhbWV0ZXIgbm90IGRlZmluZWQgZm9yIGEgY2xzcFtzXS1oYXNoXCIpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBwcm90b2NvbCA9IHVzZVNTTCA/XG4gICAgICAgICdjbHNwcy1oYXNoJyA6XG4gICAgICAgICdjbHNwLWhhc2gnO1xuXG4gICAgICBjb25zdCBoYXNoVXJsID0gYCR7cHJvdG9jb2x9Oi8vJHtob3N0fToke3BvcnR9LyR7c3RyZWFtTmFtZX0/c3RhcnQ9JHtxdWVyeS5zdGFydH0mZW5kPSR7cXVlcnkuZW5kfSZ0b2tlbj0ke3F1ZXJ5LnRva2VufWBcblxuICAgICAgYjY0X2hhc2hfYWNjZXNzX3VybCA9IHdpbmRvdy5idG9hKGhhc2hVcmwpO1xuICAgICAgaGFzaCA9IHF1ZXJ5LnRva2VuO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBzdHJlYW1OYW1lLFxuICAgICAgaG9zdCxcbiAgICAgIHBvcnQsXG4gICAgICB1c2VTU0wsXG4gICAgICB0b2tlbkNvbmZpZzoge1xuICAgICAgICBiNjRfand0X2FjY2Vzc191cmwsXG4gICAgICAgIGp3dCxcbiAgICAgICAgYjY0X2hhc2hfYWNjZXNzX3VybCxcbiAgICAgICAgaGFzaCxcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBmcm9tVXJsICh1cmwpIHtcbiAgICBjb25zdCBjb25maWcgPSBTdHJlYW1Db25maWd1cmF0aW9uLmdlbmVyYXRlQ29uZmlnRnJvbVVybCh1cmwpO1xuXG4gICAgcmV0dXJuIFN0cmVhbUNvbmZpZ3VyYXRpb24uZnJvbU9iamVjdChjb25maWcpO1xuICB9XG5cbiAgY29uc3RydWN0b3IgKHN0cmVhbU5hbWUsIGhvc3QsIHBvcnQsIHVzZVNTTCwgdG9rZW5Db25maWcgPSB7fSkge1xuICAgIGlmICghc3RyZWFtTmFtZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdzdHJlYW1OYW1lIGlzIHJlcXVpcmVkIHRvIGNyZWF0ZSBhIHN0cmVhbSBjb25maWd1cmF0aW9uLicpO1xuICAgIH1cblxuICAgIGlmICghaG9zdCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdob3N0IGlzIHJlcXVpcmVkIHRvIGNyZWF0ZSBhIHN0cmVhbSBjb25maWd1cmF0aW9uLicpO1xuICAgIH1cblxuICAgIGlmICghcG9ydCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdwb3J0IGlzIHJlcXVpcmVkIHRvIGNyZWF0ZSBhIHN0cmVhbSBjb25maWd1cmF0aW9uLicpO1xuICAgIH1cblxuICAgIGlmICghdXNlU1NMICYmIHVzZVNTTCAhPT0gZmFsc2UpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigndXNlU1NMIGlzIHJlcXVpcmVkIHRvIGNyZWF0ZSBhIHN0cmVhbSBjb25maWd1cmF0aW9uLicpO1xuICAgIH1cblxuICAgIGlmICghdG9rZW5Db25maWcgfHwgdHlwZW9mIHRva2VuQ29uZmlnICE9PSAnb2JqZWN0Jykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCd0b2tlbkNvbmZpZyBpcyByZXF1aXJlZCB0byBjcmVhdGUgYSBzdHJlYW0gY29uZmlndXJhdGlvbi4nKTtcbiAgICB9XG5cbiAgICB0aGlzLnN0cmVhbU5hbWUgPSBzdHJlYW1OYW1lO1xuICAgIHRoaXMuaG9zdCA9IGhvc3Q7XG4gICAgdGhpcy5wb3J0ID0gcG9ydDtcbiAgICB0aGlzLnVzZVNTTCA9IHVzZVNTTDtcbiAgICB0aGlzLnRva2VuQ29uZmlnID0gdG9rZW5Db25maWc7XG5cbiAgICB0aGlzLmRlc3Ryb3llZCA9IGZhbHNlO1xuICB9XG5cbiAgY2xvbmUgKHN0cmVhbUNvbmZpZ3VyYXRpb24pIHtcbiAgICBpZiAoIVN0cmVhbUNvbmZpZ3VyYXRpb24uaXNTdHJlYW1Db25maWd1cmF0aW9uKHN0cmVhbUNvbmZpZ3VyYXRpb24pKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjbG9uZSB3aXRoIGludmFsaWQgc3RyZWFtQ29uZmlndXJhdGlvbicpO1xuICAgIH1cblxuICAgIGNvbnN0IGNsb25lID0gU3RyZWFtQ29uZmlndXJhdGlvbi5mYWN0b3J5KC4uLnN0cmVhbUNvbmZpZ3VyYXRpb24udG9PYmplY3QoKSk7XG5cbiAgICByZXR1cm4gY2xvbmU7XG4gIH1cblxuICB0b09iamVjdCAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0cmVhbU5hbWU6IHN0cmVhbUNvbmZpZ3VyYXRpb24uc3RyZWFtTmFtZSxcbiAgICAgIGhvc3Q6IHN0cmVhbUNvbmZpZ3VyYXRpb24uaG9zdCxcbiAgICAgIHBvcnQ6IHN0cmVhbUNvbmZpZ3VyYXRpb24ucG9ydCxcbiAgICAgIHVzZVNTTDogc3RyZWFtQ29uZmlndXJhdGlvbi51c2VTU0wsXG4gICAgICB0b2tlbkNvbmZpZzoge1xuICAgICAgICAuLi5zdHJlYW1Db25maWd1cmF0aW9uLnRva2VuQ29uZmlnLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG5cbiAgZ2V0IHVybCAoKSB7XG4gICAgLy8gQHRvZG9cbiAgfVxuXG4gIGRlc3Ryb3kgKCkge1xuICAgIGlmICh0aGlzLmRlc3Ryb3llZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuZGVzdHJveWVkID0gdHJ1ZTtcblxuICAgIHRoaXMuc3RyZWFtTmFtZSA9IG51bGw7XG4gICAgdGhpcy5ob3N0ID0gbnVsbDtcbiAgICB0aGlzLnBvcnQgPSBudWxsO1xuICAgIHRoaXMudXNlU1NMID0gbnVsbDtcbiAgICB0aGlzLnRva2VuQ29uZmlnID0gbnVsbDtcbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/iov/StreamConfiguration.js\n");

/***/ }),

/***/ "./src/js/utils/index.js":
/*!*******************************!*\
  !*** ./src/js/utils/index.js ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ \"./src/js/utils/utils.js\");\n\n\n\n\nif (!window.clspUtils) {\n  window.clspUtils = _utils__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_utils__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvdXRpbHMvaW5kZXguanM/ZTJjMiJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJjbHNwVXRpbHMiLCJ1dGlscyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFhOztBQUViOztBQUVBLElBQUksQ0FBQ0EsTUFBTSxDQUFDQyxTQUFaLEVBQXVCO0FBQ3JCRCxRQUFNLENBQUNDLFNBQVAsR0FBbUJDLDhDQUFuQjtBQUNEOztBQUVjQSw2R0FBZiIsImZpbGUiOiIuL3NyYy9qcy91dGlscy9pbmRleC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4vdXRpbHMnO1xuXG5pZiAoIXdpbmRvdy5jbHNwVXRpbHMpIHtcbiAgd2luZG93LmNsc3BVdGlscyA9IHV0aWxzO1xufVxuXG5leHBvcnQgZGVmYXVsdCB1dGlscztcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/utils/index.js\n");

/***/ }),

/***/ "./src/js/utils/logger.js":
/*!********************************!*\
  !*** ./src/js/utils/logger.js ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n\n/* eslint no-console: off */\n\n/**\n * We use this in the router as well, so keep it light and ES5!\n */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (logLevel) {\n  function Logger(prefix) {\n    if (logLevel === undefined) {\n      // The logLevel may be set in localstorage\n      // e.g. localStorage.setItem('skyline.clspPlugin.logLevel', 3), then refresh\n      logLevel = isNaN(Number(window.localStorage.getItem('skyline.clspPlugin.logLevel'))) ? 1 : Number(window.localStorage.getItem('skyline.clspPlugin.logLevel'));\n      window.localStorage.setItem('skyline.clspPlugin.logLevel', logLevel);\n    }\n\n    this.logLevel = logLevel;\n    this.prefix = prefix;\n  }\n\n  Logger.factory = function (prefix) {\n    return new Logger(prefix || '');\n  };\n\n  Logger.prototype._constructMessage = function (type, message) {\n    if (!this.prefix) {\n      return message;\n    }\n\n    return this.prefix + ' (' + type + ')' + ' --> ' + message;\n  };\n\n  Logger.prototype.silly = function (message) {\n    if (this.logLevel >= 4) {\n      console.log(this._constructMessage('silly', message));\n    }\n  };\n\n  Logger.prototype.debug = function (message) {\n    if (this.logLevel >= 3) {\n      console.log(this._constructMessage('debug', message));\n    }\n  };\n\n  Logger.prototype.info = function (message) {\n    if (this.logLevel >= 2) {\n      console.log(this._constructMessage('info', message));\n    }\n  };\n\n  Logger.prototype.warn = function (message) {\n    if (this.logLevel >= 1) {\n      console.warn(this._constructMessage('warn', message));\n    }\n  };\n\n  Logger.prototype.error = function (message) {\n    console.error(this._constructMessage('error', message));\n  };\n\n  return Logger;\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvdXRpbHMvbG9nZ2VyLmpzPzkzNzEiXSwibmFtZXMiOlsibG9nTGV2ZWwiLCJMb2dnZXIiLCJwcmVmaXgiLCJ1bmRlZmluZWQiLCJpc05hTiIsIk51bWJlciIsIndpbmRvdyIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzZXRJdGVtIiwiZmFjdG9yeSIsInByb3RvdHlwZSIsIl9jb25zdHJ1Y3RNZXNzYWdlIiwidHlwZSIsIm1lc3NhZ2UiLCJzaWxseSIsImNvbnNvbGUiLCJsb2ciLCJkZWJ1ZyIsImluZm8iLCJ3YXJuIiwiZXJyb3IiXSwibWFwcGluZ3MiOiJBQUFBO0FBQWE7QUFFYjs7QUFFQTs7OztBQUllLHlFQUFVQSxRQUFWLEVBQW9CO0FBQ2pDLFdBQVNDLE1BQVQsQ0FBaUJDLE1BQWpCLEVBQXlCO0FBQ3ZCLFFBQUlGLFFBQVEsS0FBS0csU0FBakIsRUFBNEI7QUFDMUI7QUFDQTtBQUNBSCxjQUFRLEdBQUdJLEtBQUssQ0FBQ0MsTUFBTSxDQUFDQyxNQUFNLENBQUNDLFlBQVAsQ0FBb0JDLE9BQXBCLENBQTRCLDZCQUE1QixDQUFELENBQVAsQ0FBTCxHQUNULENBRFMsR0FFVEgsTUFBTSxDQUFDQyxNQUFNLENBQUNDLFlBQVAsQ0FBb0JDLE9BQXBCLENBQTRCLDZCQUE1QixDQUFELENBRlI7QUFJQUYsWUFBTSxDQUFDQyxZQUFQLENBQW9CRSxPQUFwQixDQUE0Qiw2QkFBNUIsRUFBMkRULFFBQTNEO0FBQ0Q7O0FBRUQsU0FBS0EsUUFBTCxHQUFnQkEsUUFBaEI7QUFDQSxTQUFLRSxNQUFMLEdBQWNBLE1BQWQ7QUFDRDs7QUFFREQsUUFBTSxDQUFDUyxPQUFQLEdBQWlCLFVBQVVSLE1BQVYsRUFBa0I7QUFDakMsV0FBTyxJQUFJRCxNQUFKLENBQVdDLE1BQU0sSUFBSSxFQUFyQixDQUFQO0FBQ0QsR0FGRDs7QUFJQUQsUUFBTSxDQUFDVSxTQUFQLENBQWlCQyxpQkFBakIsR0FBcUMsVUFBVUMsSUFBVixFQUFnQkMsT0FBaEIsRUFBeUI7QUFDNUQsUUFBSSxDQUFDLEtBQUtaLE1BQVYsRUFBa0I7QUFDaEIsYUFBT1ksT0FBUDtBQUNEOztBQUVELFdBQU8sS0FBS1osTUFBTCxHQUFjLElBQWQsR0FBcUJXLElBQXJCLEdBQTRCLEdBQTVCLEdBQWtDLE9BQWxDLEdBQTRDQyxPQUFuRDtBQUNELEdBTkQ7O0FBUUFiLFFBQU0sQ0FBQ1UsU0FBUCxDQUFpQkksS0FBakIsR0FBeUIsVUFBVUQsT0FBVixFQUFtQjtBQUMxQyxRQUFJLEtBQUtkLFFBQUwsSUFBaUIsQ0FBckIsRUFBd0I7QUFDdEJnQixhQUFPLENBQUNDLEdBQVIsQ0FBWSxLQUFLTCxpQkFBTCxDQUF1QixPQUF2QixFQUFnQ0UsT0FBaEMsQ0FBWjtBQUNEO0FBQ0YsR0FKRDs7QUFNQWIsUUFBTSxDQUFDVSxTQUFQLENBQWlCTyxLQUFqQixHQUF5QixVQUFVSixPQUFWLEVBQW1CO0FBQzFDLFFBQUksS0FBS2QsUUFBTCxJQUFpQixDQUFyQixFQUF3QjtBQUN0QmdCLGFBQU8sQ0FBQ0MsR0FBUixDQUFZLEtBQUtMLGlCQUFMLENBQXVCLE9BQXZCLEVBQWdDRSxPQUFoQyxDQUFaO0FBQ0Q7QUFDRixHQUpEOztBQU1BYixRQUFNLENBQUNVLFNBQVAsQ0FBaUJRLElBQWpCLEdBQXdCLFVBQVVMLE9BQVYsRUFBbUI7QUFDekMsUUFBSSxLQUFLZCxRQUFMLElBQWlCLENBQXJCLEVBQXdCO0FBQ3RCZ0IsYUFBTyxDQUFDQyxHQUFSLENBQVksS0FBS0wsaUJBQUwsQ0FBdUIsTUFBdkIsRUFBK0JFLE9BQS9CLENBQVo7QUFDRDtBQUNGLEdBSkQ7O0FBTUFiLFFBQU0sQ0FBQ1UsU0FBUCxDQUFpQlMsSUFBakIsR0FBd0IsVUFBVU4sT0FBVixFQUFtQjtBQUN6QyxRQUFJLEtBQUtkLFFBQUwsSUFBaUIsQ0FBckIsRUFBd0I7QUFDdEJnQixhQUFPLENBQUNJLElBQVIsQ0FBYSxLQUFLUixpQkFBTCxDQUF1QixNQUF2QixFQUErQkUsT0FBL0IsQ0FBYjtBQUNEO0FBQ0YsR0FKRDs7QUFNQWIsUUFBTSxDQUFDVSxTQUFQLENBQWlCVSxLQUFqQixHQUF5QixVQUFVUCxPQUFWLEVBQW1CO0FBQzFDRSxXQUFPLENBQUNLLEtBQVIsQ0FBYyxLQUFLVCxpQkFBTCxDQUF1QixPQUF2QixFQUFnQ0UsT0FBaEMsQ0FBZDtBQUNELEdBRkQ7O0FBSUEsU0FBT2IsTUFBUDtBQUNELEMiLCJmaWxlIjoiLi9zcmMvanMvdXRpbHMvbG9nZ2VyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG4vKiBlc2xpbnQgbm8tY29uc29sZTogb2ZmICovXG5cbi8qKlxuICogV2UgdXNlIHRoaXMgaW4gdGhlIHJvdXRlciBhcyB3ZWxsLCBzbyBrZWVwIGl0IGxpZ2h0IGFuZCBFUzUhXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKGxvZ0xldmVsKSB7XG4gIGZ1bmN0aW9uIExvZ2dlciAocHJlZml4KSB7XG4gICAgaWYgKGxvZ0xldmVsID09PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIFRoZSBsb2dMZXZlbCBtYXkgYmUgc2V0IGluIGxvY2Fsc3RvcmFnZVxuICAgICAgLy8gZS5nLiBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnc2t5bGluZS5jbHNwUGx1Z2luLmxvZ0xldmVsJywgMyksIHRoZW4gcmVmcmVzaFxuICAgICAgbG9nTGV2ZWwgPSBpc05hTihOdW1iZXIod2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdza3lsaW5lLmNsc3BQbHVnaW4ubG9nTGV2ZWwnKSkpID9cbiAgICAgICAgMSA6XG4gICAgICAgIE51bWJlcih3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3NreWxpbmUuY2xzcFBsdWdpbi5sb2dMZXZlbCcpKTtcblxuICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdza3lsaW5lLmNsc3BQbHVnaW4ubG9nTGV2ZWwnLCBsb2dMZXZlbCk7XG4gICAgfVxuXG4gICAgdGhpcy5sb2dMZXZlbCA9IGxvZ0xldmVsO1xuICAgIHRoaXMucHJlZml4ID0gcHJlZml4O1xuICB9XG5cbiAgTG9nZ2VyLmZhY3RvcnkgPSBmdW5jdGlvbiAocHJlZml4KSB7XG4gICAgcmV0dXJuIG5ldyBMb2dnZXIocHJlZml4IHx8ICcnKTtcbiAgfTtcblxuICBMb2dnZXIucHJvdG90eXBlLl9jb25zdHJ1Y3RNZXNzYWdlID0gZnVuY3Rpb24gKHR5cGUsIG1lc3NhZ2UpIHtcbiAgICBpZiAoIXRoaXMucHJlZml4KSB7XG4gICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5wcmVmaXggKyAnICgnICsgdHlwZSArICcpJyArICcgLS0+ICcgKyBtZXNzYWdlO1xuICB9O1xuXG4gIExvZ2dlci5wcm90b3R5cGUuc2lsbHkgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgIGlmICh0aGlzLmxvZ0xldmVsID49IDQpIHtcbiAgICAgIGNvbnNvbGUubG9nKHRoaXMuX2NvbnN0cnVjdE1lc3NhZ2UoJ3NpbGx5JywgbWVzc2FnZSkpO1xuICAgIH1cbiAgfTtcblxuICBMb2dnZXIucHJvdG90eXBlLmRlYnVnID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICBpZiAodGhpcy5sb2dMZXZlbCA+PSAzKSB7XG4gICAgICBjb25zb2xlLmxvZyh0aGlzLl9jb25zdHJ1Y3RNZXNzYWdlKCdkZWJ1ZycsIG1lc3NhZ2UpKTtcbiAgICB9XG4gIH07XG5cbiAgTG9nZ2VyLnByb3RvdHlwZS5pbmZvID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICBpZiAodGhpcy5sb2dMZXZlbCA+PSAyKSB7XG4gICAgICBjb25zb2xlLmxvZyh0aGlzLl9jb25zdHJ1Y3RNZXNzYWdlKCdpbmZvJywgbWVzc2FnZSkpO1xuICAgIH1cbiAgfTtcblxuICBMb2dnZXIucHJvdG90eXBlLndhcm4gPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgIGlmICh0aGlzLmxvZ0xldmVsID49IDEpIHtcbiAgICAgIGNvbnNvbGUud2Fybih0aGlzLl9jb25zdHJ1Y3RNZXNzYWdlKCd3YXJuJywgbWVzc2FnZSkpO1xuICAgIH1cbiAgfTtcblxuICBMb2dnZXIucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICBjb25zb2xlLmVycm9yKHRoaXMuX2NvbnN0cnVjdE1lc3NhZ2UoJ2Vycm9yJywgbWVzc2FnZSkpO1xuICB9O1xuXG4gIHJldHVybiBMb2dnZXI7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/utils/logger.js\n");

/***/ }),

/***/ "./src/js/utils/utils.js":
/*!*******************************!*\
  !*** ./src/js/utils/utils.js ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _package_json__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../package.json */ \"./package.json\");\nvar _package_json__WEBPACK_IMPORTED_MODULE_0___namespace = /*#__PURE__*/__webpack_require__.t(/*! ../../../package.json */ \"./package.json\", 1);\n/* harmony import */ var _utils_logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/logger */ \"./src/js/utils/logger.js\");\n\n\n\n\nvar PLUGIN_NAME = 'clsp';\nvar MINIMUM_CHROME_VERSION = 52; // @todo - this mime type, though used in the videojs plugin, and\n// seemingly enforced, is not actually enforced.  The only enforcement\n// done is requiring the user provide this string on the video element\n// in the DOM.  The codecs that are supplied by the SFS's vary.  Here\n// are some \"valid\", though not enforced mimeCodec values I have come\n// across:\n// video/mp4; codecs=\"avc1.4DE016\"\n// video/mp4; codecs=\"avc1.42E00C\"\n// video/mp4; codecs=\"avc1.42E00D\"\n\nvar SUPPORTED_MIME_TYPE = \"video/mp4; codecs='avc1.42E01E'\";\nvar logger = Object(_utils_logger__WEBPACK_IMPORTED_MODULE_1__[\"default\"])().factory();\n\nfunction browserIsCompatable() {\n  try {\n    mediaSourceExtensionsCheck();\n  } catch (error) {\n    logger.error(error);\n    return false;\n  } // We don't support Internet Explorer\n\n\n  var isInternetExplorer = navigator.userAgent.toLowerCase().indexOf('trident') > -1;\n\n  if (isInternetExplorer) {\n    logger.debug('Detected Internet Explorer browser');\n    return false;\n  } // We don't support Edge (yet)\n\n\n  var isEdge = navigator.userAgent.toLowerCase().indexOf('edge') > -1;\n\n  if (isEdge) {\n    logger.debug('Detected Edge browser');\n    return false;\n  } // We support a limited number of streams in Firefox\n  // no specific version of firefox required for now.\n\n\n  var isFirefox = navigator.userAgent.toLowerCase().indexOf('firefox') > -1;\n\n  if (isFirefox) {\n    logger.debug('Detected Firefox browser');\n    return true;\n  } // Most browsers have \"Chrome\" in their user agent.  The above filters rule\n  // out Internet Explorer and Edge, so we are going to assume that if we're at\n  // this point, we're really dealing with Chrome.\n\n\n  var isChrome = Boolean(window.chrome);\n\n  if (!isChrome) {\n    return false;\n  }\n\n  try {\n    // Rather than accounting for match returning null, we'll catch the error\n    var chromeVersion = parseInt(navigator.userAgent.match(/Chrom(e|ium)\\/([0-9]+)\\./)[2], 10);\n    logger.debug(\"Detected Chrome version \".concat(chromeVersion));\n    return chromeVersion >= MINIMUM_CHROME_VERSION;\n  } catch (error) {\n    logger.error(error);\n    return false;\n  }\n}\n\nfunction mediaSourceExtensionsCheck() {\n  // For the MAC\n  window.MediaSource = window.MediaSource || window.WebKitMediaSource;\n\n  if (!window.MediaSource) {\n    throw new Error('Media Source Extensions not supported in your browser: Claris Live Streaming will not work!');\n  }\n}\n\nfunction isSupportedMimeType(mimeType) {\n  return mimeType === SUPPORTED_MIME_TYPE;\n}\n\nfunction _getWindowStateNames() {\n  logger.debug('Determining Page_Visibility_API property names.'); // @see - https://developer.mozilla.org/en-US/docs/Web/API/Page_Visibility_API\n\n  if (typeof document.hidden !== 'undefined') {\n    logger.debug('Using standard Page_Visibility_API property names.');\n    return {\n      hiddenStateName: 'hidden',\n      visibilityChangeEventName: 'visibilitychange'\n    };\n  }\n\n  if (typeof document.msHidden !== 'undefined') {\n    logger.debug('Using Microsoft Page_Visibility_API property names.');\n    return {\n      hiddenStateName: 'msHidden',\n      visibilityChangeEventName: 'msvisibilitychange'\n    };\n  }\n\n  if (typeof document.webkitHidden !== 'undefined') {\n    logger.debug('Using Webkit Page_Visibility_API property names.');\n    return {\n      hiddenStateName: 'webkitHidden',\n      visibilityChangeEventName: 'webkitvisibilitychange'\n    };\n  }\n\n  logger.error('Unable to use the page visibility api - switching tabs and minimizing the page may result in slow downs and page crashes.');\n  return {\n    hiddenStateName: '',\n    visibilityChangeEventName: ''\n  };\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  version: _package_json__WEBPACK_IMPORTED_MODULE_0__[\"version\"],\n  name: PLUGIN_NAME,\n  supported: browserIsCompatable,\n  mediaSourceExtensionsCheck: mediaSourceExtensionsCheck,\n  isSupportedMimeType: isSupportedMimeType,\n  windowStateNames: _getWindowStateNames()\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvdXRpbHMvdXRpbHMuanM/NjA5NSJdLCJuYW1lcyI6WyJQTFVHSU5fTkFNRSIsIk1JTklNVU1fQ0hST01FX1ZFUlNJT04iLCJTVVBQT1JURURfTUlNRV9UWVBFIiwibG9nZ2VyIiwiTG9nZ2VyIiwiZmFjdG9yeSIsImJyb3dzZXJJc0NvbXBhdGFibGUiLCJtZWRpYVNvdXJjZUV4dGVuc2lvbnNDaGVjayIsImVycm9yIiwiaXNJbnRlcm5ldEV4cGxvcmVyIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwidG9Mb3dlckNhc2UiLCJpbmRleE9mIiwiZGVidWciLCJpc0VkZ2UiLCJpc0ZpcmVmb3giLCJpc0Nocm9tZSIsIkJvb2xlYW4iLCJ3aW5kb3ciLCJjaHJvbWUiLCJjaHJvbWVWZXJzaW9uIiwicGFyc2VJbnQiLCJtYXRjaCIsIk1lZGlhU291cmNlIiwiV2ViS2l0TWVkaWFTb3VyY2UiLCJFcnJvciIsImlzU3VwcG9ydGVkTWltZVR5cGUiLCJtaW1lVHlwZSIsIl9nZXRXaW5kb3dTdGF0ZU5hbWVzIiwiZG9jdW1lbnQiLCJoaWRkZW4iLCJoaWRkZW5TdGF0ZU5hbWUiLCJ2aXNpYmlsaXR5Q2hhbmdlRXZlbnROYW1lIiwibXNIaWRkZW4iLCJ3ZWJraXRIaWRkZW4iLCJ2ZXJzaW9uIiwibmFtZSIsInN1cHBvcnRlZCIsIndpbmRvd1N0YXRlTmFtZXMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQWE7O0FBRWI7QUFHQTtBQUVBLElBQU1BLFdBQVcsR0FBRyxNQUFwQjtBQUNBLElBQU1DLHNCQUFzQixHQUFHLEVBQS9CLEMsQ0FFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0EsSUFBTUMsbUJBQW1CLEdBQUcsaUNBQTVCO0FBRUEsSUFBTUMsTUFBTSxHQUFHQyw2REFBTSxHQUFHQyxPQUFULEVBQWY7O0FBRUEsU0FBU0MsbUJBQVQsR0FBZ0M7QUFDOUIsTUFBSTtBQUNG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TztBQUNMa0IscUJBQWUsRUFBRSxjQURaO0FBRUxDLCtCQUF5QixFQUFFO0FBRnRCLEtBQVA7QUFJRDs7QUFFRDlCLFFBQU0sQ0FBQ0ssS0FBUCxDQUFhLDJIQUFiO0FBRUEsU0FBTztBQUNMd0IsbUJBQWUsRUFBRSxFQURaO0FBRUxDLDZCQUF5QixFQUFFO0FBRnRCLEdBQVA7QUFJRDs7QUFFYztBQUNiRyxTQUFPLEVBQVBBLHFEQURhO0FBRWJDLE1BQUksRUFBRXJDLFdBRk87QUFHYnNDLFdBQVMsRUFBRWhDLG1CQUhFO0FBSWJDLDRCQUEwQixFQUExQkEsMEJBSmE7QUFLYm9CLHFCQUFtQixFQUFuQkEsbUJBTGE7QUFNYlksa0JBQWdCLEVBQUVWLG9CQUFvQjtBQU56QixDQUFmIiwiZmlsZSI6Ii4vc3JjL2pzL3V0aWxzL3V0aWxzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQge1xuICB2ZXJzaW9uLFxufSBmcm9tICcuLi8uLi8uLi9wYWNrYWdlLmpzb24nO1xuaW1wb3J0IExvZ2dlciBmcm9tICcuLi91dGlscy9sb2dnZXInO1xuXG5jb25zdCBQTFVHSU5fTkFNRSA9ICdjbHNwJztcbmNvbnN0IE1JTklNVU1fQ0hST01FX1ZFUlNJT04gPSA1MjtcblxuLy8gQHRvZG8gLSB0aGlzIG1pbWUgdHlwZSwgdGhvdWdoIHVzZWQgaW4gdGhlIHZpZGVvanMgcGx1Z2luLCBhbmRcbi8vIHNlZW1pbmdseSBlbmZvcmNlZCwgaXMgbm90IGFjdHVhbGx5IGVuZm9yY2VkLiAgVGhlIG9ubHkgZW5mb3JjZW1lbnRcbi8vIGRvbmUgaXMgcmVxdWlyaW5nIHRoZSB1c2VyIHByb3ZpZGUgdGhpcyBzdHJpbmcgb24gdGhlIHZpZGVvIGVsZW1lbnRcbi8vIGluIHRoZSBET00uICBUaGUgY29kZWNzIHRoYXQgYXJlIHN1cHBsaWVkIGJ5IHRoZSBTRlMncyB2YXJ5LiAgSGVyZVxuLy8gYXJlIHNvbWUgXCJ2YWxpZFwiLCB0aG91Z2ggbm90IGVuZm9yY2VkIG1pbWVDb2RlYyB2YWx1ZXMgSSBoYXZlIGNvbWVcbi8vIGFjcm9zczpcbi8vIHZpZGVvL21wNDsgY29kZWNzPVwiYXZjMS40REUwMTZcIlxuLy8gdmlkZW8vbXA0OyBjb2RlY3M9XCJhdmMxLjQyRTAwQ1wiXG4vLyB2aWRlby9tcDQ7IGNvZGVjcz1cImF2YzEuNDJFMDBEXCJcbmNvbnN0IFNVUFBPUlRFRF9NSU1FX1RZUEUgPSBcInZpZGVvL21wNDsgY29kZWNzPSdhdmMxLjQyRTAxRSdcIjtcblxuY29uc3QgbG9nZ2VyID0gTG9nZ2VyKCkuZmFjdG9yeSgpO1xuXG5mdW5jdGlvbiBicm93c2VySXNDb21wYXRhYmxlICgpIHtcbiAgdHJ5IHtcbiAgICBtZWRpYVNvdXJjZUV4dGVuc2lvbnNDaGVjaygpO1xuICB9XG4gIGNhdGNoIChlcnJvcikge1xuICAgIGxvZ2dlci5lcnJvcihlcnJvcik7XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyBXZSBkb24ndCBzdXBwb3J0IEludGVybmV0IEV4cGxvcmVyXG4gIGNvbnN0IGlzSW50ZXJuZXRFeHBsb3JlciA9IG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKCd0cmlkZW50JykgPiAtMTtcblxuICBpZiAoaXNJbnRlcm5ldEV4cGxvcmVyKSB7XG4gICAgbG9nZ2VyLmRlYnVnKCdEZXRlY3RlZCBJbnRlcm5ldCBFeHBsb3JlciBicm93c2VyJyk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gV2UgZG9uJ3Qgc3VwcG9ydCBFZGdlICh5ZXQpXG4gIGNvbnN0IGlzRWRnZSA9IG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKCdlZGdlJykgPiAtMTtcblxuICBpZiAoaXNFZGdlKSB7XG4gICAgbG9nZ2VyLmRlYnVnKCdEZXRlY3RlZCBFZGdlIGJyb3dzZXInKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyBXZSBzdXBwb3J0IGEgbGltaXRlZCBudW1iZXIgb2Ygc3RyZWFtcyBpbiBGaXJlZm94XG4gIC8vIG5vIHNwZWNpZmljIHZlcnNpb24gb2YgZmlyZWZveCByZXF1aXJlZCBmb3Igbm93LlxuICBjb25zdCBpc0ZpcmVmb3ggPSBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZignZmlyZWZveCcpID4gLTE7XG5cbiAgaWYgKGlzRmlyZWZveCkge1xuICAgIGxvZ2dlci5kZWJ1ZygnRGV0ZWN0ZWQgRmlyZWZveCBicm93c2VyJyk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBNb3N0IGJyb3dzZXJzIGhhdmUgXCJDaHJvbWVcIiBpbiB0aGVpciB1c2VyIGFnZW50LiAgVGhlIGFib3ZlIGZpbHRlcnMgcnVsZVxuICAvLyBvdXQgSW50ZXJuZXQgRXhwbG9yZXIgYW5kIEVkZ2UsIHNvIHdlIGFyZSBnb2luZyB0byBhc3N1bWUgdGhhdCBpZiB3ZSdyZSBhdFxuICAvLyB0aGlzIHBvaW50LCB3ZSdyZSByZWFsbHkgZGVhbGluZyB3aXRoIENocm9tZS5cbiAgY29uc3QgaXNDaHJvbWUgPSBCb29sZWFuKHdpbmRvdy5jaHJvbWUpO1xuXG4gIGlmICghaXNDaHJvbWUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB0cnkge1xuICAgIC8vIFJhdGhlciB0aGFuIGFjY291bnRpbmcgZm9yIG1hdGNoIHJldHVybmluZyBudWxsLCB3ZSdsbCBjYXRjaCB0aGUgZXJyb3JcbiAgICBjb25zdCBjaHJvbWVWZXJzaW9uID0gcGFyc2VJbnQobmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvQ2hyb20oZXxpdW0pXFwvKFswLTldKylcXC4vKVsyXSwgMTApO1xuXG4gICAgbG9nZ2VyLmRlYnVnKGBEZXRlY3RlZCBDaHJvbWUgdmVyc2lvbiAke2Nocm9tZVZlcnNpb259YCk7XG5cbiAgICByZXR1cm4gY2hyb21lVmVyc2lvbiA+PSBNSU5JTVVNX0NIUk9NRV9WRVJTSU9OO1xuICB9XG4gIGNhdGNoIChlcnJvcikge1xuICAgIGxvZ2dlci5lcnJvcihlcnJvcik7XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZnVuY3Rpb24gbWVkaWFTb3VyY2VFeHRlbnNpb25zQ2hlY2sgKCkge1xuICAvLyBGb3IgdGhlIE1BQ1xuICB3aW5kb3cuTWVkaWFTb3VyY2UgPSB3aW5kb3cuTWVkaWFTb3VyY2UgfHwgd2luZG93LldlYktpdE1lZGlhU291cmNlO1xuXG4gIGlmICghd2luZG93Lk1lZGlhU291cmNlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdNZWRpYSBTb3VyY2UgRXh0ZW5zaW9ucyBub3Qgc3VwcG9ydGVkIGluIHlvdXIgYnJvd3NlcjogQ2xhcmlzIExpdmUgU3RyZWFtaW5nIHdpbGwgbm90IHdvcmshJyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNTdXBwb3J0ZWRNaW1lVHlwZSAobWltZVR5cGUpIHtcbiAgcmV0dXJuIG1pbWVUeXBlID09PSBTVVBQT1JURURfTUlNRV9UWVBFO1xufVxuXG5mdW5jdGlvbiBfZ2V0V2luZG93U3RhdGVOYW1lcyAoKSB7XG4gIGxvZ2dlci5kZWJ1ZygnRGV0ZXJtaW5pbmcgUGFnZV9WaXNpYmlsaXR5X0FQSSBwcm9wZXJ0eSBuYW1lcy4nKTtcblxuICAvLyBAc2VlIC0gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BhZ2VfVmlzaWJpbGl0eV9BUElcbiAgaWYgKHR5cGVvZiBkb2N1bWVudC5oaWRkZW4gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgbG9nZ2VyLmRlYnVnKCdVc2luZyBzdGFuZGFyZCBQYWdlX1Zpc2liaWxpdHlfQVBJIHByb3BlcnR5IG5hbWVzLicpO1xuICAgIHJldHVybiB7XG4gICAgICBoaWRkZW5TdGF0ZU5hbWU6ICdoaWRkZW4nLFxuICAgICAgdmlzaWJpbGl0eUNoYW5nZUV2ZW50TmFtZTogJ3Zpc2liaWxpdHljaGFuZ2UnLFxuICAgIH07XG4gIH1cblxuICBpZiAodHlwZW9mIGRvY3VtZW50Lm1zSGlkZGVuICE9PSAndW5kZWZpbmVkJykge1xuICAgIGxvZ2dlci5kZWJ1ZygnVXNpbmcgTWljcm9zb2Z0IFBhZ2VfVmlzaWJpbGl0eV9BUEkgcHJvcGVydHkgbmFtZXMuJyk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGhpZGRlblN0YXRlTmFtZTogJ21zSGlkZGVuJyxcbiAgICAgIHZpc2liaWxpdHlDaGFuZ2VFdmVudE5hbWU6ICdtc3Zpc2liaWxpdHljaGFuZ2UnLFxuICAgIH07XG4gIH1cblxuICBpZiAodHlwZW9mIGRvY3VtZW50LndlYmtpdEhpZGRlbiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBsb2dnZXIuZGVidWcoJ1VzaW5nIFdlYmtpdCBQYWdlX1Zpc2liaWxpdHlfQVBJIHByb3BlcnR5IG5hbWVzLicpO1xuICAgIHJldHVybiB7XG4gICAgICBoaWRkZW5TdGF0ZU5hbWU6ICd3ZWJraXRIaWRkZW4nLFxuICAgICAgdmlzaWJpbGl0eUNoYW5nZUV2ZW50TmFtZTogJ3dlYmtpdHZpc2liaWxpdHljaGFuZ2UnLFxuICAgIH07XG4gIH1cblxuICBsb2dnZXIuZXJyb3IoJ1VuYWJsZSB0byB1c2UgdGhlIHBhZ2UgdmlzaWJpbGl0eSBhcGkgLSBzd2l0Y2hpbmcgdGFicyBhbmQgbWluaW1pemluZyB0aGUgcGFnZSBtYXkgcmVzdWx0IGluIHNsb3cgZG93bnMgYW5kIHBhZ2UgY3Jhc2hlcy4nKTtcblxuICByZXR1cm4ge1xuICAgIGhpZGRlblN0YXRlTmFtZTogJycsXG4gICAgdmlzaWJpbGl0eUNoYW5nZUV2ZW50TmFtZTogJycsXG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgdmVyc2lvbixcbiAgbmFtZTogUExVR0lOX05BTUUsXG4gIHN1cHBvcnRlZDogYnJvd3NlcklzQ29tcGF0YWJsZSxcbiAgbWVkaWFTb3VyY2VFeHRlbnNpb25zQ2hlY2ssXG4gIGlzU3VwcG9ydGVkTWltZVR5cGUsXG4gIHdpbmRvd1N0YXRlTmFtZXM6IF9nZXRXaW5kb3dTdGF0ZU5hbWVzKCksXG59O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/utils/utils.js\n");

/***/ }),

/***/ "./src/js/video-js-plugin/MqttHandler.js":
/*!***********************************************!*\
  !*** ./src/js/video-js-plugin/MqttHandler.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return MqttHandler; });\n/* harmony import */ var video_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! video.js */ \"video.js\");\n/* harmony import */ var video_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(video_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var uuid_v4__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! uuid/v4 */ \"./node_modules/uuid/v4.js\");\n/* harmony import */ var uuid_v4__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uuid_v4__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _iov_IovCollection__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../iov/IovCollection */ \"./src/js/iov/IovCollection.js\");\n/* harmony import */ var _utils_logger__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/logger */ \"./src/js/utils/logger.js\");\n // This is configured as an external library by webpack, so the caller must\n// provide videojs on `window`\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\nvar Component = video_js__WEBPACK_IMPORTED_MODULE_0___default.a.getComponent('Component');\nvar DEFAULT_CHANGE_SOURCE_MAX_WAIT = 5000;\n\nvar MqttHandler =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(MqttHandler, _Component);\n\n  function MqttHandler(source, tech, options) {\n    var _this;\n\n    _classCallCheck(this, MqttHandler);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MqttHandler).call(this, tech, options.mqtt));\n\n    _defineProperty(_assertThisInitialized(_this), \"onChangeSource\", function (event, _ref) {\n      var url = _ref.url;\n\n      _this.logger.debug(\"changeSource on player \\\"\".concat(_this.id, \"\\\"\\\"\"));\n\n      if (!url) {\n        throw new Error('Unable to change source because there is no url!');\n      }\n\n      var clone = _this.iov.clone(url);\n\n      clone.initialize(); // When the tab is not in focus, chrome doesn't handle things the same\n      // way as when the tab is in focus, and it seems that the result of that\n      // is that the \"firstFrameShown\" event never fires.  Having the Iov be\n      // updated on a delay in case the \"firstFrameShown\" takes too long will\n      // ensure that the old Iovs are destroyed, ensuring that unnecessary\n      // socket connections, etc. are not being used, as this can cause the\n      // browser to crash.\n      // Note that if there is a better way to do this, it would likely reduce\n      // the number of try/catch blocks and null checks in the IovPlayer and\n      // MSEWrapper, but I don't think that is likely to happen until the MSE\n      // is standardized, and even then, we may be subject to non-intuitive\n      // behavior based on tab switching, etc.\n\n      setTimeout(function () {\n        _this.updateIov(clone);\n      }, _this.changeSourceMaxWait); // Under normal circumstances, meaning when the tab is in focus, we want\n      // to respond by switching the Iov when the new Iov Player has something\n      // to display\n\n      clone.player.on('firstFrameShown', function () {\n        _this.updateIov(clone);\n      });\n    });\n\n    _this.logger = Object(_utils_logger__WEBPACK_IMPORTED_MODULE_3__[\"default\"])().factory('MqttHandler');\n\n    _this.logger.debug('constructor');\n\n    _this.tech_ = tech;\n    _this.source_ = source; // @todo - is there a better way to do this where we don't pollute the\n    // top level namespace?\n\n    _this.changeSourceMaxWait = options.changeSourceMaxWait || DEFAULT_CHANGE_SOURCE_MAX_WAIT;\n    _this.iov = null;\n    _this.player = null;\n    return _this;\n  }\n\n  _createClass(MqttHandler, [{\n    key: \"createIov\",\n    value: function () {\n      var _createIov = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee(player) {\n        var _this2 = this;\n\n        var videoId, videoJsVideoElement, videoElementParent, videoElement, iov;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.logger.debug('createIov');\n                this.player = player;\n                videoId = \"clsp-video-\".concat(uuid_v4__WEBPACK_IMPORTED_MODULE_1___default()());\n                videoJsVideoElement = this.player.el().firstChild;\n                videoElementParent = videoJsVideoElement.parentNode; // when videojs initializes the video element (or something like that),\n                // it creates events and listeners on that element that it uses, however\n                // these events interfere with our ability to play clsp streams.  Cloning\n                // the element like this and reinserting it is a blunt instrument to remove\n                // all of the videojs events so that we are in control of the player.\n\n                videoElement = videoJsVideoElement.cloneNode();\n                videoElement.setAttribute('id', videoId);\n                videoElementParent.insertBefore(videoElement, videoJsVideoElement);\n                _context.next = 10;\n                return _iov_IovCollection__WEBPACK_IMPORTED_MODULE_2__[\"default\"].asSingleton().create(videoId, this.source_.src);\n\n              case 10:\n                iov = _context.sent;\n                this.player.on('ready', function () {\n                  if (_this2.onReadyAlreadyCalled) {\n                    _this2.logger.warn('tried to use this player more than once...');\n\n                    return;\n                  }\n\n                  _this2.onReadyAlreadyCalled = true;\n\n                  var videoTag = _this2.player.children()[0]; // @todo - there must be a better way to determine autoplay...\n\n\n                  if (videoTag.getAttribute('autoplay') !== null) {\n                    // playButton.trigger('click');\n                    _this2.player.trigger('play', videoTag);\n                  }\n\n                  iov.on('firstFrameShown', function () {\n                    _this2.player.trigger('firstFrameShown');\n\n                    videoTag.style.display = 'none';\n                  });\n                  iov.on('videoReceived', function () {\n                    // reset the timeout monitor from videojs-errors\n                    _this2.player.trigger('timeupdate');\n                  });\n                  iov.on('videoInfoReceived', function () {\n                    // reset the timeout monitor from videojs-errors\n                    _this2.player.trigger('timeupdate');\n                  });\n\n                  _this2.player.on('changesrc', _this2.onChangeSource);\n                });\n                this.updateIov(iov); // this.iov.on('unsupportedMimeCodec', (error) => {\n                //   this.videoPlayer.errors.extend({\n                //     PLAYER_ERR_Iov: {\n                //       headline: 'Error Playing Stream',\n                //       message: error,\n                //     },\n                //   });\n                //   this.videoPlayer.error({\n                //     code: 'PLAYER_ERR_Iov',\n                //   });\n                // });\n\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function createIov(_x) {\n        return _createIov.apply(this, arguments);\n      }\n\n      return createIov;\n    }()\n  }, {\n    key: \"updateIov\",\n    value: function updateIov(iov) {\n      this.logger.debug('updateIov');\n\n      if (this.iov) {\n        // If the Iov is the same, do nothing\n        if (this.iov.id === iov.id) {\n          return;\n        }\n\n        _iov_IovCollection__WEBPACK_IMPORTED_MODULE_2__[\"default\"].asSingleton().remove(this.iov.id).add(iov.id, iov);\n      }\n\n      this.iov = iov;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.logger.debug('destroy');\n\n      if (this.destroyed) {\n        return;\n      }\n\n      this.destroyed = true;\n\n      if (this.onReadyAlreadyCalled) {\n        this.player.off('changesrc', this.onChangeSource);\n      }\n\n      _iov_IovCollection__WEBPACK_IMPORTED_MODULE_2__[\"default\"].asSingleton().remove(this.iov.id);\n      this.iov = null;\n      this.player = null;\n    }\n  }]);\n\n  return MqttHandler;\n}(Component);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvdmlkZW8tanMtcGx1Z2luL01xdHRIYW5kbGVyLmpzP2I1YzIiXSwibmFtZXMiOlsiQ29tcG9uZW50IiwidmlkZW9qcyIsImdldENvbXBvbmVudCIsIkRFRkFVTFRfQ0hBTkdFX1NPVVJDRV9NQVhfV0FJVCIsIk1xdHRIYW5kbGVyIiwic291cmNlIiwidGVjaCIsIm9wdGlvbnMiLCJtcXR0IiwiZXZlbnQiLCJ1cmwiLCJsb2dnZXIiLCJkZWJ1ZyIsImlkIiwiRXJyb3IiLCJjbG9uZSIsImlvdiIsImluaXRpYWxpemUiLCJzZXRUaW1lb3V0IiwidXBkYXRlSW92IiwiY2hhbmdlU291cmNlTWF4V2FpdCIsInBsYXllciIsIm9uIiwiTG9nZ2VyIiwiZmFjdG9yeSIsInRlY2hfIiwic291cmNlXyIsInZpZGVvSWQiLCJ1dWlkdjQiLCJ2aWRlb0pzVmlkZW9FbGVtZW50IiwiZWwiLCJmaXJzdENoaWxkIiwidmlkZW9FbGVtZW50UGFyZW50IiwicGFyZW50Tm9kZSIsInZpZGVvRWxlbWVudCIsImNsb25lTm9kZSIsInNldEF0dHJpYnV0ZSIsImluc2VydEJlZm9yZSIsIklvdkNvbGxlY3Rpb24iLCJhc1NpbmdsZXRvbiIsImNyZWF0ZSIsInNyYyIsIm9uUmVhZHlBbHJlYWR5Q2FsbGVkIiwid2FybiIsInZpZGVvVGFnIiwiY2hpbGRyZW4iLCJnZXRBdHRyaWJ1dGUiLCJ0cmlnZ2VyIiwic3R5bGUiLCJkaXNwbGF5Iiwib25DaGFuZ2VTb3VyY2UiLCJyZW1vdmUiLCJhZGQiLCJkZXN0cm95ZWQiLCJvZmYiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Q0FFQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBLElBQU1BLFNBQVMsR0FBR0MsK0NBQU8sQ0FBQ0MsWUFBUixDQUFxQixXQUFyQixDQUFsQjtBQUVBLElBQU1DLDhCQUE4QixHQUFHLElBQXZDOztJQUVxQkMsVzs7Ozs7QUFDbkIsdUJBQ0VDLE1BREYsRUFFRUMsSUFGRixFQUdFQyxPQUhGLEVBSUU7QUFBQTs7QUFBQTs7QUFDQSxxRkFBTUQsSUFBTixFQUFZQyxPQUFPLENBQUNDLElBQXBCOztBQURBLHFFQWlCZSxVQUFDQyxLQUFELFFBQW9CO0FBQUEsVUFBVkMsR0FBVSxRQUFWQSxHQUFVOztBQUNuQyxZQUFLQyxNQUFMLENBQVlDLEtBQVosb0NBQTZDLE1BQUtDLEVBQWxEOztBQUVBLFVBQUksQ0FBQ0gsR0FBTCxFQUFVO0FBQ1IsY0FBTSxJQUFJSSxLQUFKLENBQVUsa0RBQVYsQ0FBTjtBQUNEOztBQUVELFVBQU1DLEtBQUssR0FBRyxNQUFLQyxHQUFMLENBQVNELEtBQVQsQ0FBZUwsR0FBZixDQUFkOztBQUVBSyxXQUFLLENBQUNFLFVBQU4sR0FUbUMsQ0FXbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBQyxnQkFBVSxDQUFDLFlBQU07QUFDZixjQUFLQyxTQUFMLENBQWVKLEtBQWY7QUFDRCxPQUZTLEVBRVAsTUFBS0ssbUJBRkUsQ0FBVixDQXZCbUMsQ0EyQm5DO0FBQ0E7QUFDQTs7QUFDQUwsV0FBSyxDQUFDTSxNQUFOLENBQWFDLEVBQWIsQ0FBZ0IsaUJBQWhCLEVBQW1DLFlBQU07QUFDdkMsY0FBS0gsU0FBTCxDQUFlSixLQUFmO0FBQ0QsT0FGRDtBQUdELEtBbERDOztBQUdBLFVBQUtKLE1BQUwsR0FBY1ksNkRBQU0sR0FBR0MsT0FBVCxDQUFpQixhQUFqQixDQUFkOztBQUVBLFVBQUtiLE1BQUwsQ0FBWUMsS0FBWixDQUFrQixhQUFsQjs7QUFFQSxVQUFLYSxLQUFMLEdBQWFuQixJQUFiO0FBQ0EsVUFBS29CLE9BQUwsR0FBZXJCLE1BQWYsQ0FSQSxDQVVBO0FBQ0E7O0FBQ0EsVUFBS2UsbUJBQUwsR0FBMkJiLE9BQU8sQ0FBQ2EsbUJBQVIsSUFBK0JqQiw4QkFBMUQ7QUFDQSxVQUFLYSxHQUFMLEdBQVcsSUFBWDtBQUNBLFVBQUtLLE1BQUwsR0FBYyxJQUFkO0FBZEE7QUFlRDs7Ozs7OzsrQ0FxQ2dCQSxNOzs7Ozs7OztBQUNmLHFCQUFLVixNQUFMLENBQVlDLEtBQVosQ0FBa0IsV0FBbEI7QUFFQSxxQkFBS1MsTUFBTCxHQUFjQSxNQUFkO0FBRU1NLHVCLHdCQUF3QkMsOENBQU0sRTtBQUM5QkMsbUMsR0FBc0IsS0FBS1IsTUFBTCxDQUFZUyxFQUFaLEdBQWlCQyxVO0FBQ3ZDQyxrQyxHQUFxQkgsbUJBQW1CLENBQUNJLFUsRUFFL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDTUMsNEIsR0FBZUwsbUJBQW1CLENBQUNNLFNBQXBCLEU7QUFDckJELDRCQUFZLENBQUNFLFlBQWIsQ0FBMEIsSUFBMUIsRUFBZ0NULE9BQWhDO0FBRUFLLGtDQUFrQixDQUFDSyxZQUFuQixDQUFnQ0gsWUFBaEMsRUFBOENMLG1CQUE5Qzs7dUJBRWtCUywwREFBYSxDQUFDQyxXQUFkLEdBQTRCQyxNQUE1QixDQUFtQ2IsT0FBbkMsRUFBNEMsS0FBS0QsT0FBTCxDQUFhZSxHQUF6RCxDOzs7QUFBWnpCLG1CO0FBRU4scUJBQUtLLE1BQUwsQ0FBWUMsRUFBWixDQUFlLE9BQWYsRUFBd0IsWUFBTTtBQUM1QixzQkFBSSxNQUFJLENBQUNvQixvQkFBVCxFQUErQjtBQUM3QiwwQkFBSSxDQUFDL0IsTUFBTCxDQUFZZ0MsSUFBWixDQUFpQiw0Q0FBakI7O0FBQ0E7QUFDRDs7QUFFRCx3QkFBSSxDQUFDRCxvQkFBTCxHQUE0QixJQUE1Qjs7QUFFQSxzQkFBTUUsUUFBUSxHQUFHLE1BQUksQ0FBQ3ZCLE1BQUwsQ0FBWXdCLFFBQVosR0FBdUIsQ0FBdkIsQ0FBakIsQ0FSNEIsQ0FVNUI7OztBQUNBLHNCQUFJRCxRQUFRLENBQUNFLFlBQVQsQ0FBc0IsVUFBdEIsTUFBc0MsSUFBMUMsRUFBZ0Q7QUFDOUM7QUFDQSwwQkFBSSxDQUFDekIsTUFBTCxDQUFZMEIsT0FBWixDQUFvQixNQUFwQixFQUE0QkgsUUFBNUI7QUFDRDs7QUFFRDVCLHFCQUFHLENBQUNNLEVBQUosQ0FBTyxpQkFBUCxFQUEwQixZQUFNO0FBQzlCLDBCQUFJLENBQUNELE1BQUwsQ0FBWTBCLE9BQVosQ0FBb0IsaUJBQXBCOztBQUVBSCw0QkFBUSxDQUFDSSxLQUFULENBQWVDLE9BQWYsR0FBeUIsTUFBekI7QUFDRCxtQkFKRDtBQU1BakMscUJBQUcsQ0FBQ00sRUFBSixDQUFPLGVBQVAsRUFBd0IsWUFBTTtBQUM1QjtBQUNBLDBCQUFJLENBQUNELE1BQUwsQ0FBWTBCLE9BQVosQ0FBb0IsWUFBcEI7QUFDRCxtQkFIRDtBQUtBL0IscUJBQUcsQ0FBQ00sRUFBSixDQUFPLG1CQUFQLEVBQTRCLFlBQU07QUFDaEM7QUFDQSwwQkFBSSxDQUFDRCxNQUFMLENBQVkwQixPQUFaLENBQW9CLFlBQXBCO0FBQ0QsbUJBSEQ7O0FBS0Esd0JBQUksQ0FBQzFCLE1BQUwsQ0FBWUMsRUFBWixDQUFlLFdBQWYsRUFBNEIsTUFBSSxDQUFDNEIsY0FBakM7QUFDRCxpQkFqQ0Q7QUFtQ0EscUJBQUsvQixTQUFMLENBQWVILEdBQWYsRSxDQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs4QkFHU0EsRyxFQUFLO0FBQ2QsV0FBS0wsTUFBTCxDQUFZQyxLQUFaLENBQWtCLFdBQWxCOztBQUVBLFVBQUksS0FBS0ksR0FBVCxFQUFjO0FBQ1o7QUFDQSxZQUFJLEtBQUtBLEdBQUwsQ0FBU0gsRUFBVCxLQUFnQkcsR0FBRyxDQUFDSCxFQUF4QixFQUE0QjtBQUMxQjtBQUNEOztBQUVEeUIsa0VBQWEsQ0FBQ0MsV0FBZCxHQUNHWSxNQURILENBQ1UsS0FBS25DLEdBQUwsQ0FBU0gsRUFEbkIsRUFFR3VDLEdBRkgsQ0FFT3BDLEdBQUcsQ0FBQ0gsRUFGWCxFQUVlRyxHQUZmO0FBR0Q7O0FBRUQsV0FBS0EsR0FBTCxHQUFXQSxHQUFYO0FBQ0Q7Ozs4QkFFVTtBQUNULFdBQUtMLE1BQUwsQ0FBWUMsS0FBWixDQUFrQixTQUFsQjs7QUFFQSxVQUFJLEtBQUt5QyxTQUFULEVBQW9CO0FBQ2xCO0FBQ0Q7O0FBRUQsV0FBS0EsU0FBTCxHQUFpQixJQUFqQjs7QUFFQSxVQUFJLEtBQUtYLG9CQUFULEVBQStCO0FBQzdCLGFBQUtyQixNQUFMLENBQVlpQyxHQUFaLENBQWdCLFdBQWhCLEVBQTZCLEtBQUtKLGNBQWxDO0FBQ0Q7O0FBRURaLGdFQUFhLENBQUNDLFdBQWQsR0FBNEJZLE1BQTVCLENBQW1DLEtBQUtuQyxHQUFMLENBQVNILEVBQTVDO0FBRUEsV0FBS0csR0FBTCxHQUFXLElBQVg7QUFDQSxXQUFLSyxNQUFMLEdBQWMsSUFBZDtBQUNEOzs7O0VBbktzQ3JCLFMiLCJmaWxlIjoiLi9zcmMvanMvdmlkZW8tanMtcGx1Z2luL01xdHRIYW5kbGVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG4vLyBUaGlzIGlzIGNvbmZpZ3VyZWQgYXMgYW4gZXh0ZXJuYWwgbGlicmFyeSBieSB3ZWJwYWNrLCBzbyB0aGUgY2FsbGVyIG11c3Rcbi8vIHByb3ZpZGUgdmlkZW9qcyBvbiBgd2luZG93YFxuaW1wb3J0IHZpZGVvanMgZnJvbSAndmlkZW8uanMnO1xuaW1wb3J0IHV1aWR2NCBmcm9tICd1dWlkL3Y0JztcblxuaW1wb3J0IElvdkNvbGxlY3Rpb24gZnJvbSAnLi4vaW92L0lvdkNvbGxlY3Rpb24nO1xuaW1wb3J0IExvZ2dlciBmcm9tICcuLi91dGlscy9sb2dnZXInO1xuXG5jb25zdCBDb21wb25lbnQgPSB2aWRlb2pzLmdldENvbXBvbmVudCgnQ29tcG9uZW50Jyk7XG5cbmNvbnN0IERFRkFVTFRfQ0hBTkdFX1NPVVJDRV9NQVhfV0FJVCA9IDUwMDA7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1xdHRIYW5kbGVyIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IgKFxuICAgIHNvdXJjZSxcbiAgICB0ZWNoLFxuICAgIG9wdGlvbnNcbiAgKSB7XG4gICAgc3VwZXIodGVjaCwgb3B0aW9ucy5tcXR0KTtcblxuICAgIHRoaXMubG9nZ2VyID0gTG9nZ2VyKCkuZmFjdG9yeSgnTXF0dEhhbmRsZXInKTtcblxuICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdjb25zdHJ1Y3RvcicpO1xuXG4gICAgdGhpcy50ZWNoXyA9IHRlY2g7XG4gICAgdGhpcy5zb3VyY2VfID0gc291cmNlO1xuXG4gICAgLy8gQHRvZG8gLSBpcyB0aGVyZSBhIGJldHRlciB3YXkgdG8gZG8gdGhpcyB3aGVyZSB3ZSBkb24ndCBwb2xsdXRlIHRoZVxuICAgIC8vIHRvcCBsZXZlbCBuYW1lc3BhY2U/XG4gICAgdGhpcy5jaGFuZ2VTb3VyY2VNYXhXYWl0ID0gb3B0aW9ucy5jaGFuZ2VTb3VyY2VNYXhXYWl0IHx8IERFRkFVTFRfQ0hBTkdFX1NPVVJDRV9NQVhfV0FJVDtcbiAgICB0aGlzLmlvdiA9IG51bGw7XG4gICAgdGhpcy5wbGF5ZXIgPSBudWxsO1xuICB9XG5cbiAgb25DaGFuZ2VTb3VyY2UgPSAoZXZlbnQsIHsgdXJsIH0pID0+IHtcbiAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhgY2hhbmdlU291cmNlIG9uIHBsYXllciBcIiR7dGhpcy5pZH1cIlwiYCk7XG5cbiAgICBpZiAoIXVybCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gY2hhbmdlIHNvdXJjZSBiZWNhdXNlIHRoZXJlIGlzIG5vIHVybCEnKTtcbiAgICB9XG5cbiAgICBjb25zdCBjbG9uZSA9IHRoaXMuaW92LmNsb25lKHVybCk7XG5cbiAgICBjbG9uZS5pbml0aWFsaXplKCk7XG5cbiAgICAvLyBXaGVuIHRoZSB0YWIgaXMgbm90IGluIGZvY3VzLCBjaHJvbWUgZG9lc24ndCBoYW5kbGUgdGhpbmdzIHRoZSBzYW1lXG4gICAgLy8gd2F5IGFzIHdoZW4gdGhlIHRhYiBpcyBpbiBmb2N1cywgYW5kIGl0IHNlZW1zIHRoYXQgdGhlIHJlc3VsdCBvZiB0aGF0XG4gICAgLy8gaXMgdGhhdCB0aGUgXCJmaXJzdEZyYW1lU2hvd25cIiBldmVudCBuZXZlciBmaXJlcy4gIEhhdmluZyB0aGUgSW92IGJlXG4gICAgLy8gdXBkYXRlZCBvbiBhIGRlbGF5IGluIGNhc2UgdGhlIFwiZmlyc3RGcmFtZVNob3duXCIgdGFrZXMgdG9vIGxvbmcgd2lsbFxuICAgIC8vIGVuc3VyZSB0aGF0IHRoZSBvbGQgSW92cyBhcmUgZGVzdHJveWVkLCBlbnN1cmluZyB0aGF0IHVubmVjZXNzYXJ5XG4gICAgLy8gc29ja2V0IGNvbm5lY3Rpb25zLCBldGMuIGFyZSBub3QgYmVpbmcgdXNlZCwgYXMgdGhpcyBjYW4gY2F1c2UgdGhlXG4gICAgLy8gYnJvd3NlciB0byBjcmFzaC5cbiAgICAvLyBOb3RlIHRoYXQgaWYgdGhlcmUgaXMgYSBiZXR0ZXIgd2F5IHRvIGRvIHRoaXMsIGl0IHdvdWxkIGxpa2VseSByZWR1Y2VcbiAgICAvLyB0aGUgbnVtYmVyIG9mIHRyeS9jYXRjaCBibG9ja3MgYW5kIG51bGwgY2hlY2tzIGluIHRoZSBJb3ZQbGF5ZXIgYW5kXG4gICAgLy8gTVNFV3JhcHBlciwgYnV0IEkgZG9uJ3QgdGhpbmsgdGhhdCBpcyBsaWtlbHkgdG8gaGFwcGVuIHVudGlsIHRoZSBNU0VcbiAgICAvLyBpcyBzdGFuZGFyZGl6ZWQsIGFuZCBldmVuIHRoZW4sIHdlIG1heSBiZSBzdWJqZWN0IHRvIG5vbi1pbnR1aXRpdmVcbiAgICAvLyBiZWhhdmlvciBiYXNlZCBvbiB0YWIgc3dpdGNoaW5nLCBldGMuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLnVwZGF0ZUlvdihjbG9uZSk7XG4gICAgfSwgdGhpcy5jaGFuZ2VTb3VyY2VNYXhXYWl0KTtcblxuICAgIC8vIFVuZGVyIG5vcm1hbCBjaXJjdW1zdGFuY2VzLCBtZWFuaW5nIHdoZW4gdGhlIHRhYiBpcyBpbiBmb2N1cywgd2Ugd2FudFxuICAgIC8vIHRvIHJlc3BvbmQgYnkgc3dpdGNoaW5nIHRoZSBJb3Ygd2hlbiB0aGUgbmV3IElvdiBQbGF5ZXIgaGFzIHNvbWV0aGluZ1xuICAgIC8vIHRvIGRpc3BsYXlcbiAgICBjbG9uZS5wbGF5ZXIub24oJ2ZpcnN0RnJhbWVTaG93bicsICgpID0+IHtcbiAgICAgIHRoaXMudXBkYXRlSW92KGNsb25lKTtcbiAgICB9KTtcbiAgfTtcblxuICBhc3luYyBjcmVhdGVJb3YgKHBsYXllcikge1xuICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdjcmVhdGVJb3YnKTtcblxuICAgIHRoaXMucGxheWVyID0gcGxheWVyO1xuXG4gICAgY29uc3QgdmlkZW9JZCA9IGBjbHNwLXZpZGVvLSR7dXVpZHY0KCl9YDtcbiAgICBjb25zdCB2aWRlb0pzVmlkZW9FbGVtZW50ID0gdGhpcy5wbGF5ZXIuZWwoKS5maXJzdENoaWxkO1xuICAgIGNvbnN0IHZpZGVvRWxlbWVudFBhcmVudCA9IHZpZGVvSnNWaWRlb0VsZW1lbnQucGFyZW50Tm9kZTtcblxuICAgIC8vIHdoZW4gdmlkZW9qcyBpbml0aWFsaXplcyB0aGUgdmlkZW8gZWxlbWVudCAob3Igc29tZXRoaW5nIGxpa2UgdGhhdCksXG4gICAgLy8gaXQgY3JlYXRlcyBldmVudHMgYW5kIGxpc3RlbmVycyBvbiB0aGF0IGVsZW1lbnQgdGhhdCBpdCB1c2VzLCBob3dldmVyXG4gICAgLy8gdGhlc2UgZXZlbnRzIGludGVyZmVyZSB3aXRoIG91ciBhYmlsaXR5IHRvIHBsYXkgY2xzcCBzdHJlYW1zLiAgQ2xvbmluZ1xuICAgIC8vIHRoZSBlbGVtZW50IGxpa2UgdGhpcyBhbmQgcmVpbnNlcnRpbmcgaXQgaXMgYSBibHVudCBpbnN0cnVtZW50IHRvIHJlbW92ZVxuICAgIC8vIGFsbCBvZiB0aGUgdmlkZW9qcyBldmVudHMgc28gdGhhdCB3ZSBhcmUgaW4gY29udHJvbCBvZiB0aGUgcGxheWVyLlxuICAgIGNvbnN0IHZpZGVvRWxlbWVudCA9IHZpZGVvSnNWaWRlb0VsZW1lbnQuY2xvbmVOb2RlKCk7XG4gICAgdmlkZW9FbGVtZW50LnNldEF0dHJpYnV0ZSgnaWQnLCB2aWRlb0lkKTtcblxuICAgIHZpZGVvRWxlbWVudFBhcmVudC5pbnNlcnRCZWZvcmUodmlkZW9FbGVtZW50LCB2aWRlb0pzVmlkZW9FbGVtZW50KTtcblxuICAgIGNvbnN0IGlvdiA9IGF3YWl0IElvdkNvbGxlY3Rpb24uYXNTaW5nbGV0b24oKS5jcmVhdGUodmlkZW9JZCwgdGhpcy5zb3VyY2VfLnNyYyk7XG5cbiAgICB0aGlzLnBsYXllci5vbigncmVhZHknLCAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5vblJlYWR5QWxyZWFkeUNhbGxlZCkge1xuICAgICAgICB0aGlzLmxvZ2dlci53YXJuKCd0cmllZCB0byB1c2UgdGhpcyBwbGF5ZXIgbW9yZSB0aGFuIG9uY2UuLi4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLm9uUmVhZHlBbHJlYWR5Q2FsbGVkID0gdHJ1ZTtcblxuICAgICAgY29uc3QgdmlkZW9UYWcgPSB0aGlzLnBsYXllci5jaGlsZHJlbigpWzBdO1xuXG4gICAgICAvLyBAdG9kbyAtIHRoZXJlIG11c3QgYmUgYSBiZXR0ZXIgd2F5IHRvIGRldGVybWluZSBhdXRvcGxheS4uLlxuICAgICAgaWYgKHZpZGVvVGFnLmdldEF0dHJpYnV0ZSgnYXV0b3BsYXknKSAhPT0gbnVsbCkge1xuICAgICAgICAvLyBwbGF5QnV0dG9uLnRyaWdnZXIoJ2NsaWNrJyk7XG4gICAgICAgIHRoaXMucGxheWVyLnRyaWdnZXIoJ3BsYXknLCB2aWRlb1RhZyk7XG4gICAgICB9XG5cbiAgICAgIGlvdi5vbignZmlyc3RGcmFtZVNob3duJywgKCkgPT4ge1xuICAgICAgICB0aGlzLnBsYXllci50cmlnZ2VyKCdmaXJzdEZyYW1lU2hvd24nKTtcblxuICAgICAgICB2aWRlb1RhZy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgfSk7XG5cbiAgICAgIGlvdi5vbigndmlkZW9SZWNlaXZlZCcsICgpID0+IHtcbiAgICAgICAgLy8gcmVzZXQgdGhlIHRpbWVvdXQgbW9uaXRvciBmcm9tIHZpZGVvanMtZXJyb3JzXG4gICAgICAgIHRoaXMucGxheWVyLnRyaWdnZXIoJ3RpbWV1cGRhdGUnKTtcbiAgICAgIH0pO1xuXG4gICAgICBpb3Yub24oJ3ZpZGVvSW5mb1JlY2VpdmVkJywgKCkgPT4ge1xuICAgICAgICAvLyByZXNldCB0aGUgdGltZW91dCBtb25pdG9yIGZyb20gdmlkZW9qcy1lcnJvcnNcbiAgICAgICAgdGhpcy5wbGF5ZXIudHJpZ2dlcigndGltZXVwZGF0ZScpO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMucGxheWVyLm9uKCdjaGFuZ2VzcmMnLCB0aGlzLm9uQ2hhbmdlU291cmNlKTtcbiAgICB9KTtcblxuICAgIHRoaXMudXBkYXRlSW92KGlvdik7XG5cbiAgICAvLyB0aGlzLmlvdi5vbigndW5zdXBwb3J0ZWRNaW1lQ29kZWMnLCAoZXJyb3IpID0+IHtcbiAgICAvLyAgIHRoaXMudmlkZW9QbGF5ZXIuZXJyb3JzLmV4dGVuZCh7XG4gICAgLy8gICAgIFBMQVlFUl9FUlJfSW92OiB7XG4gICAgLy8gICAgICAgaGVhZGxpbmU6ICdFcnJvciBQbGF5aW5nIFN0cmVhbScsXG4gICAgLy8gICAgICAgbWVzc2FnZTogZXJyb3IsXG4gICAgLy8gICAgIH0sXG4gICAgLy8gICB9KTtcblxuICAgIC8vICAgdGhpcy52aWRlb1BsYXllci5lcnJvcih7XG4gICAgLy8gICAgIGNvZGU6ICdQTEFZRVJfRVJSX0lvdicsXG4gICAgLy8gICB9KTtcbiAgICAvLyB9KTtcbiAgfVxuXG4gIHVwZGF0ZUlvdiAoaW92KSB7XG4gICAgdGhpcy5sb2dnZXIuZGVidWcoJ3VwZGF0ZUlvdicpO1xuXG4gICAgaWYgKHRoaXMuaW92KSB7XG4gICAgICAvLyBJZiB0aGUgSW92IGlzIHRoZSBzYW1lLCBkbyBub3RoaW5nXG4gICAgICBpZiAodGhpcy5pb3YuaWQgPT09IGlvdi5pZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIElvdkNvbGxlY3Rpb24uYXNTaW5nbGV0b24oKVxuICAgICAgICAucmVtb3ZlKHRoaXMuaW92LmlkKVxuICAgICAgICAuYWRkKGlvdi5pZCwgaW92KTtcbiAgICB9XG5cbiAgICB0aGlzLmlvdiA9IGlvdjtcbiAgfVxuXG4gIGRlc3Ryb3kgKCkge1xuICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdkZXN0cm95Jyk7XG5cbiAgICBpZiAodGhpcy5kZXN0cm95ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmRlc3Ryb3llZCA9IHRydWU7XG5cbiAgICBpZiAodGhpcy5vblJlYWR5QWxyZWFkeUNhbGxlZCkge1xuICAgICAgdGhpcy5wbGF5ZXIub2ZmKCdjaGFuZ2VzcmMnLCB0aGlzLm9uQ2hhbmdlU291cmNlKTtcbiAgICB9XG5cbiAgICBJb3ZDb2xsZWN0aW9uLmFzU2luZ2xldG9uKCkucmVtb3ZlKHRoaXMuaW92LmlkKTtcblxuICAgIHRoaXMuaW92ID0gbnVsbDtcbiAgICB0aGlzLnBsYXllciA9IG51bGw7XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/video-js-plugin/MqttHandler.js\n");

/***/ }),

/***/ "./src/js/video-js-plugin/MqttSourceHandler.js":
/*!*****************************************************!*\
  !*** ./src/js/video-js-plugin/MqttSourceHandler.js ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var video_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! video.js */ \"video.js\");\n/* harmony import */ var video_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(video_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils_logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/logger */ \"./src/js/utils/logger.js\");\n/* harmony import */ var _MqttHandler__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MqttHandler */ \"./src/js/video-js-plugin/MqttHandler.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils */ \"./src/js/utils/index.js\");\n // This is configured as an external library by webpack, so the caller must\n// provide videojs on `window`\n\n\n\n\n\nvar SUPPORTED_MIME_TYPE = \"video/mp4; codecs='avc1.42E01E'\";\n/* harmony default export */ __webpack_exports__[\"default\"] = (function () {\n  var logger = Object(_utils_logger__WEBPACK_IMPORTED_MODULE_1__[\"default\"])().factory('MqttSourceHandler');\n  return function (mode) {\n    var obj = {\n      canHandleSource: function canHandleSource(srcObj) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        logger.debug('canHandleSource');\n\n        if (!srcObj.src) {\n          logger.debug(\"srcObj doesn't contain src\");\n          return false;\n        }\n\n        if (!srcObj.src.startsWith('clsp')) {\n          logger.debug('srcObj.src is not clsp protocol');\n          return false;\n        } // Note that we used to do a browser compatibility check here, but if\n        // we return false when the browser does not support CLSP, videojs's\n        // failover mechanisms do not continue.  Meaning, if we return false\n        // here, and a second HLS source is supplied in the video tag (for\n        // example), videojs will never try to play the HLS url with the HLS\n        // tech.\n\n\n        return obj.canPlayType(srcObj.type);\n      },\n      handleSource: function handleSource(source, tech) {\n        var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n        logger.debug('handleSource');\n        var localOptions = video_js__WEBPACK_IMPORTED_MODULE_0___default.a.mergeOptions(video_js__WEBPACK_IMPORTED_MODULE_0___default.a.options, options, {\n          mqtt: {\n            mode: mode\n          }\n        });\n        tech.mqtt = new _MqttHandler__WEBPACK_IMPORTED_MODULE_2__[\"default\"](source, tech, localOptions);\n        return tech.mqtt;\n      },\n      canPlayType: function canPlayType(type) {\n        logger.debug('canPlayType');\n\n        if (type === SUPPORTED_MIME_TYPE) {\n          return 'maybe';\n        } // eslint-disable-next-line no-console\n\n\n        console.error(\"clsp type='\".concat(type, \"' rejected\"));\n        return '';\n      }\n    };\n    return obj;\n  };\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvdmlkZW8tanMtcGx1Z2luL01xdHRTb3VyY2VIYW5kbGVyLmpzPzkwMGYiXSwibmFtZXMiOlsiU1VQUE9SVEVEX01JTUVfVFlQRSIsImxvZ2dlciIsIkxvZ2dlciIsImZhY3RvcnkiLCJtb2RlIiwib2JqIiwiY2FuSGFuZGxlU291cmNlIiwic3JjT2JqIiwib3B0aW9ucyIsImRlYnVnIiwic3JjIiwic3RhcnRzV2l0aCIsImNhblBsYXlUeXBlIiwidHlwZSIsImhhbmRsZVNvdXJjZSIsInNvdXJjZSIsInRlY2giLCJsb2NhbE9wdGlvbnMiLCJ2aWRlb2pzIiwibWVyZ2VPcHRpb25zIiwibXF0dCIsIk1xdHRIYW5kbGVyIiwiY29uc29sZSIsImVycm9yIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Q0FFQTtBQUNBOztBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUEsSUFBTUEsbUJBQW1CLEdBQUcsaUNBQTVCO0FBRWUsMkVBQVk7QUFDekIsTUFBTUMsTUFBTSxHQUFHQyw2REFBTSxHQUFHQyxPQUFULENBQWlCLG1CQUFqQixDQUFmO0FBRUEsU0FBTyxVQUFVQyxJQUFWLEVBQWdCO0FBQ3JCLFFBQU1DLEdBQUcsR0FBRztBQUNWQyxxQkFBZSxFQUFFLHlCQUFVQyxNQUFWLEVBQWdDO0FBQUEsWUFBZEMsT0FBYyx1RUFBSixFQUFJO0FBQy9DUCxjQUFNLENBQUNRLEtBQVAsQ0FBYSxpQkFBYjs7QUFFQSxZQUFJLENBQUNGLE1BQU0sQ0FBQ0csR0FBWixFQUFpQjtBQUNmVCxnQkFBTSxDQUFDUSxLQUFQLENBQWEsNEJBQWI7QUFDQSxpQkFBTyxLQUFQO0FBQ0Q7O0FBRUQsWUFBSSxDQUFDRixNQUFNLENBQUNHLEdBQVAsQ0FBV0MsVUFBWCxDQUFzQixNQUF0QixDQUFMLEVBQW9DO0FBQ2xDVixnQkFBTSxDQUFDUSxLQUFQLENBQWEsaUNBQWI7QUFDQSxpQkFBTyxLQUFQO0FBQ0QsU0FYOEMsQ0FhL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQSxlQUFPSixHQUFHLENBQUNPLFdBQUosQ0FBZ0JMLE1BQU0sQ0FBQ00sSUFBdkIsQ0FBUDtBQUNELE9BdEJTO0FBdUJWQyxrQkFBWSxFQUFFLHNCQUNaQyxNQURZLEVBRVpDLElBRlksRUFJWjtBQUFBLFlBREFSLE9BQ0EsdUVBRFUsRUFDVjtBQUNBUCxjQUFNLENBQUNRLEtBQVAsQ0FBYSxjQUFiO0FBRUEsWUFBTVEsWUFBWSxHQUFHQywrQ0FBTyxDQUFDQyxZQUFSLENBQ25CRCwrQ0FBTyxDQUFDVixPQURXLEVBRW5CQSxPQUZtQixFQUduQjtBQUNFWSxjQUFJLEVBQUU7QUFDSmhCLGdCQUFJLEVBQUpBO0FBREk7QUFEUixTQUhtQixDQUFyQjtBQVVBWSxZQUFJLENBQUNJLElBQUwsR0FBWSxJQUFJQyxvREFBSixDQUNWTixNQURVLEVBRVZDLElBRlUsRUFHVkMsWUFIVSxDQUFaO0FBTUEsZUFBT0QsSUFBSSxDQUFDSSxJQUFaO0FBQ0QsT0EvQ1M7QUFnRFZSLGlCQUFXLEVBQUUscUJBQVVDLElBQVYsRUFBZ0I7QUFDM0JaLGNBQU0sQ0FBQ1EsS0FBUCxDQUFhLGFBQWI7O0FBRUEsWUFBSUksSUFBSSxLQUFLYixtQkFBYixFQUFrQztBQUNoQyxpQkFBTyxPQUFQO0FBQ0QsU0FMMEIsQ0FPM0I7OztBQUNBc0IsZUFBTyxDQUFDQyxLQUFSLHNCQUE0QlYsSUFBNUI7QUFFQSxlQUFPLEVBQVA7QUFDRDtBQTNEUyxLQUFaO0FBOERBLFdBQU9SLEdBQVA7QUFDRCxHQWhFRDtBQWlFRCxDIiwiZmlsZSI6Ii4vc3JjL2pzL3ZpZGVvLWpzLXBsdWdpbi9NcXR0U291cmNlSGFuZGxlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuLy8gVGhpcyBpcyBjb25maWd1cmVkIGFzIGFuIGV4dGVybmFsIGxpYnJhcnkgYnkgd2VicGFjaywgc28gdGhlIGNhbGxlciBtdXN0XG4vLyBwcm92aWRlIHZpZGVvanMgb24gYHdpbmRvd2BcbmltcG9ydCB2aWRlb2pzIGZyb20gJ3ZpZGVvLmpzJztcblxuaW1wb3J0IExvZ2dlciBmcm9tICcuLi91dGlscy9sb2dnZXInO1xuaW1wb3J0IE1xdHRIYW5kbGVyIGZyb20gJy4vTXF0dEhhbmRsZXInO1xuaW1wb3J0IHV0aWxzIGZyb20gJy4uL3V0aWxzJztcblxuY29uc3QgU1VQUE9SVEVEX01JTUVfVFlQRSA9IFwidmlkZW8vbXA0OyBjb2RlY3M9J2F2YzEuNDJFMDFFJ1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IGxvZ2dlciA9IExvZ2dlcigpLmZhY3RvcnkoJ01xdHRTb3VyY2VIYW5kbGVyJyk7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChtb2RlKSB7XG4gICAgY29uc3Qgb2JqID0ge1xuICAgICAgY2FuSGFuZGxlU291cmNlOiBmdW5jdGlvbiAoc3JjT2JqLCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgbG9nZ2VyLmRlYnVnKCdjYW5IYW5kbGVTb3VyY2UnKTtcblxuICAgICAgICBpZiAoIXNyY09iai5zcmMpIHtcbiAgICAgICAgICBsb2dnZXIuZGVidWcoXCJzcmNPYmogZG9lc24ndCBjb250YWluIHNyY1wiKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXNyY09iai5zcmMuc3RhcnRzV2l0aCgnY2xzcCcpKSB7XG4gICAgICAgICAgbG9nZ2VyLmRlYnVnKCdzcmNPYmouc3JjIGlzIG5vdCBjbHNwIHByb3RvY29sJyk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTm90ZSB0aGF0IHdlIHVzZWQgdG8gZG8gYSBicm93c2VyIGNvbXBhdGliaWxpdHkgY2hlY2sgaGVyZSwgYnV0IGlmXG4gICAgICAgIC8vIHdlIHJldHVybiBmYWxzZSB3aGVuIHRoZSBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgQ0xTUCwgdmlkZW9qcydzXG4gICAgICAgIC8vIGZhaWxvdmVyIG1lY2hhbmlzbXMgZG8gbm90IGNvbnRpbnVlLiAgTWVhbmluZywgaWYgd2UgcmV0dXJuIGZhbHNlXG4gICAgICAgIC8vIGhlcmUsIGFuZCBhIHNlY29uZCBITFMgc291cmNlIGlzIHN1cHBsaWVkIGluIHRoZSB2aWRlbyB0YWcgKGZvclxuICAgICAgICAvLyBleGFtcGxlKSwgdmlkZW9qcyB3aWxsIG5ldmVyIHRyeSB0byBwbGF5IHRoZSBITFMgdXJsIHdpdGggdGhlIEhMU1xuICAgICAgICAvLyB0ZWNoLlxuXG4gICAgICAgIHJldHVybiBvYmouY2FuUGxheVR5cGUoc3JjT2JqLnR5cGUpO1xuICAgICAgfSxcbiAgICAgIGhhbmRsZVNvdXJjZTogZnVuY3Rpb24gKFxuICAgICAgICBzb3VyY2UsXG4gICAgICAgIHRlY2gsXG4gICAgICAgIG9wdGlvbnMgPSB7fVxuICAgICAgKSB7XG4gICAgICAgIGxvZ2dlci5kZWJ1ZygnaGFuZGxlU291cmNlJyk7XG5cbiAgICAgICAgY29uc3QgbG9jYWxPcHRpb25zID0gdmlkZW9qcy5tZXJnZU9wdGlvbnMoXG4gICAgICAgICAgdmlkZW9qcy5vcHRpb25zLFxuICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAge1xuICAgICAgICAgICAgbXF0dDoge1xuICAgICAgICAgICAgICBtb2RlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9XG4gICAgICAgICk7XG5cbiAgICAgICAgdGVjaC5tcXR0ID0gbmV3IE1xdHRIYW5kbGVyKFxuICAgICAgICAgIHNvdXJjZSxcbiAgICAgICAgICB0ZWNoLFxuICAgICAgICAgIGxvY2FsT3B0aW9uc1xuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiB0ZWNoLm1xdHQ7XG4gICAgICB9LFxuICAgICAgY2FuUGxheVR5cGU6IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgIGxvZ2dlci5kZWJ1ZygnY2FuUGxheVR5cGUnKTtcblxuICAgICAgICBpZiAodHlwZSA9PT0gU1VQUE9SVEVEX01JTUVfVFlQRSkge1xuICAgICAgICAgIHJldHVybiAnbWF5YmUnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgY29uc29sZS5lcnJvcihgY2xzcCB0eXBlPScke3R5cGV9JyByZWplY3RlZGApO1xuXG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH0sXG4gICAgfTtcblxuICAgIHJldHVybiBvYmo7XG4gIH07XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/video-js-plugin/MqttSourceHandler.js\n");

/***/ }),

/***/ "./src/js/video-js-plugin/index.js":
/*!*****************************************!*\
  !*** ./src/js/video-js-plugin/index.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var srcdoc_polyfill__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! srcdoc-polyfill */ \"./node_modules/srcdoc-polyfill/srcdoc-polyfill.js\");\n/* harmony import */ var srcdoc_polyfill__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(srcdoc_polyfill__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/ */ \"./src/js/utils/index.js\");\n/* harmony import */ var _plugin__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./plugin */ \"./src/js/video-js-plugin/plugin.js\");\n/* harmony import */ var _styles_videojs_mse_over_clsp_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../styles/videojs-mse-over-clsp.scss */ \"./src/styles/videojs-mse-over-clsp.scss\");\n/* harmony import */ var _styles_videojs_mse_over_clsp_scss__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_styles_videojs_mse_over_clsp_scss__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\n\n\nvar clspPlugin = Object(_plugin__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(); // @todo - do not initialize the plugin by default, since that is a side\n// effect.  make the caller call the initialize function.  also, is it\n// possible to unregister the plugin?\n\nclspPlugin.register();\n/* harmony default export */ __webpack_exports__[\"default\"] = (clspPlugin);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvdmlkZW8tanMtcGx1Z2luL2luZGV4LmpzPzE2MGQiXSwibmFtZXMiOlsiY2xzcFBsdWdpbiIsInBsdWdpbiIsInJlZ2lzdGVyIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFhOztBQUViO0FBRUE7QUFDQTtBQUNBO0FBRUEsSUFBTUEsVUFBVSxHQUFHQyx1REFBTSxFQUF6QixDLENBRUE7QUFDQTtBQUNBOztBQUNBRCxVQUFVLENBQUNFLFFBQVg7QUFFZUYseUVBQWYiLCJmaWxlIjoiLi9zcmMvanMvdmlkZW8tanMtcGx1Z2luL2luZGV4LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgJ3NyY2RvYy1wb2x5ZmlsbCc7XG5cbmltcG9ydCAnLi4vdXRpbHMvJztcbmltcG9ydCBwbHVnaW4gZnJvbSAnLi9wbHVnaW4nO1xuaW1wb3J0ICcuLi8uLi9zdHlsZXMvdmlkZW9qcy1tc2Utb3Zlci1jbHNwLnNjc3MnO1xuXG5jb25zdCBjbHNwUGx1Z2luID0gcGx1Z2luKCk7XG5cbi8vIEB0b2RvIC0gZG8gbm90IGluaXRpYWxpemUgdGhlIHBsdWdpbiBieSBkZWZhdWx0LCBzaW5jZSB0aGF0IGlzIGEgc2lkZVxuLy8gZWZmZWN0LiAgbWFrZSB0aGUgY2FsbGVyIGNhbGwgdGhlIGluaXRpYWxpemUgZnVuY3Rpb24uICBhbHNvLCBpcyBpdFxuLy8gcG9zc2libGUgdG8gdW5yZWdpc3RlciB0aGUgcGx1Z2luP1xuY2xzcFBsdWdpbi5yZWdpc3RlcigpO1xuXG5leHBvcnQgZGVmYXVsdCBjbHNwUGx1Z2luO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/video-js-plugin/index.js\n");

/***/ }),

/***/ "./src/js/video-js-plugin/plugin.js":
/*!******************************************!*\
  !*** ./src/js/video-js-plugin/plugin.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var video_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! video.js */ \"video.js\");\n/* harmony import */ var video_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(video_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _MqttSourceHandler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MqttSourceHandler */ \"./src/js/video-js-plugin/MqttSourceHandler.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils */ \"./src/js/utils/index.js\");\n/* harmony import */ var _utils_logger__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/logger */ \"./src/js/utils/logger.js\");\n // This is configured as an external library by webpack, so the caller must\n// provide videojs on `window`\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\nvar Plugin = video_js__WEBPACK_IMPORTED_MODULE_0___default.a.getPlugin('plugin'); // Note that the value can never be zero!\n\nvar VIDEOJS_ERRORS_PLAYER_CURRENT_TIME_MIN = 1;\nvar VIDEOJS_ERRORS_PLAYER_CURRENT_TIME_MAX = 20;\nvar logger = Object(_utils_logger__WEBPACK_IMPORTED_MODULE_3__[\"default\"])().factory('clsp-videojs-plugin');\nvar totalPluginCount = 0;\n/* harmony default export */ __webpack_exports__[\"default\"] = (function () {\n  var _class, _temp;\n\n  var defaultOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return _temp = _class =\n  /*#__PURE__*/\n  function (_Plugin) {\n    _inherits(ClspPlugin, _Plugin);\n\n    _createClass(ClspPlugin, null, [{\n      key: \"register\",\n      value: function register() {\n        if (video_js__WEBPACK_IMPORTED_MODULE_0___default.a.getPlugin(_utils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].name)) {\n          throw new Error('You can only register the clsp plugin once, and it has already been registered.');\n        }\n\n        var sourceHandler = Object(_MqttSourceHandler__WEBPACK_IMPORTED_MODULE_1__[\"default\"])()('html5');\n        video_js__WEBPACK_IMPORTED_MODULE_0___default.a.getTech('Html5').registerSourceHandler(sourceHandler, 0);\n        video_js__WEBPACK_IMPORTED_MODULE_0___default.a.registerPlugin(_utils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].name, ClspPlugin);\n        logger.debug('plugin registered');\n        return ClspPlugin;\n      }\n    }, {\n      key: \"getDefaultOptions\",\n      value: function getDefaultOptions() {\n        return {\n          /**\n           * The number of times to retry playing the video when there is an error\n           * that we know we can recover from.\n           *\n           * If a negative number is passed, retry indefinitely\n           * If 0 is passed, never retry\n           * If a positive number is passed, retry that many times\n           */\n          maxRetriesOnError: -1,\n          tourDuration: 10 * 1000,\n          enableMetrics: false,\n          videojsErrorsOptions: {}\n        };\n      }\n    }]);\n\n    function ClspPlugin(player, options) {\n      var _this;\n\n      _classCallCheck(this, ClspPlugin);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(ClspPlugin).call(this, player, options));\n\n      _defineProperty(_assertThisInitialized(_this), \"onVisibilityChange\", function () {\n        _this.logger.debug('tab visibility changed...');\n\n        var hiddenStateName = _utils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].windowStateNames.hiddenStateName;\n\n        if (document[hiddenStateName]) {\n          // Continue to update the time, which will prevent videojs-errors from\n          // issuing a timeout error\n          _this.visibilityChangeInterval = setInterval(\n          /*#__PURE__*/\n          _asyncToGenerator(\n          /*#__PURE__*/\n          regeneratorRuntime.mark(function _callee() {\n            return regeneratorRuntime.wrap(function _callee$(_context) {\n              while (1) {\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    _this.logger.debug('updating time...');\n\n                    _this.player.trigger('timeupdate');\n\n                  case 2:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }\n            }, _callee);\n          })), 2000);\n          return;\n        }\n\n        if (_this.visibilityChangeInterval) {\n          clearInterval(_this.visibilityChangeInterval);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"onMqttHandlerError\", function () {\n        _this.logger.debug('handling mqtt error...');\n\n        var mqttHandler = _this.getMqttHandler();\n\n        mqttHandler.destroy();\n\n        _this.player.error({\n          // @todo - change the code to 'INSUFFICIENT_RESOURCES'\n          code: 0,\n          type: 'INSUFFICIENT_RESOURCES',\n          headline: 'Insufficient Resources',\n          message: 'The current hardware cannot support the current number of playing streams.'\n        });\n      });\n\n      _this.id = ++totalPluginCount;\n      _this.logger = Object(_utils_logger__WEBPACK_IMPORTED_MODULE_3__[\"default\"])().factory(\"CLSP Plugin \".concat(_this.id));\n\n      _this.logger.debug('creating plugin instance');\n\n      var playerOptions = player.options_;\n      _this.options = video_js__WEBPACK_IMPORTED_MODULE_0___default.a.mergeOptions(_objectSpread({}, _this.constructor.getDefaultOptions(), {}, defaultOptions, {}, playerOptions.clsp || {}), options);\n      _this._playerOptions = playerOptions;\n      _this.currentSourceIndex = 0;\n      player.addClass('vjs-mse-over-mqtt');\n\n      if (_this.options.customClass) {\n        player.addClass(_this.options.customClass);\n      }\n\n      _this.resetErrors(player); // @todo - this error doesn't work or display the way it's intended to\n\n\n      if (!_utils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].supported()) {\n        return _possibleConstructorReturn(_this, player.error({\n          code: 'PLAYER_ERR_NOT_COMPAT',\n          type: 'PLAYER_ERR_NOT_COMPAT',\n          dismiss: false\n        }));\n      }\n\n      _this.autoplayEnabled = playerOptions.autoplay || player.getAttribute('autoplay') === 'true'; // for debugging...\n      // const oldTrigger = player.trigger.bind(player);\n      // player.trigger = (eventName, ...args) => {\n      //   console.log(eventName);\n      //   console.log(...args);\n      //   oldTrigger(eventName, ...args);\n      // };\n      // Track the number of times we've retried on error\n\n      player._errorRetriesCount = 0; // Needed to make videojs-errors think that the video is progressing.\n      // If we do not do this, videojs-errors will give us a timeout error.\n      // The number just needs to change, it doesn't need to continually increment\n\n      player._currentTime = VIDEOJS_ERRORS_PLAYER_CURRENT_TIME_MIN;\n\n      player.currentTime = function () {\n        // Don't let this number get over 2 billion!\n        if (player._currentTime > VIDEOJS_ERRORS_PLAYER_CURRENT_TIME_MAX) {\n          player._currentTime = VIDEOJS_ERRORS_PLAYER_CURRENT_TIME_MIN;\n        } else {\n          player._currentTime++;\n        }\n\n        return player._currentTime;\n      }; // @todo - are we not using videojs properly?\n      // @see - https://github.com/videojs/video.js/issues/5233\n      // @see - https://jsfiddle.net/karstenlh/96hrzp5w/\n      // This is currently needed for autoplay.\n\n\n      player.on('ready', function () {\n        _this.logger.debug('the player is ready');\n\n        if (_this.autoplayEnabled) {\n          // Even though the \"ready\" event has fired, it's not actually ready\n          // until the \"next tick\"...\n          setTimeout(function () {\n            player.play();\n          });\n        }\n      }); // @todo - this seems like we aren't using videojs properly\n\n      player.on('error',\n      /*#__PURE__*/\n      function () {\n        var _ref2 = _asyncToGenerator(\n        /*#__PURE__*/\n        regeneratorRuntime.mark(function _callee3(event) {\n          var retry, error;\n          return regeneratorRuntime.wrap(function _callee3$(_context3) {\n            while (1) {\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  _this.logger.debug('the player encountered an error');\n\n                  retry =\n                  /*#__PURE__*/\n                  function () {\n                    var _ref3 = _asyncToGenerator(\n                    /*#__PURE__*/\n                    regeneratorRuntime.mark(function _callee2() {\n                      var iov;\n                      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                        while (1) {\n                          switch (_context2.prev = _context2.next) {\n                            case 0:\n                              _this.logger.debug('retrying due to error');\n\n                              if (!(_this.options.maxRetriesOnError === 0)) {\n                                _context2.next = 3;\n                                break;\n                              }\n\n                              return _context2.abrupt(\"return\");\n\n                            case 3:\n                              if (!(_this.options.maxRetriesOnError < 0 || player._errorRetriesCount <= _this.options.maxRetriesOnError)) {\n                                _context2.next = 14;\n                                break;\n                              }\n\n                              // @todo - when can we reset this to zero?\n                              player._errorRetriesCount++;\n\n                              _this.resetErrors(player);\n\n                              iov = _this.getIov(); // @todo - investigate how this can be called when the iov has been destroyed\n\n                              if (!(!iov || iov.destroyed)) {\n                                _context2.next = 12;\n                                break;\n                              }\n\n                              _context2.next = 10;\n                              return _this.initializeIov(player);\n\n                            case 10:\n                              _context2.next = 14;\n                              break;\n\n                            case 12:\n                              _context2.next = 14;\n                              return iov.restart();\n\n                            case 14:\n                            case \"end\":\n                              return _context2.stop();\n                          }\n                        }\n                      }, _callee2);\n                    }));\n\n                    return function retry() {\n                      return _ref3.apply(this, arguments);\n                    };\n                  }();\n\n                  error = player.error();\n                  _context3.t0 = error.code;\n                  _context3.next = _context3.t0 === -2 ? 6 : _context3.t0 === 0 ? 7 : _context3.t0 === 4 ? 7 : _context3.t0 === 5 ? 7 : _context3.t0 === 'PLAYER_ERR_Iov' ? 7 : 8;\n                  break;\n\n                case 6:\n                  return _context3.abrupt(\"return\", retry());\n\n                case 7:\n                  return _context3.abrupt(\"break\", 9);\n\n                case 8:\n                  return _context3.abrupt(\"return\", retry());\n\n                case 9:\n                case \"end\":\n                  return _context3.stop();\n              }\n            }\n          }, _callee3);\n        }));\n\n        return function (_x) {\n          return _ref2.apply(this, arguments);\n        };\n      }());\n      player.on('play',\n      /*#__PURE__*/\n      _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee4() {\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _this.logger.debug('on player play event'); // @todo - it is probably unnecessary to have to completely tear down the\n                // existing iov and create a new one.  But for now, this works\n\n\n                _context4.next = 3;\n                return _this.initializeIov(player);\n\n              case 3:\n                // @todo - this hides it permanently.  it should be re-enabled when the\n                // player stops or pauses.  This will likely involve using some videojs\n                // classes rather than using the .hide method\n                _this.player.loadingSpinner.hide();\n\n              case 4:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }))); // the \"pause\" event gets triggered for some reason in scenarios where I do\n      // not expect it to be triggered.  Therefore, we will create our own \"stop\"\n      // event to be able to better control the player to stop.\n\n      player.on('stop', function () {\n        _this.logger.debug('on player stop event');\n\n        _this.player.pause();\n\n        _this.getIov().stop();\n      });\n      player.on('dispose', function () {\n        _this.logger.debug('on dispose stop event');\n\n        _this.destroy(player);\n      });\n      var visibilityChangeEventName = _utils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].windowStateNames.visibilityChangeEventName;\n\n      if (visibilityChangeEventName) {\n        document.addEventListener(visibilityChangeEventName, _this.onVisibilityChange, false);\n      }\n\n      return _this;\n    }\n\n    _createClass(ClspPlugin, [{\n      key: \"getVideojsErrorsOptions\",\n      value: function getVideojsErrorsOptions() {\n        this.logger.debug('getting videojs errors options...');\n        return _objectSpread({\n          timeout: 120 * 1000,\n          errors: {\n            PLAYER_ERR_NOT_COMPAT: {\n              type: 'PLAYER_ERR_NOT_COMPAT',\n              headline: 'This browser is unsupported.',\n              message: 'Chrome 52+ is required.'\n            }\n          }\n        }, this.options.videojsErrorsOptions);\n      }\n    }, {\n      key: \"resetErrors\",\n      value: function resetErrors(player) {\n        this.logger.debug('resetting errors...'); // @see - https://github.com/videojs/video.js/issues/4401\n\n        player.error(null);\n        player.errorDisplay.close(); // Support for the videojs-errors library\n        // After an error occurs, and then we clear the error and its message\n        // above, we must re-enable videojs-errors on the player\n\n        if (player.errors) {\n          player.errors(this.getVideojsErrorsOptions());\n        }\n      }\n    }, {\n      key: \"getMqttHandler\",\n      value: function getMqttHandler() {\n        var player = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.player;\n        this.logger.debug('getting mqtt handler Iov...');\n        return player.tech(true).mqtt;\n      }\n    }, {\n      key: \"getIov\",\n      value: function getIov() {\n        this.logger.debug('getting Iov...');\n        return this.getMqttHandler().iov;\n      }\n    }, {\n      key: \"initializeIov\",\n      value: function () {\n        var _initializeIov = _asyncToGenerator(\n        /*#__PURE__*/\n        regeneratorRuntime.mark(function _callee5(player) {\n          var _this2 = this;\n\n          var mqttHandler, iovPlayer;\n          return regeneratorRuntime.wrap(function _callee5$(_context5) {\n            while (1) {\n              switch (_context5.prev = _context5.next) {\n                case 0:\n                  this.logger.debug('initializing Iov...');\n                  mqttHandler = this.getMqttHandler();\n\n                  if (mqttHandler) {\n                    _context5.next = 4;\n                    break;\n                  }\n\n                  throw new Error(\"VideoJS Player \".concat(player.id(), \" does not have mqtt tech!\"));\n\n                case 4:\n                  mqttHandler.off('error', this.onMqttHandlerError);\n                  mqttHandler.on('error', this.onMqttHandlerError);\n                  _context5.next = 8;\n                  return mqttHandler.createIov(player, {\n                    enableMetrics: this.options.enableMetrics,\n                    defaultNonSslPort: this.options.defaultNonSslPort,\n                    defaultSslPort: this.options.defaultSslPort\n                  });\n\n                case 8:\n                  iovPlayer = this.getIov();\n                  this.logger.debug('resgistering \"firstFrameShown\" event');\n                  iovPlayer.on('firstFrameShown', function () {\n                    _this2.logger.debug('about to trigger \"firstFrameShown\" event on videojs player');\n\n                    player.trigger('firstFrameShown');\n                  });\n                  _context5.next = 13;\n                  return iovPlayer.restart();\n\n                case 13:\n                case \"end\":\n                  return _context5.stop();\n              }\n            }\n          }, _callee5, this);\n        }));\n\n        function initializeIov(_x2) {\n          return _initializeIov.apply(this, arguments);\n        }\n\n        return initializeIov;\n      }()\n    }, {\n      key: \"destroy\",\n      value: function destroy() {\n        var player = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.player;\n        this.logger.debug('destroying...'); // Note that when the 'dispose' event is fired, this.player no longer exists\n\n        if (!player) {\n          this.logger.warn('Unable to destroy CLSP Plugin without the player!');\n          return;\n        }\n\n        if (this.destroyed) {\n          this.logger.debug('Tried to destroy when already destroyed');\n          return;\n        }\n\n        this.destroyed = true; // @todo - destroy the tech, since it is a player-specific instance\n\n        try {\n          var mqttHandler = this.getMqttHandler(player);\n          mqttHandler.destroy();\n          mqttHandler.off('error', this.onMqttHandlerError);\n          var visibilityChangeEventName = _utils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].windowStateNames.visibilityChangeEventName;\n\n          if (visibilityChangeEventName) {\n            this.logger.debug('removing onVisibilityChange listener...');\n            document.removeEventListener(visibilityChangeEventName, this.onVisibilityChange);\n          }\n\n          if (this.visibilityChangeInterval) {\n            this.logger.debug('removing visibilityChangeInterval...');\n            clearInterval(this.visibilityChangeInterval);\n          }\n\n          this._playerOptions = null;\n          this.currentSourceIndex = null;\n        } catch (error) {\n          // @todo - need to improve iov destroy logic...\n          this.logger.error('Error while destroying clsp plugin instance!');\n          this.logger.error(error);\n        }\n      }\n    }]);\n\n    return ClspPlugin;\n  }(Plugin), _defineProperty(_class, \"VERSION\", _utils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].version), _defineProperty(_class, \"utils\", _utils__WEBPACK_IMPORTED_MODULE_2__[\"default\"]), _defineProperty(_class, \"METRIC_TYPES\", ['videojs.errorRetriesCount']), _temp;\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvdmlkZW8tanMtcGx1Z2luL3BsdWdpbi5qcz83MGU1Il0sIm5hbWVzIjpbIlBsdWdpbiIsInZpZGVvanMiLCJnZXRQbHVnaW4iLCJWSURFT0pTX0VSUk9SU19QTEFZRVJfQ1VSUkVOVF9USU1FX01JTiIsIlZJREVPSlNfRVJST1JTX1BMQVlFUl9DVVJSRU5UX1RJTUVfTUFYIiwibG9nZ2VyIiwiTG9nZ2VyIiwiZmFjdG9yeSIsInRvdGFsUGx1Z2luQ291bnQiLCJkZWZhdWx0T3B0aW9ucyIsInV0aWxzIiwibmFtZSIsIkVycm9yIiwic291cmNlSGFuZGxlciIsIk1xdHRTb3VyY2VIYW5kbGVyIiwiZ2V0VGVjaCIsInJlZ2lzdGVyU291cmNlSGFuZGxlciIsInJlZ2lzdGVyUGx1Z2luIiwiQ2xzcFBsdWdpbiIsImRlYnVnIiwibWF4UmV0cmllc09uRXJyb3IiLCJ0b3VyRHVyYXRpb24iLCJlbmFibGVNZXRyaWNzIiwidmlkZW9qc0Vycm9yc09wdGlvbnMiLCJwbGF5ZXIiLCJvcHRpb25zIiwiaGlkZGVuU3RhdGVOYW1lIiwid2luZG93U3RhdGVOYW1lcyIsImRvY3VtZW50IiwidmlzaWJpbGl0eUNoYW5nZUludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJ0cmlnZ2VyIiwiY2xlYXJJbnRlcnZhbCIsIm1xdHRIYW5kbGVyIiwiZ2V0TXF0dEhhbmRsZXIiLCJkZXN0cm95IiwiZXJyb3IiLCJjb2RlIiwidHlwZSIsImhlYWRsaW5lIiwibWVzc2FnZSIsImlkIiwicGxheWVyT3B0aW9ucyIsIm9wdGlvbnNfIiwibWVyZ2VPcHRpb25zIiwiY29uc3RydWN0b3IiLCJnZXREZWZhdWx0T3B0aW9ucyIsImNsc3AiLCJfcGxheWVyT3B0aW9ucyIsImN1cnJlbnRTb3VyY2VJbmRleCIsImFkZENsYXNzIiwiY3VzdG9tQ2xhc3MiLCJyZXNldEVycm9ycyIsInN1cHBvcnRlZCIsImRpc21pc3MiLCJhdXRvcGxheUVuYWJsZWQiLCJhdXRvcGxheSIsImdldEF0dHJpYnV0ZSIsIl9lcnJvclJldHJpZXNDb3VudCIsIl9jdXJyZW50VGltZSIsImN1cnJlbnRUaW1lIiwib24iLCJzZXRUaW1lb3V0IiwicGxheSIsImV2ZW50IiwicmV0cnkiLCJpb3YiLCJnZXRJb3YiLCJkZXN0cm95ZWQiLCJpbml0aWFsaXplSW92IiwicmVzdGFydCIsImxvYWRpbmdTcGlubmVyIiwiaGlkZSIsInBhdXNlIiwic3RvcCIsInZpc2liaWxpdHlDaGFuZ2VFdmVudE5hbWUiLCJhZGRFdmVudExpc3RlbmVyIiwib25WaXNpYmlsaXR5Q2hhbmdlIiwidGltZW91dCIsImVycm9ycyIsIlBMQVlFUl9FUlJfTk9UX0NPTVBBVCIsImVycm9yRGlzcGxheSIsImNsb3NlIiwiZ2V0VmlkZW9qc0Vycm9yc09wdGlvbnMiLCJ0ZWNoIiwibXF0dCIsIm9mZiIsIm9uTXF0dEhhbmRsZXJFcnJvciIsImNyZWF0ZUlvdiIsImRlZmF1bHROb25Tc2xQb3J0IiwiZGVmYXVsdFNzbFBvcnQiLCJpb3ZQbGF5ZXIiLCJ3YXJuIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInZlcnNpb24iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtDQUVBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBLElBQU1BLE1BQU0sR0FBR0MsK0NBQU8sQ0FBQ0MsU0FBUixDQUFrQixRQUFsQixDQUFmLEMsQ0FFQTs7QUFDQSxJQUFNQyxzQ0FBc0MsR0FBRyxDQUEvQztBQUNBLElBQU1DLHNDQUFzQyxHQUFHLEVBQS9DO0FBRUEsSUFBTUMsTUFBTSxHQUFHQyw2REFBTSxHQUFHQyxPQUFULENBQWlCLHFCQUFqQixDQUFmO0FBRUEsSUFBSUMsZ0JBQWdCLEdBQUcsQ0FBdkI7QUFFZTtBQUFBOztBQUFBLE1BQUNDLGNBQUQsdUVBQWtCLEVBQWxCO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBLGlDQVNNO0FBQ2pCLFlB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O0FBQ0EsZUFBSy9CLE1BQUwsQ0FBWStCLEtBQVosQ0FBa0IsOENBQWxCO0FBQ0EsZUFBSy9CLE1BQUwsQ0FBWStCLEtBQVosQ0FBa0JBLEtBQWxCO0FBQ0Q7QUFDRjtBQWxYWTs7QUFBQTtBQUFBLElBQWtEcEMsTUFBbEQsc0NBQ0lVLDhDQUFLLENBQUNvRixPQURWLG9DQUdFcEYsOENBSEYsMkNBS1MsQ0FDcEIsMkJBRG9CLENBTFQ7QUFBQSxDQUFmIiwiZmlsZSI6Ii4vc3JjL2pzL3ZpZGVvLWpzLXBsdWdpbi9wbHVnaW4uanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbi8vIFRoaXMgaXMgY29uZmlndXJlZCBhcyBhbiBleHRlcm5hbCBsaWJyYXJ5IGJ5IHdlYnBhY2ssIHNvIHRoZSBjYWxsZXIgbXVzdFxuLy8gcHJvdmlkZSB2aWRlb2pzIG9uIGB3aW5kb3dgXG5pbXBvcnQgdmlkZW9qcyBmcm9tICd2aWRlby5qcyc7XG5cbmltcG9ydCBNcXR0U291cmNlSGFuZGxlciBmcm9tICcuL01xdHRTb3VyY2VIYW5kbGVyJztcbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy4uL3V0aWxzL2xvZ2dlcic7XG5cbmNvbnN0IFBsdWdpbiA9IHZpZGVvanMuZ2V0UGx1Z2luKCdwbHVnaW4nKTtcblxuLy8gTm90ZSB0aGF0IHRoZSB2YWx1ZSBjYW4gbmV2ZXIgYmUgemVybyFcbmNvbnN0IFZJREVPSlNfRVJST1JTX1BMQVlFUl9DVVJSRU5UX1RJTUVfTUlOID0gMTtcbmNvbnN0IFZJREVPSlNfRVJST1JTX1BMQVlFUl9DVVJSRU5UX1RJTUVfTUFYID0gMjA7XG5cbmNvbnN0IGxvZ2dlciA9IExvZ2dlcigpLmZhY3RvcnkoJ2Nsc3AtdmlkZW9qcy1wbHVnaW4nKTtcblxubGV0IHRvdGFsUGx1Z2luQ291bnQgPSAwO1xuXG5leHBvcnQgZGVmYXVsdCAoZGVmYXVsdE9wdGlvbnMgPSB7fSkgPT4gY2xhc3MgQ2xzcFBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XG4gIHN0YXRpYyBWRVJTSU9OID0gdXRpbHMudmVyc2lvbjtcblxuICBzdGF0aWMgdXRpbHMgPSB1dGlscztcblxuICBzdGF0aWMgTUVUUklDX1RZUEVTID0gW1xuICAgICd2aWRlb2pzLmVycm9yUmV0cmllc0NvdW50JyxcbiAgXTtcblxuICBzdGF0aWMgcmVnaXN0ZXIgKCkge1xuICAgIGlmICh2aWRlb2pzLmdldFBsdWdpbih1dGlscy5uYW1lKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3UgY2FuIG9ubHkgcmVnaXN0ZXIgdGhlIGNsc3AgcGx1Z2luIG9uY2UsIGFuZCBpdCBoYXMgYWxyZWFkeSBiZWVuIHJlZ2lzdGVyZWQuJyk7XG4gICAgfVxuXG4gICAgY29uc3Qgc291cmNlSGFuZGxlciA9IE1xdHRTb3VyY2VIYW5kbGVyKCkoJ2h0bWw1Jyk7XG5cbiAgICB2aWRlb2pzLmdldFRlY2goJ0h0bWw1JykucmVnaXN0ZXJTb3VyY2VIYW5kbGVyKHNvdXJjZUhhbmRsZXIsIDApO1xuICAgIHZpZGVvanMucmVnaXN0ZXJQbHVnaW4odXRpbHMubmFtZSwgQ2xzcFBsdWdpbik7XG5cbiAgICBsb2dnZXIuZGVidWcoJ3BsdWdpbiByZWdpc3RlcmVkJyk7XG5cbiAgICByZXR1cm4gQ2xzcFBsdWdpbjtcbiAgfVxuXG4gIHN0YXRpYyBnZXREZWZhdWx0T3B0aW9ucyAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8qKlxuICAgICAgICogVGhlIG51bWJlciBvZiB0aW1lcyB0byByZXRyeSBwbGF5aW5nIHRoZSB2aWRlbyB3aGVuIHRoZXJlIGlzIGFuIGVycm9yXG4gICAgICAgKiB0aGF0IHdlIGtub3cgd2UgY2FuIHJlY292ZXIgZnJvbS5cbiAgICAgICAqXG4gICAgICAgKiBJZiBhIG5lZ2F0aXZlIG51bWJlciBpcyBwYXNzZWQsIHJldHJ5IGluZGVmaW5pdGVseVxuICAgICAgICogSWYgMCBpcyBwYXNzZWQsIG5ldmVyIHJldHJ5XG4gICAgICAgKiBJZiBhIHBvc2l0aXZlIG51bWJlciBpcyBwYXNzZWQsIHJldHJ5IHRoYXQgbWFueSB0aW1lc1xuICAgICAgICovXG4gICAgICBtYXhSZXRyaWVzT25FcnJvcjogLTEsXG4gICAgICB0b3VyRHVyYXRpb246IDEwICogMTAwMCxcbiAgICAgIGVuYWJsZU1ldHJpY3M6IGZhbHNlLFxuICAgICAgdmlkZW9qc0Vycm9yc09wdGlvbnM6IHt9LFxuICAgIH07XG4gIH1cblxuICBjb25zdHJ1Y3RvciAocGxheWVyLCBvcHRpb25zKSB7XG4gICAgc3VwZXIocGxheWVyLCBvcHRpb25zKTtcblxuICAgIHRoaXMuaWQgPSArK3RvdGFsUGx1Z2luQ291bnQ7XG4gICAgdGhpcy5sb2dnZXIgPSBMb2dnZXIoKS5mYWN0b3J5KGBDTFNQIFBsdWdpbiAke3RoaXMuaWR9YCk7XG5cbiAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnY3JlYXRpbmcgcGx1Z2luIGluc3RhbmNlJyk7XG5cbiAgICBjb25zdCBwbGF5ZXJPcHRpb25zID0gcGxheWVyLm9wdGlvbnNfO1xuXG4gICAgdGhpcy5vcHRpb25zID0gdmlkZW9qcy5tZXJnZU9wdGlvbnMoe1xuICAgICAgLi4udGhpcy5jb25zdHJ1Y3Rvci5nZXREZWZhdWx0T3B0aW9ucygpLFxuICAgICAgLi4uZGVmYXVsdE9wdGlvbnMsXG4gICAgICAuLi4ocGxheWVyT3B0aW9ucy5jbHNwIHx8IHt9KSxcbiAgICB9LCBvcHRpb25zKTtcblxuICAgIHRoaXMuX3BsYXllck9wdGlvbnMgPSBwbGF5ZXJPcHRpb25zO1xuICAgIHRoaXMuY3VycmVudFNvdXJjZUluZGV4ID0gMDtcblxuICAgIHBsYXllci5hZGRDbGFzcygndmpzLW1zZS1vdmVyLW1xdHQnKTtcblxuICAgIGlmICh0aGlzLm9wdGlvbnMuY3VzdG9tQ2xhc3MpIHtcbiAgICAgIHBsYXllci5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuY3VzdG9tQ2xhc3MpO1xuICAgIH1cblxuICAgIHRoaXMucmVzZXRFcnJvcnMocGxheWVyKTtcblxuICAgIC8vIEB0b2RvIC0gdGhpcyBlcnJvciBkb2Vzbid0IHdvcmsgb3IgZGlzcGxheSB0aGUgd2F5IGl0J3MgaW50ZW5kZWQgdG9cbiAgICBpZiAoIXV0aWxzLnN1cHBvcnRlZCgpKSB7XG4gICAgICByZXR1cm4gcGxheWVyLmVycm9yKHtcbiAgICAgICAgY29kZTogJ1BMQVlFUl9FUlJfTk9UX0NPTVBBVCcsXG4gICAgICAgIHR5cGU6ICdQTEFZRVJfRVJSX05PVF9DT01QQVQnLFxuICAgICAgICBkaXNtaXNzOiBmYWxzZSxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHRoaXMuYXV0b3BsYXlFbmFibGVkID0gcGxheWVyT3B0aW9ucy5hdXRvcGxheSB8fCBwbGF5ZXIuZ2V0QXR0cmlidXRlKCdhdXRvcGxheScpID09PSAndHJ1ZSc7XG5cbiAgICAvLyBmb3IgZGVidWdnaW5nLi4uXG5cbiAgICAvLyBjb25zdCBvbGRUcmlnZ2VyID0gcGxheWVyLnRyaWdnZXIuYmluZChwbGF5ZXIpO1xuICAgIC8vIHBsYXllci50cmlnZ2VyID0gKGV2ZW50TmFtZSwgLi4uYXJncykgPT4ge1xuICAgIC8vICAgY29uc29sZS5sb2coZXZlbnROYW1lKTtcbiAgICAvLyAgIGNvbnNvbGUubG9nKC4uLmFyZ3MpO1xuICAgIC8vICAgb2xkVHJpZ2dlcihldmVudE5hbWUsIC4uLmFyZ3MpO1xuICAgIC8vIH07XG5cbiAgICAvLyBUcmFjayB0aGUgbnVtYmVyIG9mIHRpbWVzIHdlJ3ZlIHJldHJpZWQgb24gZXJyb3JcbiAgICBwbGF5ZXIuX2Vycm9yUmV0cmllc0NvdW50ID0gMDtcblxuICAgIC8vIE5lZWRlZCB0byBtYWtlIHZpZGVvanMtZXJyb3JzIHRoaW5rIHRoYXQgdGhlIHZpZGVvIGlzIHByb2dyZXNzaW5nLlxuICAgIC8vIElmIHdlIGRvIG5vdCBkbyB0aGlzLCB2aWRlb2pzLWVycm9ycyB3aWxsIGdpdmUgdXMgYSB0aW1lb3V0IGVycm9yLlxuICAgIC8vIFRoZSBudW1iZXIganVzdCBuZWVkcyB0byBjaGFuZ2UsIGl0IGRvZXNuJ3QgbmVlZCB0byBjb250aW51YWxseSBpbmNyZW1lbnRcbiAgICBwbGF5ZXIuX2N1cnJlbnRUaW1lID0gVklERU9KU19FUlJPUlNfUExBWUVSX0NVUlJFTlRfVElNRV9NSU47XG4gICAgcGxheWVyLmN1cnJlbnRUaW1lID0gKCkgPT4ge1xuICAgICAgLy8gRG9uJ3QgbGV0IHRoaXMgbnVtYmVyIGdldCBvdmVyIDIgYmlsbGlvbiFcbiAgICAgIGlmIChwbGF5ZXIuX2N1cnJlbnRUaW1lID4gVklERU9KU19FUlJPUlNfUExBWUVSX0NVUlJFTlRfVElNRV9NQVgpIHtcbiAgICAgICAgcGxheWVyLl9jdXJyZW50VGltZSA9IFZJREVPSlNfRVJST1JTX1BMQVlFUl9DVVJSRU5UX1RJTUVfTUlOO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHBsYXllci5fY3VycmVudFRpbWUrKztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHBsYXllci5fY3VycmVudFRpbWU7XG4gICAgfTtcblxuICAgIC8vIEB0b2RvIC0gYXJlIHdlIG5vdCB1c2luZyB2aWRlb2pzIHByb3Blcmx5P1xuICAgIC8vIEBzZWUgLSBodHRwczovL2dpdGh1Yi5jb20vdmlkZW9qcy92aWRlby5qcy9pc3N1ZXMvNTIzM1xuICAgIC8vIEBzZWUgLSBodHRwczovL2pzZmlkZGxlLm5ldC9rYXJzdGVubGgvOTZocnpwNXcvXG4gICAgLy8gVGhpcyBpcyBjdXJyZW50bHkgbmVlZGVkIGZvciBhdXRvcGxheS5cbiAgICBwbGF5ZXIub24oJ3JlYWR5JywgKCkgPT4ge1xuICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ3RoZSBwbGF5ZXIgaXMgcmVhZHknKTtcblxuICAgICAgaWYgKHRoaXMuYXV0b3BsYXlFbmFibGVkKSB7XG4gICAgICAgIC8vIEV2ZW4gdGhvdWdoIHRoZSBcInJlYWR5XCIgZXZlbnQgaGFzIGZpcmVkLCBpdCdzIG5vdCBhY3R1YWxseSByZWFkeVxuICAgICAgICAvLyB1bnRpbCB0aGUgXCJuZXh0IHRpY2tcIi4uLlxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBwbGF5ZXIucGxheSgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIEB0b2RvIC0gdGhpcyBzZWVtcyBsaWtlIHdlIGFyZW4ndCB1c2luZyB2aWRlb2pzIHByb3Blcmx5XG4gICAgcGxheWVyLm9uKCdlcnJvcicsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ3RoZSBwbGF5ZXIgZW5jb3VudGVyZWQgYW4gZXJyb3InKTtcblxuICAgICAgY29uc3QgcmV0cnkgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdyZXRyeWluZyBkdWUgdG8gZXJyb3InKTtcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLm1heFJldHJpZXNPbkVycm9yID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5tYXhSZXRyaWVzT25FcnJvciA8IDAgfHwgcGxheWVyLl9lcnJvclJldHJpZXNDb3VudCA8PSB0aGlzLm9wdGlvbnMubWF4UmV0cmllc09uRXJyb3IpIHtcbiAgICAgICAgICAvLyBAdG9kbyAtIHdoZW4gY2FuIHdlIHJlc2V0IHRoaXMgdG8gemVybz9cbiAgICAgICAgICBwbGF5ZXIuX2Vycm9yUmV0cmllc0NvdW50Kys7XG5cbiAgICAgICAgICB0aGlzLnJlc2V0RXJyb3JzKHBsYXllcik7XG5cbiAgICAgICAgICBjb25zdCBpb3YgPSB0aGlzLmdldElvdigpO1xuXG4gICAgICAgICAgLy8gQHRvZG8gLSBpbnZlc3RpZ2F0ZSBob3cgdGhpcyBjYW4gYmUgY2FsbGVkIHdoZW4gdGhlIGlvdiBoYXMgYmVlbiBkZXN0cm95ZWRcbiAgICAgICAgICBpZiAoIWlvdiB8fCBpb3YuZGVzdHJveWVkKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmluaXRpYWxpemVJb3YocGxheWVyKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhd2FpdCBpb3YucmVzdGFydCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgY29uc3QgZXJyb3IgPSBwbGF5ZXIuZXJyb3IoKTtcblxuICAgICAgc3dpdGNoIChlcnJvci5jb2RlKSB7XG4gICAgICAgIC8vIHRpbWVvdXQgZXJyb3JcbiAgICAgICAgY2FzZSAtMjoge1xuICAgICAgICAgIHJldHVybiByZXRyeSgpO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICBjYXNlIDU6XG4gICAgICAgIGNhc2UgJ1BMQVlFUl9FUlJfSW92Jzoge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICByZXR1cm4gcmV0cnkoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcGxheWVyLm9uKCdwbGF5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ29uIHBsYXllciBwbGF5IGV2ZW50Jyk7XG5cbiAgICAgIC8vIEB0b2RvIC0gaXQgaXMgcHJvYmFibHkgdW5uZWNlc3NhcnkgdG8gaGF2ZSB0byBjb21wbGV0ZWx5IHRlYXIgZG93biB0aGVcbiAgICAgIC8vIGV4aXN0aW5nIGlvdiBhbmQgY3JlYXRlIGEgbmV3IG9uZS4gIEJ1dCBmb3Igbm93LCB0aGlzIHdvcmtzXG4gICAgICBhd2FpdCB0aGlzLmluaXRpYWxpemVJb3YocGxheWVyKTtcblxuICAgICAgLy8gQHRvZG8gLSB0aGlzIGhpZGVzIGl0IHBlcm1hbmVudGx5LiAgaXQgc2hvdWxkIGJlIHJlLWVuYWJsZWQgd2hlbiB0aGVcbiAgICAgIC8vIHBsYXllciBzdG9wcyBvciBwYXVzZXMuICBUaGlzIHdpbGwgbGlrZWx5IGludm9sdmUgdXNpbmcgc29tZSB2aWRlb2pzXG4gICAgICAvLyBjbGFzc2VzIHJhdGhlciB0aGFuIHVzaW5nIHRoZSAuaGlkZSBtZXRob2RcbiAgICAgIHRoaXMucGxheWVyLmxvYWRpbmdTcGlubmVyLmhpZGUoKTtcbiAgICB9KTtcblxuICAgIC8vIHRoZSBcInBhdXNlXCIgZXZlbnQgZ2V0cyB0cmlnZ2VyZWQgZm9yIHNvbWUgcmVhc29uIGluIHNjZW5hcmlvcyB3aGVyZSBJIGRvXG4gICAgLy8gbm90IGV4cGVjdCBpdCB0byBiZSB0cmlnZ2VyZWQuICBUaGVyZWZvcmUsIHdlIHdpbGwgY3JlYXRlIG91ciBvd24gXCJzdG9wXCJcbiAgICAvLyBldmVudCB0byBiZSBhYmxlIHRvIGJldHRlciBjb250cm9sIHRoZSBwbGF5ZXIgdG8gc3RvcC5cbiAgICBwbGF5ZXIub24oJ3N0b3AnLCAoKSA9PiB7XG4gICAgICB0aGlzLmxvZ2dlci5kZWJ1Zygnb24gcGxheWVyIHN0b3AgZXZlbnQnKTtcblxuICAgICAgdGhpcy5wbGF5ZXIucGF1c2UoKTtcbiAgICAgIHRoaXMuZ2V0SW92KCkuc3RvcCgpO1xuICAgIH0pO1xuXG4gICAgcGxheWVyLm9uKCdkaXNwb3NlJywgKCkgPT4ge1xuICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ29uIGRpc3Bvc2Ugc3RvcCBldmVudCcpO1xuXG4gICAgICB0aGlzLmRlc3Ryb3kocGxheWVyKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHtcbiAgICAgIHZpc2liaWxpdHlDaGFuZ2VFdmVudE5hbWUsXG4gICAgfSA9IHV0aWxzLndpbmRvd1N0YXRlTmFtZXM7XG5cbiAgICBpZiAodmlzaWJpbGl0eUNoYW5nZUV2ZW50TmFtZSkge1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgdmlzaWJpbGl0eUNoYW5nZUV2ZW50TmFtZSxcbiAgICAgICAgdGhpcy5vblZpc2liaWxpdHlDaGFuZ2UsXG4gICAgICAgIGZhbHNlXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIG9uVmlzaWJpbGl0eUNoYW5nZSA9ICgpID0+IHtcbiAgICB0aGlzLmxvZ2dlci5kZWJ1ZygndGFiIHZpc2liaWxpdHkgY2hhbmdlZC4uLicpO1xuXG4gICAgY29uc3Qge1xuICAgICAgaGlkZGVuU3RhdGVOYW1lLFxuICAgIH0gPSB1dGlscy53aW5kb3dTdGF0ZU5hbWVzO1xuXG4gICAgaWYgKGRvY3VtZW50W2hpZGRlblN0YXRlTmFtZV0pIHtcbiAgICAgIC8vIENvbnRpbnVlIHRvIHVwZGF0ZSB0aGUgdGltZSwgd2hpY2ggd2lsbCBwcmV2ZW50IHZpZGVvanMtZXJyb3JzIGZyb21cbiAgICAgIC8vIGlzc3VpbmcgYSB0aW1lb3V0IGVycm9yXG4gICAgICB0aGlzLnZpc2liaWxpdHlDaGFuZ2VJbnRlcnZhbCA9IHNldEludGVydmFsKGFzeW5jICgpID0+IHtcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ3VwZGF0aW5nIHRpbWUuLi4nKTtcblxuICAgICAgICB0aGlzLnBsYXllci50cmlnZ2VyKCd0aW1ldXBkYXRlJyk7XG4gICAgICB9LCAyMDAwKTtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnZpc2liaWxpdHlDaGFuZ2VJbnRlcnZhbCkge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnZpc2liaWxpdHlDaGFuZ2VJbnRlcnZhbCk7XG4gICAgfVxuICB9O1xuXG4gIGdldFZpZGVvanNFcnJvcnNPcHRpb25zICgpIHtcbiAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnZ2V0dGluZyB2aWRlb2pzIGVycm9ycyBvcHRpb25zLi4uJyk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgdGltZW91dDogMTIwICogMTAwMCxcbiAgICAgIGVycm9yczoge1xuICAgICAgICBQTEFZRVJfRVJSX05PVF9DT01QQVQ6IHtcbiAgICAgICAgICB0eXBlOiAnUExBWUVSX0VSUl9OT1RfQ09NUEFUJyxcbiAgICAgICAgICBoZWFkbGluZTogJ1RoaXMgYnJvd3NlciBpcyB1bnN1cHBvcnRlZC4nLFxuICAgICAgICAgIG1lc3NhZ2U6ICdDaHJvbWUgNTIrIGlzIHJlcXVpcmVkLicsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgLi4udGhpcy5vcHRpb25zLnZpZGVvanNFcnJvcnNPcHRpb25zLFxuICAgIH07XG4gIH1cblxuICByZXNldEVycm9ycyAocGxheWVyKSB7XG4gICAgdGhpcy5sb2dnZXIuZGVidWcoJ3Jlc2V0dGluZyBlcnJvcnMuLi4nKTtcblxuICAgIC8vIEBzZWUgLSBodHRwczovL2dpdGh1Yi5jb20vdmlkZW9qcy92aWRlby5qcy9pc3N1ZXMvNDQwMVxuICAgIHBsYXllci5lcnJvcihudWxsKTtcbiAgICBwbGF5ZXIuZXJyb3JEaXNwbGF5LmNsb3NlKCk7XG5cbiAgICAvLyBTdXBwb3J0IGZvciB0aGUgdmlkZW9qcy1lcnJvcnMgbGlicmFyeVxuICAgIC8vIEFmdGVyIGFuIGVycm9yIG9jY3VycywgYW5kIHRoZW4gd2UgY2xlYXIgdGhlIGVycm9yIGFuZCBpdHMgbWVzc2FnZVxuICAgIC8vIGFib3ZlLCB3ZSBtdXN0IHJlLWVuYWJsZSB2aWRlb2pzLWVycm9ycyBvbiB0aGUgcGxheWVyXG4gICAgaWYgKHBsYXllci5lcnJvcnMpIHtcbiAgICAgIHBsYXllci5lcnJvcnModGhpcy5nZXRWaWRlb2pzRXJyb3JzT3B0aW9ucygpKTtcbiAgICB9XG4gIH1cblxuICBnZXRNcXR0SGFuZGxlciAocGxheWVyID0gdGhpcy5wbGF5ZXIpIHtcbiAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnZ2V0dGluZyBtcXR0IGhhbmRsZXIgSW92Li4uJyk7XG5cbiAgICByZXR1cm4gcGxheWVyLnRlY2godHJ1ZSkubXF0dDtcbiAgfVxuXG4gIGdldElvdiAoKSB7XG4gICAgdGhpcy5sb2dnZXIuZGVidWcoJ2dldHRpbmcgSW92Li4uJyk7XG5cbiAgICByZXR1cm4gdGhpcy5nZXRNcXR0SGFuZGxlcigpLmlvdjtcbiAgfVxuXG4gIG9uTXF0dEhhbmRsZXJFcnJvciA9ICgpID0+IHtcbiAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnaGFuZGxpbmcgbXF0dCBlcnJvci4uLicpO1xuXG4gICAgY29uc3QgbXF0dEhhbmRsZXIgPSB0aGlzLmdldE1xdHRIYW5kbGVyKCk7XG5cbiAgICBtcXR0SGFuZGxlci5kZXN0cm95KCk7XG5cbiAgICB0aGlzLnBsYXllci5lcnJvcih7XG4gICAgICAvLyBAdG9kbyAtIGNoYW5nZSB0aGUgY29kZSB0byAnSU5TVUZGSUNJRU5UX1JFU09VUkNFUydcbiAgICAgIGNvZGU6IDAsXG4gICAgICB0eXBlOiAnSU5TVUZGSUNJRU5UX1JFU09VUkNFUycsXG4gICAgICBoZWFkbGluZTogJ0luc3VmZmljaWVudCBSZXNvdXJjZXMnLFxuICAgICAgbWVzc2FnZTogJ1RoZSBjdXJyZW50IGhhcmR3YXJlIGNhbm5vdCBzdXBwb3J0IHRoZSBjdXJyZW50IG51bWJlciBvZiBwbGF5aW5nIHN0cmVhbXMuJyxcbiAgICB9KTtcbiAgfTtcblxuICBhc3luYyBpbml0aWFsaXplSW92IChwbGF5ZXIpIHtcbiAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnaW5pdGlhbGl6aW5nIElvdi4uLicpO1xuXG4gICAgY29uc3QgbXF0dEhhbmRsZXIgPSB0aGlzLmdldE1xdHRIYW5kbGVyKCk7XG5cbiAgICBpZiAoIW1xdHRIYW5kbGVyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFZpZGVvSlMgUGxheWVyICR7cGxheWVyLmlkKCl9IGRvZXMgbm90IGhhdmUgbXF0dCB0ZWNoIWApO1xuICAgIH1cblxuICAgIG1xdHRIYW5kbGVyLm9mZignZXJyb3InLCB0aGlzLm9uTXF0dEhhbmRsZXJFcnJvcik7XG4gICAgbXF0dEhhbmRsZXIub24oJ2Vycm9yJywgdGhpcy5vbk1xdHRIYW5kbGVyRXJyb3IpO1xuXG4gICAgYXdhaXQgbXF0dEhhbmRsZXIuY3JlYXRlSW92KHBsYXllciwge1xuICAgICAgZW5hYmxlTWV0cmljczogdGhpcy5vcHRpb25zLmVuYWJsZU1ldHJpY3MsXG4gICAgICBkZWZhdWx0Tm9uU3NsUG9ydDogdGhpcy5vcHRpb25zLmRlZmF1bHROb25Tc2xQb3J0LFxuICAgICAgZGVmYXVsdFNzbFBvcnQ6IHRoaXMub3B0aW9ucy5kZWZhdWx0U3NsUG9ydCxcbiAgICB9KTtcblxuICAgIGNvbnN0IGlvdlBsYXllciA9IHRoaXMuZ2V0SW92KCk7XG5cbiAgICB0aGlzLmxvZ2dlci5kZWJ1ZygncmVzZ2lzdGVyaW5nIFwiZmlyc3RGcmFtZVNob3duXCIgZXZlbnQnKTtcbiAgICBpb3ZQbGF5ZXIub24oJ2ZpcnN0RnJhbWVTaG93bicsICgpID0+IHtcbiAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdhYm91dCB0byB0cmlnZ2VyIFwiZmlyc3RGcmFtZVNob3duXCIgZXZlbnQgb24gdmlkZW9qcyBwbGF5ZXInKTtcbiAgICAgIHBsYXllci50cmlnZ2VyKCdmaXJzdEZyYW1lU2hvd24nKTtcbiAgICB9KTtcblxuICAgIGF3YWl0IGlvdlBsYXllci5yZXN0YXJ0KCk7XG4gIH1cblxuICBkZXN0cm95IChwbGF5ZXIgPSB0aGlzLnBsYXllcikge1xuICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdkZXN0cm95aW5nLi4uJyk7XG5cbiAgICAvLyBOb3RlIHRoYXQgd2hlbiB0aGUgJ2Rpc3Bvc2UnIGV2ZW50IGlzIGZpcmVkLCB0aGlzLnBsYXllciBubyBsb25nZXIgZXhpc3RzXG4gICAgaWYgKCFwbGF5ZXIpIHtcbiAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ1VuYWJsZSB0byBkZXN0cm95IENMU1AgUGx1Z2luIHdpdGhvdXQgdGhlIHBsYXllciEnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5kZXN0cm95ZWQpIHtcbiAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdUcmllZCB0byBkZXN0cm95IHdoZW4gYWxyZWFkeSBkZXN0cm95ZWQnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmRlc3Ryb3llZCA9IHRydWU7XG5cbiAgICAvLyBAdG9kbyAtIGRlc3Ryb3kgdGhlIHRlY2gsIHNpbmNlIGl0IGlzIGEgcGxheWVyLXNwZWNpZmljIGluc3RhbmNlXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG1xdHRIYW5kbGVyID0gdGhpcy5nZXRNcXR0SGFuZGxlcihwbGF5ZXIpO1xuXG4gICAgICBtcXR0SGFuZGxlci5kZXN0cm95KCk7XG4gICAgICBtcXR0SGFuZGxlci5vZmYoJ2Vycm9yJywgdGhpcy5vbk1xdHRIYW5kbGVyRXJyb3IpO1xuXG4gICAgICBjb25zdCB7XG4gICAgICAgIHZpc2liaWxpdHlDaGFuZ2VFdmVudE5hbWUsXG4gICAgICB9ID0gdXRpbHMud2luZG93U3RhdGVOYW1lcztcblxuICAgICAgaWYgKHZpc2liaWxpdHlDaGFuZ2VFdmVudE5hbWUpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ3JlbW92aW5nIG9uVmlzaWJpbGl0eUNoYW5nZSBsaXN0ZW5lci4uLicpO1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHZpc2liaWxpdHlDaGFuZ2VFdmVudE5hbWUsIHRoaXMub25WaXNpYmlsaXR5Q2hhbmdlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMudmlzaWJpbGl0eUNoYW5nZUludGVydmFsKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdyZW1vdmluZyB2aXNpYmlsaXR5Q2hhbmdlSW50ZXJ2YWwuLi4nKTtcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnZpc2liaWxpdHlDaGFuZ2VJbnRlcnZhbCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3BsYXllck9wdGlvbnMgPSBudWxsO1xuICAgICAgdGhpcy5jdXJyZW50U291cmNlSW5kZXggPSBudWxsO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIEB0b2RvIC0gbmVlZCB0byBpbXByb3ZlIGlvdiBkZXN0cm95IGxvZ2ljLi4uXG4gICAgICB0aGlzLmxvZ2dlci5lcnJvcignRXJyb3Igd2hpbGUgZGVzdHJveWluZyBjbHNwIHBsdWdpbiBpbnN0YW5jZSEnKTtcbiAgICAgIHRoaXMubG9nZ2VyLmVycm9yKGVycm9yKTtcbiAgICB9XG4gIH1cbn07XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/video-js-plugin/plugin.js\n");

/***/ }),

/***/ "./src/styles/videojs-mse-over-clsp.scss":
/*!***********************************************!*\
  !*** ./src/styles/videojs-mse-over-clsp.scss ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("// removed by extract-text-webpack-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3R5bGVzL3ZpZGVvanMtbXNlLW92ZXItY2xzcC5zY3NzPzQyODIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiLi9zcmMvc3R5bGVzL3ZpZGVvanMtbXNlLW92ZXItY2xzcC5zY3NzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/styles/videojs-mse-over-clsp.scss\n");

/***/ }),

/***/ 0:
/*!***********************************************!*\
  !*** multi ./src/js/video-js-plugin/index.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! /home/user/projects/clsp/clsp-videojs-plugin/src/js/video-js-plugin/index.js */"./src/js/video-js-plugin/index.js");


/***/ }),

/***/ "video.js":
/*!**************************!*\
  !*** external "videojs" ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = videojs;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJ2aWRlb2pzXCI/YTY1NSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJ2aWRlby5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gdmlkZW9qczsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///video.js\n");

/***/ })

/******/ });